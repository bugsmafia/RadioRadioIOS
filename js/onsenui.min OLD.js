"undefined"==typeof WeakMap&&!function(){var a=Object.defineProperty,b=Date.now()%1e9,c=function(){this.name="__st"+(1e9*Math.random()>>>0)+(b++ +"__")};c.prototype={set:function(b,c){var d=b[this.name];return d&&d[0]===b?d[1]=c:a(b,this.name,{value:[b,c],writable:!0}),this},get:function(a){var b;return(b=a[this.name])&&b[0]===a?b[1]:void 0},delete:function(a){var b=a[this.name];return!(!b||b[0]!==a)&&(b[0]=b[1]=void 0,!0)},has:function(a){var b=a[this.name];return!!b&&b[0]===a}},window.WeakMap=c}(),function(a){function h(a){g.push(a),f||(f=!0,c(j))}function i(a){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||a}function j(){f=!1;var a=g;g=[],a.sort(function(a,b){return a.uid_-b.uid_});var b=!1;a.forEach(function(a){var c=a.takeRecords();k(a),c.length&&(a.callback_(c,a),b=!0)}),b&&j()}function k(a){a.nodes_.forEach(function(c){var d=b.get(c);d&&d.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})}function l(a,c){for(var d=a;d;d=d.parentNode){var e=b.get(d);if(e)for(var f=0;f<e.length;f++){var g=e[f],h=g.options;if(d===a||h.subtree){var i=c(h);i&&g.enqueue(i)}}}}function n(a){this.callback_=a,this.nodes_=[],this.records_=[],this.uid_=++m}function o(a,b){this.type=a,this.target=b,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function p(a){var b=new o(a.type,a.target);return b.addedNodes=a.addedNodes.slice(),b.removedNodes=a.removedNodes.slice(),b.previousSibling=a.previousSibling,b.nextSibling=a.nextSibling,b.attributeName=a.attributeName,b.attributeNamespace=a.attributeNamespace,b.oldValue=a.oldValue,b}function s(a,b){return q=new o(a,b)}function t(a){return r?r:(r=p(q),r.oldValue=a,r)}function u(){q=r=void 0}function v(a){return a===r||a===q}function w(a,b){return a===b?a:r&&v(a)?r:null}function x(a,b,c){this.observer=a,this.target=b,this.options=c,this.transientObservedNodes=[]}var c,b=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))c=setTimeout;else if(window.setImmediate)c=window.setImmediate;else{var d=[],e=String(Math.random());window.addEventListener("message",function(a){if(a.data===e){var b=d;d=[],b.forEach(function(a){a()})}}),c=function(a){d.push(a),window.postMessage(e,"*")}}var f=!1,g=[],m=0;n.prototype={observe:function(a,c){if(a=i(a),!c.childList&&!c.attributes&&!c.characterData||c.attributeOldValue&&!c.attributes||c.attributeFilter&&c.attributeFilter.length&&!c.attributes||c.characterDataOldValue&&!c.characterData)throw new SyntaxError;var d=b.get(a);d||b.set(a,d=[]);for(var e,f=0;f<d.length;f++)if(d[f].observer===this){e=d[f],e.removeListeners(),e.options=c;break}e||(e=new x(this,a,c),d.push(e),this.nodes_.push(a)),e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){for(var c=b.get(a),d=0;d<c.length;d++){var e=c[d];if(e.observer===this){e.removeListeners(),c.splice(d,1);break}}},this),this.records_=[]},takeRecords:function(){var a=this.records_;return this.records_=[],a}};var q,r;x.prototype={enqueue:function(a){var b=this.observer.records_,c=b.length;if(b.length>0){var d=b[c-1],e=w(d,a);if(e)return void(b[c-1]=e)}else h(this.observer);b[c]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",this,!0),b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.addEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&a.removeEventListener("DOMAttrModified",this,!0),b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.removeEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a),this.transientObservedNodes.push(a);var c=b.get(a);c||b.set(a,c=[]),c.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[],a.forEach(function(a){this.removeListeners_(a);for(var c=b.get(a),d=0;d<c.length;d++)if(c[d]===this){c.splice(d,1);break}},this)},handleEvent:function(a){switch(a.stopImmediatePropagation(),a.type){case"DOMAttrModified":var b=a.attrName,c=a.relatedNode.namespaceURI,d=a.target,e=new s("attributes",d);e.attributeName=b,e.attributeNamespace=c;var f=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;l(d,function(a){if(a.attributes&&(!a.attributeFilter||!a.attributeFilter.length||a.attributeFilter.indexOf(b)!==-1||a.attributeFilter.indexOf(c)!==-1))return a.attributeOldValue?t(f):e});break;case"DOMCharacterDataModified":var d=a.target,e=s("characterData",d),f=a.prevValue;l(d,function(a){if(a.characterData)return a.characterDataOldValue?t(f):e});break;case"DOMNodeRemoved":this.addTransientObserver(a.target);case"DOMNodeInserted":var h,i,g=a.target;"DOMNodeInserted"===a.type?(h=[g],i=[]):(h=[],i=[g]);var j=g.previousSibling,k=g.nextSibling,e=s("childList",a.target.parentNode);e.addedNodes=h,e.removedNodes=i,e.previousSibling=j,e.nextSibling=k,l(a.relatedNode,function(a){if(a.childList)return e})}u()}},a.JsMutationObserver=n,a.MutationObserver||(a.MutationObserver=n)}(this),window.CustomElements=window.CustomElements||{flags:{}},function(a){var b=a.flags,c=[],d=function(a){c.push(a)},e=function(){c.forEach(function(b){b(a)})};a.addModule=d,a.initializeModules=e,a.hasNative=Boolean(document.registerElement),a.useNative=!b.register&&a.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(a){function c(a,b){d(a,function(a){return!!b(a)||void e(a,b)}),e(a,b)}function d(a,b,c){var e=a.firstElementChild;if(!e)for(e=a.firstChild;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;for(;e;)b(e,c)!==!0&&d(e,b,c),e=e.nextElementSibling;return null}function e(a,b){for(var d=a.shadowRoot;d;)c(d,b),d=d.olderShadowRoot}function f(a,b){g(a,b,[])}function g(a,c,d){if(a=wrap(a),!(d.indexOf(a)>=0)){d.push(a);for(var i,e=a.querySelectorAll("link[rel="+b+"]"),f=0,h=e.length;f<h&&(i=e[f]);f++)i.import&&g(i.import,c,d);c(a)}}var b=window.HTMLImports?HTMLImports.IMPORT_LINK_TYPE:"none";a.forDocumentTree=f,a.forSubtree=c}),window.CustomElements.addModule(function(a){function e(a){return f(a)||g(a)}function f(b){return!!a.upgrade(b)||void n(b)}function g(a){c(a,function(a){if(f(a))return!0})}function h(a){n(a),s(a)&&c(a,function(a){n(a)})}function l(a){k.push(a),j||(j=!0,setTimeout(m))}function m(){j=!1;for(var d,a=k,b=0,c=a.length;b<c&&(d=a[b]);b++)d();k=[]}function n(a){i?l(function(){o(a)}):o(a)}function o(a){a.__upgraded__&&(a.attachedCallback||a.detachedCallback)&&!a.__attached&&s(a)&&(a.__attached=!0,a.attachedCallback&&a.attachedCallback())}function p(a){q(a),c(a,function(a){q(a)})}function q(a){i?l(function(){r(a)}):r(a)}function r(a){a.__upgraded__&&(a.attachedCallback||a.detachedCallback)&&a.__attached&&!s(a)&&(a.__attached=!1,a.detachedCallback&&a.detachedCallback())}function s(a){for(var b=a,c=wrap(document);b;){if(b==c)return!0;b=b.parentNode||b.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&b.host}}function t(a){if(a.shadowRoot&&!a.shadowRoot.__watched){b.dom&&console.log("watching shadow-root for: ",a.localName);for(var c=a.shadowRoot;c;)x(c),c=c.olderShadowRoot}}function u(a){if(b.dom){var c=a[0];if(c&&"childList"===c.type&&c.addedNodes&&c.addedNodes){for(var d=c.addedNodes[0];d&&d!==document&&!d.host;)d=d.parentNode;var f=d&&(d.URL||d._URL||d.host&&d.host.localName)||"";f=f.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",a.length,f||"")}a.forEach(function(a){"childList"===a.type&&(w(a.addedNodes,function(a){a.localName&&e(a)}),w(a.removedNodes,function(a){a.localName&&p(a)}))}),b.dom&&console.groupEnd()}function v(a){for(a=wrap(a),a||(a=wrap(document));a.parentNode;)a=a.parentNode;var b=a.__observer;b&&(u(b.takeRecords()),m())}function x(a){if(!a.__observer){var b=new MutationObserver(u);b.observe(a,{childList:!0,subtree:!0}),a.__observer=b}}function y(a){a=wrap(a),b.dom&&console.group("upgradeDocument: ",a.baseURI.split("/").pop()),e(a),x(a),b.dom&&console.groupEnd()}function z(a){d(a,y)}var b=a.flags,c=a.forSubtree,d=a.forDocumentTree,i=!window.MutationObserver||window.MutationObserver===window.JsMutationObserver;a.hasPolyfillMutations=i;var j=!1,k=[],w=Array.prototype.forEach.call.bind(Array.prototype.forEach),A=Element.prototype.createShadowRoot;A&&(Element.prototype.createShadowRoot=function(){var a=A.call(this);return CustomElements.watchShadow(this),a}),a.watchShadow=t,a.upgradeDocumentTree=z,a.upgradeSubtree=g,a.upgradeAll=e,a.attachedNode=h,a.takeRecords=v}),window.CustomElements.addModule(function(a){function c(b){if(!b.__upgraded__&&b.nodeType===Node.ELEMENT_NODE){var c=b.getAttribute("is"),e=a.getRegisteredDefinition(c||b.localName);if(e){if(c&&e.tag==b.localName)return d(b,e);if(!c&&!e.extends)return d(b,e)}}}function d(c,d){return b.upgrade&&console.group("upgrade:",c.localName),d.is&&c.setAttribute("is",d.is),e(c,d),c.__upgraded__=!0,g(c),a.attachedNode(c),a.upgradeSubtree(c),b.upgrade&&console.groupEnd(),c}function e(a,b){Object.__proto__?a.__proto__=b.prototype:(f(a,b.prototype,b.native),a.__proto__=b.prototype)}function f(a,b,c){for(var d={},e=b;e!==c&&e!==HTMLElement.prototype;){for(var h,f=Object.getOwnPropertyNames(e),g=0;h=f[g];g++)d[h]||(Object.defineProperty(a,h,Object.getOwnPropertyDescriptor(e,h)),d[h]=1);e=Object.getPrototypeOf(e)}}function g(a){a.createdCallback&&a.createdCallback()}var b=a.flags;a.upgrade=c,a.upgradeWithDefinition=d,a.implementPrototype=e}),window.CustomElements.addModule(function(a){function h(b,d){var e=d||{};if(!b)throw new Error("document.registerElement: first argument `name` must not be empty");if(b.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(b)+"'.");if(k(b))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(b)+"'. The type name is invalid.");if(r(b))throw new Error("DuplicateDefinitionError: a type with name '"+String(b)+"' is already registered");return e.prototype||(e.prototype=Object.create(HTMLElement.prototype)),e.__name=b.toLowerCase(),e.lifecycle=e.lifecycle||{},e.ancestry=m(e.extends),n(e),o(e),i(e.prototype),s(e.__name,e),e.ctor=t(e),e.ctor.prototype=e.prototype,e.prototype.constructor=e.ctor,a.ready&&c(document),e.ctor}function i(a){if(!a.setAttribute._polyfilled){var b=a.setAttribute;a.setAttribute=function(a,c){j.call(this,a,c,b)};var c=a.removeAttribute;a.removeAttribute=function(a){j.call(this,a,null,c)},a.setAttribute._polyfilled=!0}}function j(a,b,c){a=a.toLowerCase();var d=this.getAttribute(a);c.apply(this,arguments);var e=this.getAttribute(a);this.attributeChangedCallback&&e!==d&&this.attributeChangedCallback(a,d,e)}function k(a){for(var b=0;b<l.length;b++)if(a===l[b])return!0}function m(a){var b=r(a);return b?m(b.extends).concat([b]):[]}function n(a){for(var d,b=a.extends,c=0;d=a.ancestry[c];c++)b=d.is&&d.tag;a.tag=b||a.__name,b&&(a.is=a.__name)}function o(a){if(!Object.__proto__){var b=HTMLElement.prototype;if(a.is){var c=document.createElement(a.tag),d=Object.getPrototypeOf(c);d===a.prototype&&(b=d)}for(var f,e=a.prototype;e&&e!==b;)f=Object.getPrototypeOf(e),e.__proto__=f,e=f;a.native=b}}function p(a){return e(x(a.tag),a)}function r(a){if(a)return q[a.toLowerCase()]}function s(a,b){q[a]=b}function t(a){return function(){return p(a)}}function v(a,b,c){return a===u?w(b,c):y(a,b)}function w(a,b){a&&(a=a.toLowerCase()),b&&(b=b.toLowerCase());var c=r(b||a);if(c){if(a==c.tag&&b==c.is)return new c.ctor;if(!b&&!c.is)return new c.ctor}var d;return b?(d=w(a),d.setAttribute("is",b),d):(d=x(a),a.indexOf("-")>=0&&f(d,HTMLElement),d)}function A(a,b){var c=a[b];a[b]=function(){var a=c.apply(this,arguments);return d(a),a}}var z,b=a.isIE11OrOlder,c=a.upgradeDocumentTree,d=a.upgradeAll,e=a.upgradeWithDefinition,f=a.implementPrototype,g=a.useNative,l=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],q={},u="http://www.w3.org/1999/xhtml",x=document.createElement.bind(document),y=document.createElementNS.bind(document);z=Object.__proto__||g?function(a,b){return a instanceof b}:function(a,b){for(var c=a;c;){if(c===b.prototype)return!0;c=c.__proto__}return!1},A(Node.prototype,"cloneNode"),A(document,"importNode"),b&&!function(){var a=document.importNode;document.importNode=function(){var b=a.apply(document,arguments);if(b.nodeType==b.DOCUMENT_FRAGMENT_NODE){var c=document.createDocumentFragment();return c.appendChild(b),c}return b}}(),document.registerElement=h,document.createElement=w,document.createElementNS=v,a.registry=q,a.instanceof=z,a.reservedTagList=l,a.getRegisteredDefinition=r,document.register=document.registerElement}),function(a){function g(){f(wrap(document)),window.HTMLImports&&(HTMLImports.__importsParsingHook=function(a){f(wrap(a.import))}),CustomElements.ready=!0,setTimeout(function(){CustomElements.readyTime=Date.now(),window.HTMLImports&&(CustomElements.elapsed=CustomElements.readyTime-HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})}var b=a.useNative,c=a.initializeModules,d=/Trident/.test(navigator.userAgent);if(b){var e=function(){};a.watchShadow=e,a.upgrade=e,a.upgradeAll=e,a.upgradeDocumentTree=e,a.upgradeSubtree=e,a.takeRecords=e,a.instanceof=function(a,b){return a instanceof b}}else c();var f=a.upgradeDocumentTree;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(a){return a}),d&&"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(a,b){b=b||{};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,Boolean(b.bubbles),Boolean(b.cancelable),b.detail),c},window.CustomEvent.prototype=window.Event.prototype),"complete"===document.readyState||a.flags.eager)g();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var h=window.HTMLImports&&!HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(h,g)}else g();a.isIE11OrOlder=d}(window.CustomElements),window.CustomEvent||!function(){var a;a=function(a,b){var c;return b=b||{bubbles:!1,cancelable:!1,detail:void 0},c=document.createEvent("CustomEvent"),c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c},a.prototype=window.Event.prototype,window.CustomEvent=a}(),"undefined"==typeof WeakMap&&!function(){var a=Object.defineProperty,b=Date.now()%1e9,c=function(){this.name="__st"+(1e9*Math.random()>>>0)+(b++ +"__")};c.prototype={set:function(b,c){var d=b[this.name];return d&&d[0]===b?d[1]=c:a(b,this.name,{value:[b,c],writable:!0}),this},get:function(a){var b;return(b=a[this.name])&&b[0]===a?b[1]:void 0},delete:function(a){var b=a[this.name];return!(!b||b[0]!==a)&&(b[0]=b[1]=void 0,!0)},has:function(a){var b=a[this.name];return!!b&&b[0]===a}},window.WeakMap=c}(),function(a){function h(a){g.push(a),f||(f=!0,c(j))}function i(a){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||a}function j(){f=!1;var a=g;g=[],a.sort(function(a,b){return a.uid_-b.uid_});var b=!1;a.forEach(function(a){var c=a.takeRecords();k(a),c.length&&(a.callback_(c,a),b=!0)}),b&&j()}function k(a){a.nodes_.forEach(function(c){var d=b.get(c);d&&d.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})}function l(a,c){for(var d=a;d;d=d.parentNode){var e=b.get(d);if(e)for(var f=0;f<e.length;f++){var g=e[f],h=g.options;if(d===a||h.subtree){var i=c(h);i&&g.enqueue(i)}}}}function n(a){this.callback_=a,this.nodes_=[],this.records_=[],this.uid_=++m}function o(a,b){this.type=a,this.target=b,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function p(a){var b=new o(a.type,a.target);return b.addedNodes=a.addedNodes.slice(),b.removedNodes=a.removedNodes.slice(),b.previousSibling=a.previousSibling,b.nextSibling=a.nextSibling,b.attributeName=a.attributeName,b.attributeNamespace=a.attributeNamespace,b.oldValue=a.oldValue,b}function s(a,b){return q=new o(a,b)}function t(a){return r?r:(r=p(q),r.oldValue=a,r)}function u(){q=r=void 0}function v(a){return a===r||a===q}function w(a,b){return a===b?a:r&&v(a)?r:null}function x(a,b,c){this.observer=a,this.target=b,this.options=c,this.transientObservedNodes=[]}if(!a.JsMutationObserver){var c,b=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))c=setTimeout;else if(window.setImmediate)c=window.setImmediate;else{var d=[],e=String(Math.random());window.addEventListener("message",function(a){if(a.data===e){var b=d;d=[],b.forEach(function(a){a()})}}),c=function(a){d.push(a),window.postMessage(e,"*")}}var f=!1,g=[],m=0;n.prototype={observe:function(a,c){if(a=i(a),!c.childList&&!c.attributes&&!c.characterData||c.attributeOldValue&&!c.attributes||c.attributeFilter&&c.attributeFilter.length&&!c.attributes||c.characterDataOldValue&&!c.characterData)throw new SyntaxError;var d=b.get(a);d||b.set(a,d=[]);for(var e,f=0;f<d.length;f++)if(d[f].observer===this){e=d[f],e.removeListeners(),e.options=c;break}e||(e=new x(this,a,c),d.push(e),this.nodes_.push(a)),e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){for(var c=b.get(a),d=0;d<c.length;d++){var e=c[d];if(e.observer===this){e.removeListeners(),c.splice(d,1);break}}},this),this.records_=[]},takeRecords:function(){var a=this.records_;return this.records_=[],a}};var q,r;x.prototype={enqueue:function(a){var b=this.observer.records_,c=b.length;if(b.length>0){var d=b[c-1],e=w(d,a);if(e)return void(b[c-1]=e)}else h(this.observer);b[c]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",this,!0),b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.addEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&a.removeEventListener("DOMAttrModified",this,!0),b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.removeEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a),this.transientObservedNodes.push(a);var c=b.get(a);c||b.set(a,c=[]),c.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[],a.forEach(function(a){this.removeListeners_(a);for(var c=b.get(a),d=0;d<c.length;d++)if(c[d]===this){c.splice(d,1);break}},this)},handleEvent:function(a){switch(a.stopImmediatePropagation(),a.type){case"DOMAttrModified":var b=a.attrName,c=a.relatedNode.namespaceURI,d=a.target,e=new s("attributes",d);e.attributeName=b,e.attributeNamespace=c;var f=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;l(d,function(a){if(a.attributes&&(!a.attributeFilter||!a.attributeFilter.length||a.attributeFilter.indexOf(b)!==-1||a.attributeFilter.indexOf(c)!==-1))return a.attributeOldValue?t(f):e});break;case"DOMCharacterDataModified":var d=a.target,e=s("characterData",d),f=a.prevValue;l(d,function(a){if(a.characterData)return a.characterDataOldValue?t(f):e});break;case"DOMNodeRemoved":this.addTransientObserver(a.target);case"DOMNodeInserted":var h,i,g=a.target;"DOMNodeInserted"===a.type?(h=[g],i=[]):(h=[],i=[g]);var j=g.previousSibling,k=g.nextSibling,e=s("childList",a.target.parentNode);e.addedNodes=h,e.removedNodes=i,e.previousSibling=j,e.nextSibling=k,l(a.relatedNode,function(a){if(a.childList)return e})}u()}},a.JsMutationObserver=n,a.MutationObserver||(a.MutationObserver=n,n._isPolyfilled=!0)}}(self),window.animit=function(){"use strict";var a=1.4,b={};b.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},b.buildTransitionValue=function(a){a.property=a.property||"all",a.duration=a.duration||.4,a.timing=a.timing||"linear";var b=a.property.split(/ +/);return b.map(function(b){return b+" "+a.duration+"s "+a.timing}).join(", ")},b.onceOnTransitionEnd=function(a,c){if(!a)return function(){};var d=function(b){a==b.target&&(b.stopPropagation(),e(),c())},e=function(){b._transitionEndEvents.forEach(function(b){a.removeEventListener(b,d,!1)})};return b._transitionEndEvents.forEach(function(b){a.addEventListener(b,d,!1)}),e},b._transitionEndEvents=function(){return"ontransitionend"in window?["transitionend"]:"onwebkittransitionend"in window?["webkitTransitionEnd"]:"webkit"===b.vendorPrefix||"o"===b.vendorPrefix||"moz"===b.vendorPrefix||"ms"===b.vendorPrefix?[b.vendorPrefix+"TransitionEnd","transitionend"]:[]}(),b._cssPropertyDict=function(){for(var a=window.getComputedStyle(document.documentElement,""),b={},c="A".charCodeAt(0),d="z".charCodeAt(0),e=function(a){return a.substr(1).toUpperCase()},f=0;f<a.length;f++){var g=a[f].replace(/^[\-]+/,"").replace(/[\-][a-z]/g,e).replace(/^moz/,"Moz");c<=g.charCodeAt(0)&&d>=g.charCodeAt(0)&&"cssText"!==g&&"parentText"!==g&&(b[g]=!0)}return b}(),b.hasCssProperty=function(a){return a in b._cssPropertyDict},b.vendorPrefix=function(){var a=window.getComputedStyle(document.documentElement,""),b=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1];return b}(),b.forceLayoutAtOnce=function(a,b){this.batchImmediate(function(){a.forEach(function(a){a.offsetHeight}),b()})},b.batchImmediate=function(){var a=[];return function(b){0===a.length&&setImmediate(function(){var b=a.slice(0);a=[],b.forEach(function(a){a()})}),a.push(b)}}(),b.batchAnimationFrame=function(){var a=[],b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1e3/60)};return function(c){0===a.length&&b(function(){var b=a.slice(0);a=[],b.forEach(function(a){a()})}),console.log(c),a.push(c)}}(),b.transitionPropertyName=function(){if(b.hasCssProperty("transitionDuration"))return"transition";if(b.hasCssProperty(b.vendorPrefix+"TransitionDuration"))return b.vendorPrefix+"Transition";throw new Error("Invalid state")}();var c=function(a){if(!(this instanceof c))return new c(a);if(a instanceof HTMLElement)this.elements=[a];else{if("[object Array]"!==Object.prototype.toString.call(a))throw new Error("First argument must be an array or an instance of HTMLElement.");this.elements=a}this.transitionQueue=[],this.lastStyleAttributeDict=[]};return c.prototype={transitionQueue:void 0,elements:void 0,play:function(a){return"function"==typeof a&&this.transitionQueue.push(function(b){a(),b()}),this.startAnimation(),this},queue:function(a,b){var d=this.transitionQueue;if(a&&b&&(b.css=a,a=new c.Transition(b)),a instanceof Function||a instanceof c.Transition||(a=a.css?new c.Transition(a):new c.Transition({css:a})),a instanceof Function)d.push(a);else{if(!(a instanceof c.Transition))throw new Error("Invalid arguments");d.push(a.build())}return this},wait:function(a){return a>0&&this.transitionQueue.push(function(b){setTimeout(b,1e3*a)}),this},saveStyle:function(){return this.transitionQueue.push(function(a){this.elements.forEach(function(a,b){for(var c=this.lastStyleAttributeDict[b]={},d=0;d<a.style.length;d++)c[a.style[d]]=a.style[a.style[d]]}.bind(this)),a()}.bind(this)),this},restoreStyle:function(c){function g(){d.elements.forEach(function(a,b){a.style[e]="none";var c=d.lastStyleAttributeDict[b];if(!c)throw new Error("restoreStyle(): The style is not saved. Invoke saveStyle() before.");d.lastStyleAttributeDict[b]=void 0;for(var f=0,g="";f<a.style.length;f++)g=a.style[f],"undefined"==typeof c[a.style[f]]&&(c[a.style[f]]="");Object.keys(c).forEach(function(b){a.style[b]=c[b]})})}c=c||{};var d=this;if(c.transition&&!c.duration)throw new Error('"options.duration" is required when "options.transition" is enabled.');var e=b.transitionPropertyName;if(c.transition||c.duration&&c.duration>0){var f=c.transition||"all "+c.duration+"s "+(c.timing||"linear");this.transitionQueue.push(function(g){var i,h=this.elements,j=function(){h.forEach(function(a){a.style[e]=""})},k=b.onceOnTransitionEnd(h[0],function(){clearTimeout(i),j(),g()});i=setTimeout(function(){k(),j(),g()},1e3*c.duration*a),h.forEach(function(a,b){var c=d.lastStyleAttributeDict[b];if(!c)throw new Error("restoreStyle(): The style is not saved. Invoke saveStyle() before.");d.lastStyleAttributeDict[b]=void 0;for(var g,h=0,i=a.style.length;h<i;h++)g=a.style[h],void 0===c[g]&&(c[g]="");a.style[e]=f,Object.keys(c).forEach(function(b){b!==e&&(a.style[b]=c[b])}),a.style[e]=f})})}else this.transitionQueue.push(function(a){g(),a()});return this},startAnimation:function(){return this._dequeueTransition(),this},_dequeueTransition:function(){var a=this.transitionQueue.shift();if(this._currentTransition)throw new Error("Current transition exists.");this._currentTransition=a;var b=this,c=!1,d=function(){if(c)throw new Error("Invalid state: This callback is called twice.");c=!0,b._currentTransition=void 0,b._dequeueTransition()};a&&a.call(this,d)}},c.runAll=function(){for(var a=0;a<arguments.length;a++)arguments[a].play()},c.Transition=function(a){this.options=a||{},this.options.duration=this.options.duration||0,this.options.timing=this.options.timing||"linear",this.options.css=this.options.css||{},this.options.property=this.options.property||"all"},c.Transition.prototype={build:function(){function f(a){var c={};return Object.keys(a).forEach(function(d){var e=a[d];if(b.hasCssProperty(d))return void(c[d]=e);var f=b.vendorPrefix+b.capitalize(d);b.hasCssProperty(f)?c[f]=e:(c[f]=e,c[d]=e)}),c}if(0===Object.keys(this.options.css).length)throw new Error("options.css is required.");var c=f(this.options.css);if(this.options.duration>0){var d=b.buildTransitionValue(this.options),e=this;return function(f){var i,g=this.elements,h=1e3*e.options.duration*a,j=b.onceOnTransitionEnd(g[0],function(){clearTimeout(i),f()});i=setTimeout(function(){j(),f()},h),g.forEach(function(a){a.style[b.transitionPropertyName]=d,Object.keys(c).forEach(function(b){a.style[b]=c[b]})})}}if(this.options.duration<=0)return function(a){var d=this.elements;d.forEach(function(a){a.style[b.transitionPropertyName]="",Object.keys(c).forEach(function(b){a.style[b]=c[b]})}),d.length>0?b.forceLayoutAtOnce(d,function(){b.batchAnimationFrame(a)}):b.batchAnimationFrame(a)}}},c}(),function(){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}(),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?!function(){"use strict";var a=document.createElement("_");if(a.classList.add("c1","c2"),!a.classList.contains("c2")){var b=function(a){var b=DOMTokenList.prototype[a];DOMTokenList.prototype[a]=function(a){var c,d=arguments.length;for(c=0;c<d;c++)a=arguments[c],b.call(this,a)}};b("add"),b("remove")}if(a.classList.toggle("c3",!1),a.classList.contains("c3")){var c=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&!this.contains(a)==!b?b:c.call(this,a)}}a=null}():!function(a){"use strict";if("Element"in a){var b="classList",c="prototype",d=a.Element[c],e=Object,f=String[c].trim||function(){return this.replace(/^\s+|\s+$/g,"")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(""===b)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return g.call(a,b)},j=function(a){for(var b=f.call(a.getAttribute("class")||""),c=b?b.split(/\s+/):[],d=0,e=c.length;d<e;d++)this.push(c[d]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+="",i(this,a)!==-1},k.add=function(){var d,a=arguments,b=0,c=a.length,e=!1;do d=a[b]+"",i(this,d)===-1&&(this.push(d),e=!0);while(++b<c);e&&this._updateClassName()},k.remove=function(){var d,f,a=arguments,b=0,c=a.length,e=!1;do for(d=a[b]+"",f=i(this,d);f!==-1;)this.splice(f,1),e=!0,f=i(this,d);while(++b<c);e&&this._updateClassName()},k.toggle=function(a,b){a+="";var c=this.contains(a),d=c?b!==!0&&"remove":b!==!1&&"add";return d&&this[d](a),b===!0||b===!1?b:!c},k.toString=function(){return this.join(" ")},e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(a){a.number===-2146823252&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l)}}(self)),function(){"use strict";function a(b,d){function f(a,b){return function(){return a.apply(b,arguments)}}var e;if(d=d||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=d.touchBoundary||10,this.layer=b,this.tapDelay=d.tapDelay||200,this.tapTimeout=d.tapTimeout||700,!a.notNeeded(b)){for(var g=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],h=this,i=0,j=g.length;i<j;i++)h[g[i]]=f(h[g[i]],h);c&&(b.addEventListener("mouseover",this.onMouse,!0),b.addEventListener("mousedown",this.onMouse,!0),b.addEventListener("mouseup",this.onMouse,!0)),b.addEventListener("click",this.onClick,!0),b.addEventListener("touchstart",this.onTouchStart,!1),b.addEventListener("touchmove",this.onTouchMove,!1),b.addEventListener("touchend",this.onTouchEnd,!1),b.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(b.removeEventListener=function(a,c,d){var e=Node.prototype.removeEventListener;"click"===a?e.call(b,a,c.hijacked||c,d):e.call(b,a,c,d)},b.addEventListener=function(a,c,d){var e=Node.prototype.addEventListener;"click"===a?e.call(b,a,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(b,a,c,d)}),"function"==typeof b.onclick&&(e=b.onclick,b.addEventListener("click",function(a){e(a)},!1),b.onclick=null)}}var b=navigator.userAgent.indexOf("Windows Phone")>=0,c=navigator.userAgent.indexOf("Android")>0&&!b,d=/iP(ad|hone|od)/.test(navigator.userAgent)&&!b,e=d&&/OS 4_\d(_\d)?/.test(navigator.userAgent),f=d&&/OS [6-7]_\d/.test(navigator.userAgent),g=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(d&&"file"===a.type||a.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(a.className)},a.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!c;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},a.prototype.sendClick=function(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},a.prototype.determineEventType=function(a){return c&&"select"===a.tagName.toLowerCase()?"mousedown":"click";
},a.prototype.focus=function(a){var b;d&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type&&"month"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},a.prototype.updateScrollParent=function(a){var b,c;if(b=a.fastClickScrollParent,!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a},a.prototype.onTouchStart=function(a){var b,c,f;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],d){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed)return!0;if(!e){if(c.identifier&&c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.timeStamp-this.lastClickTime>-1&&a.preventDefault(),!0},a.prototype.touchHasMoved=function(a){var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c},a.prototype.onTouchMove=function(a){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0)},a.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(a){var b,g,h,i,j,k=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay&&a.timeStamp-this.lastClickTime>-1)return this.cancelNextClick=!0,!0;if(a.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,g=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,f&&(j=a.changedTouches[0],k=document.elementFromPoint(j.pageX-window.pageXOffset,j.pageY-window.pageYOffset)||k,k.fastClickScrollParent=this.targetElement.fastClickScrollParent),h=k.tagName.toLowerCase(),"label"===h){if(b=this.findControl(k)){if(this.focus(k),c)return!1;k=b}}else if(this.needsFocus(k))return a.timeStamp-g>100||d&&window.top!==window&&"input"===h?(this.targetElement=null,!1):(this.focus(k),this.sendClick(k,a),d&&"select"===h||(this.targetElement=null,a.preventDefault()),!1);return!(!d||e||(i=k.fastClickScrollParent,!i||i.fastClickLastScrollTop===i.scrollTop))||(this.needsClick(k)||(a.preventDefault(),this.sendClick(k,a)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(a){return!this.targetElement||(!!a.forwardedTouchEvent||(!a.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1))))},a.prototype.onClick=function(a){var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail||(b=this.onMouse(a),b||(this.targetElement=null),b)},a.prototype.destroy=function(){var a=this.layer;c&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(a){var b,d,e,f;if("undefined"==typeof window.ontouchstart)return!0;if(d=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!c)return!0;if(b=document.querySelector("meta[name=viewport]")){if(b.content.indexOf("user-scalable=no")!==-1)return!0;if(d>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(g&&(e=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),e[1]>=10&&e[2]>=3&&(b=document.querySelector("meta[name=viewport]")))){if(b.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===a.style.msTouchAction||"manipulation"===a.style.touchAction||(f=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(f>=27&&(b=document.querySelector("meta[name=viewport]"),b&&(b.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===a.style.touchAction||"manipulation"===a.style.touchAction))},a.attach=function(b,c){return new a(b,c)},window.FastClick=a}();var MicroEvent=function(){};MicroEvent.prototype={on:function(a,b){this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)},once:function(a,b){var c=this,d=function(){return c.off(a,d),b.apply(null,arguments)};this.on(a,d)},off:function(a,b){this._events=this._events||{},a in this._events!=!1&&this._events[a].splice(this._events[a].indexOf(b),1)},emit:function(a){if(this._events=this._events||{},a in this._events!=!1)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}},MicroEvent.mixin=function(a){for(var b=["on","once","off","emit"],c=0;c<b.length;c++)"function"==typeof a?a.prototype[b[c]]=MicroEvent.prototype[b[c]]:a[b[c]]=MicroEvent.prototype[b[c]]},"undefined"!=typeof module&&"exports"in module&&(module.exports=MicroEvent),window.MicroEvent=MicroEvent,!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(){}function e(a){try{return a.then}catch(a){return q=a,r}}function f(a,b){try{return a(b)}catch(a){return q=a,r}}function g(a,b,c){try{a(b,c)}catch(a){return q=a,r}}function h(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._37=0,this._12=null,this._59=[],a!==d&&o(a,this)}function i(a,b,c){return new a.constructor(function(e,f){var g=new h(d);g.then(e,f),j(a,new n(b,c,g))})}function j(a,b){for(;3===a._37;)a=a._12;return 0===a._37?void a._59.push(b):void p(function(){var c=1===a._37?b.onFulfilled:b.onRejected;if(null===c)return void(1===a._37?k(b.promise,a._12):l(b.promise,a._12));var d=f(c,a._12);d===r?l(b.promise,q):k(b.promise,d)})}function k(a,b){if(b===a)return l(a,new TypeError("A promise cannot be resolved with itself."));if(b&&("object"==typeof b||"function"==typeof b)){var c=e(b);if(c===r)return l(a,q);if(c===a.then&&b instanceof h)return a._37=3,a._12=b,void m(a);if("function"==typeof c)return void o(c.bind(b),a)}a._37=1,a._12=b,m(a)}function l(a,b){a._37=2,a._12=b,m(a)}function m(a){for(var b=0;b<a._59.length;b++)j(a,a._59[b]);a._59=null}function n(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function o(a,b){var c=!1,d=g(a,function(a){c||(c=!0,k(b,a))},function(a){c||(c=!0,l(b,a))});c||d!==r||(c=!0,l(b,q))}var p=a("asap/raw"),q=null,r={};b.exports=h,h._99=d,h.prototype.then=function(a,b){if(this.constructor!==h)return i(this,a,b);var c=new h(d);return j(this,new n(a,b,c)),c}},{"asap/raw":4}],2:[function(a,b,c){"use strict";function d(a){var b=new e(e._99);return b._37=1,b._12=a,b}var e=a("./core.js");b.exports=e;var f=d(!0),g=d(!1),h=d(null),i=d(void 0),j=d(0),k=d("");e.resolve=function(a){if(a instanceof e)return a;if(null===a)return h;if(void 0===a)return i;if(a===!0)return f;if(a===!1)return g;if(0===a)return j;if(""===a)return k;if("object"==typeof a||"function"==typeof a)try{var b=a.then;if("function"==typeof b)return new e(b.bind(a))}catch(a){return new e(function(b,c){c(a)})}return d(a)},e.all=function(a){var b=Array.prototype.slice.call(a);return new e(function(a,c){function d(g,h){if(h&&("object"==typeof h||"function"==typeof h)){if(h instanceof e&&h.then===e.prototype.then){for(;3===h._37;)h=h._12;return 1===h._37?d(g,h._12):(2===h._37&&c(h._12),void h.then(function(a){d(g,a)},c))}var i=h.then;if("function"==typeof i){var j=new e(i.bind(h));return void j.then(function(a){d(g,a)},c)}}b[g]=h,0===--f&&a(b)}if(0===b.length)return a([]);for(var f=b.length,g=0;g<b.length;g++)d(g,b[g])})},e.reject=function(a){return new e(function(b,c){c(a)})},e.race=function(a){return new e(function(b,c){a.forEach(function(a){e.resolve(a).then(b,c)})})},e.prototype.catch=function(a){return this.then(null,a)}},{"./core.js":1}],3:[function(a,b,c){"use strict";function d(){if(i.length)throw i.shift()}function e(a){var b;b=h.length?h.pop():new f,b.task=a,g(b)}function f(){this.task=null}var g=a("./raw"),h=[],i=[],j=g.makeRequestCallFromTimer(d);b.exports=e,f.prototype.call=function(){try{this.task.call()}catch(a){e.onerror?e.onerror(a):(i.push(a),j())}finally{this.task=null,h[h.length]=this}}},{"./raw":4}],4:[function(a,b,c){(function(a){"use strict";function c(a){h.length||(g(),i=!0),h[h.length]=a}function d(){for(;j<h.length;){var a=j;if(j+=1,h[a].call(),j>k){for(var b=0,c=h.length-j;c>b;b++)h[b]=h[b+j];h.length-=j,j=0}}h.length=0,j=0,i=!1}function e(a){var b=1,c=new l(a),d=document.createTextNode("");return c.observe(d,{characterData:!0}),function(){b=-b,d.data=b}}function f(a){return function(){function b(){clearTimeout(c),clearInterval(d),a()}var c=setTimeout(b,0),d=setInterval(b,50)}}b.exports=c;var g,h=[],i=!1,j=0,k=1024,l=a.MutationObserver||a.WebKitMutationObserver;g="function"==typeof l?e(d):f(d),c.requestFlush=g,c.makeRequestCallFromTimer=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(a,b,c){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(a,b){var c=arguments.length?this.then.apply(this,arguments):this;c.then(null,function(a){setTimeout(function(){throw a},0)})})},{}],6:[function(a,b,c){a("asap"),"undefined"==typeof Promise&&(Promise=a("./lib/core.js"),a("./lib/es6-extensions.js")),a("./polyfill-done.js")},{"./lib/core.js":1,"./lib/es6-extensions.js":2,"./polyfill-done.js":5,asap:3}]},{},[6]),function(a,b){"use strict";function h(a){return d[c]=i.apply(b,a),c++}function i(a){var c=[].slice.call(arguments,1);return function(){"function"==typeof a?a.apply(b,c):new Function(""+a)()}}function j(a){if(e)setTimeout(i(j,a),0);else{var b=d[a];if(b){e=!0;try{b()}finally{k(a),e=!1}}}}function k(a){delete d[a]}function l(){g=function(){var a=h(arguments);return process.nextTick(i(j,a)),a}}function m(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b}}function n(){var b="setImmediate$"+Math.random()+"$",c=function(c){c.source===a&&"string"==typeof c.data&&0===c.data.indexOf(b)&&j(+c.data.slice(b.length))};a.addEventListener?a.addEventListener("message",c,!1):a.attachEvent("onmessage",c),g=function(){var c=h(arguments);return a.postMessage(b+c,"*"),c}}function o(){var a=new MessageChannel;a.port1.onmessage=function(a){var b=a.data;j(b)},g=function(){var b=h(arguments);return a.port2.postMessage(b),b}}function p(){var a=f.documentElement;g=function(){var b=h(arguments),c=f.createElement("script");return c.onreadystatechange=function(){j(b),c.onreadystatechange=null,a.removeChild(c),c=null},a.appendChild(c),b}}function q(){g=function(){var a=h(arguments);return setTimeout(i(j,a),0),a}}if(!a.setImmediate){var g,c=1,d={},e=!1,f=a.document,r=Object.getPrototypeOf&&Object.getPrototypeOf(a);r=r&&r.setTimeout?r:a,"[object process]"==={}.toString.call(a.process)?l():m()?n():a.MessageChannel?o():f&&"onreadystatechange"in f.createElement("script")?p():q(),r.setImmediate=g,r.clearImmediate=k}}(function(){return this}()),function(){function a(){return this.PRE_IOS7_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.IOS7_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.DEFAULT_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.ensureViewportElement(),this.platform={},this.platform.name=this.getPlatformName(),this.platform.version=this.getPlatformVersion(),this}a.prototype.ensureViewportElement=function(){this.viewportElement=document.querySelector("meta[name=viewport]"),this.viewportElement||(this.viewportElement=document.createElement("meta"),this.viewportElement.name="viewport",document.head.appendChild(this.viewportElement))},a.prototype.setup=function(){function a(){return!!(window.cordova||window.phonegap||window.PhoneGap)}this.viewportElement&&"true"!=this.viewportElement.getAttribute("data-no-adjust")&&(this.viewportElement.getAttribute("content")||("ios"==this.platform.name?this.platform.version>=7&&a()?this.viewportElement.setAttribute("content",this.IOS7_VIEWPORT):this.viewportElement.setAttribute("content",this.PRE_IOS7_VIEWPORT):this.viewportElement.setAttribute("content",this.DEFAULT_VIEWPORT)))},a.prototype.getPlatformName=function(){return navigator.userAgent.match(/Android/i)?"android":navigator.userAgent.match(/iPhone|iPad|iPod/i)?"ios":void 0},a.prototype.getPlatformVersion=function(){var a=window.navigator.userAgent.indexOf("OS ");return window.Number(window.navigator.userAgent.substr(a+3,3).replace("_","."))},window.Viewport=a}(),function(){function g(a){return d.call(a)}function h(b,c,d){try{a.call(b,c,d)}catch(a){}}function i(a,c){b.call(a,c)}function j(a){return e.call(a)}function k(a){for(;a.childNodes.length;)a.removeChild(a.lastChild)}function l(a,b,d){c.value.call(a,b,d)}function m(){var a=!0;try{f.innerHTML="<test/>"}catch(b){a=!1}return a}function n(a,b){function e(a){var b=g(a);if(b&&b.length){for(var c,d=0,f=b.length;d<f;d++){var k=b[d],l=k.name;"o"!==l[0]&&"O"!==l[0]||"n"!==l[1]&&"N"!==l[1]||(c=c||[],c.push({name:k.name,value:k.value}))}if(c)for(var d=0,f=c.length;d<f;d++){var k=c[d];i(a,k.name),h(a,"x-"+k.name,k.value)}}for(var m=j(a),d=0,f=m.length;d<f;d++)e(m[d])}var c=document.implementation.createHTMLDocument("cleaner");k(c.documentElement),MSApp.execUnsafeLocalFunction(function(){l(c.documentElement,"afterbegin",a)});var d=c.documentElement.querySelectorAll("script");Array.prototype.forEach.call(d,function(a){switch(a.type.toLowerCase()){case"":a.type="text/inert";break;case"text/javascript":case"text/ecmascript":case"text/x-javascript":case"text/jscript":case"text/livescript":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":a.type="text/inert-"+a.type.slice("text/".length);break;case"application/javascript":case"application/ecmascript":case"application/x-javascript":a.type="application/inert-"+a.type.slice("application/".length)}}),e(c.documentElement);var f=[];return"HTML"===b.tagName?f=Array.prototype.slice.call(document.adoptNode(c.documentElement).childNodes):(c.head&&(f=f.concat(Array.prototype.slice.call(document.adoptNode(c.head).childNodes))),c.body&&(f=f.concat(Array.prototype.slice.call(document.adoptNode(c.body).childNodes)))),f}function o(a,b){var c=Object.getOwnPropertyDescriptor(HTMLElement.prototype,a),d=c.set;Object.defineProperty(HTMLElement.prototype,a,{get:c.get,set:function(a){if(window.WinJS&&window.WinJS._execUnsafe&&m())d.call(this,a);else{var e=this,f=n(a,e);MSApp.execUnsafeLocalFunction(function(){b(c,e,f)})}},enumerable:c.enumerable,configurable:c.configurable})}if(window.MSApp&&MSApp.execUnsafeLocalFunction){var a=Object.getOwnPropertyDescriptor(Element.prototype,"setAttribute").value,b=Object.getOwnPropertyDescriptor(Element.prototype,"removeAttribute").value,c=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"insertAdjacentHTML"),d=Object.getOwnPropertyDescriptor(Node.prototype,"attributes").get,e=Object.getOwnPropertyDescriptor(Node.prototype,"childNodes").get,f=document.createElement("div");o("innerHTML",function(a,b,c){k(b);for(var d=0,e=c.length;d<e;d++)b.appendChild(c[d])}),o("outerHTML",function(a,b,c){for(var d=0,e=c.length;d<e;d++)b.insertAdjacentElement("afterend",c[d]);b.parentNode.removeChild(b)})}}(),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.ons=b()}(this,function(){"use strict";function E(){q.READY||(m.determineEventTypes(),n.each(q.gestures,function(a){o.register(a)}),m.onTouch(q.DOCUMENT,A,o.detect),m.onTouch(q.DOCUMENT,B,o.detect),q.READY=!0)}function ha(a){return a.childNodes.length>0&&ia(a),fa.has(a)}function ia(a){fa.set(a,!0)}function ja(a,b){ga.has(a)||ga.set(a,[]),ga.get(a).push(b)}function ka(a){var b=ga.get(a,[])||[];ga.delete(a),b.forEach(function(a){return a()})}function la(a,b){if(ja(a,b),ha(a))return void ka(a);var c=new MutationObserver(function(b){ia(a),ka(a)});c.observe(a,{childList:!0,characterData:!0}),setImmediate(function(){ia(a),ka(a)})}function ma(a,b){var c=a.page,d=a.parent;a.params;J.getPageHTMLAsync(c).then(function(a){var c=l.createElement(a.trim());d.appendChild(c),b({element:c,unload:function(){return c.remove()}})})}function ra(){var a=qa._readyLock.lock();window.addEventListener("WebComponentsReady",function(){qa.isWebView()?window.document.addEventListener("deviceready",a,!1):a()},!1)}function sa(){if("function"!=typeof HTMLElement){var a=function(){};return a.prototype=document.createElement("div"),a}return HTMLElement}var a={};a.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},a.classCallCheck=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},a.createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),a.inherits=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},a.possibleConstructorReturn=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b};var b=function(b){return b.slice(1,-1)},c=function(b){return b.startsWith("{")&&b.endsWith("}")},d=function(b){return b.startsWith("[")&&b.endsWith("]")},e=function(b){return b.startsWith("'")&&b.endsWith("'")||b.startsWith('"')&&b.endsWith('"')},f=function(b,c,d){throw new Error("Unexpected token '"+b+"' at position "+(d.length-c.length-1)+" in string: '"+d+"'")},g=function(g,h,k){return"true"===g||"false"===g?"true"===g:e(g)?b(g):isNaN(g)?c(g)?i(b(g)):d(g)?j(b(g)):void f(g,h,k):+g},h=function(b){b=b.trimLeft();var c=b.length;if(":"===b[0]||","===b[0])c=1;else if("{"===b[0]||"["===b[0]){for(var d=b.charCodeAt(0),e=1,f=1;f<b.length;f++)if(b.charCodeAt(f)===d)e++;else if(b.charCodeAt(f)===d+2&&(e--,0===e)){c=f+1;break}}else if("'"===b[0]||'"'===b[0]){for(var g=1;g<b.length;g++)if(b[g]===b[0]){c=g+1;break}}else for(var h=1;h<b.length;h++)if([" ",",",":"].indexOf(b[h])!==-1){c=h;break}return b.slice(0,c)},i=function(b){var c=function(b){return/^[A-Z_\$][A-Z0-9_\$]*$/i.test(b)};b=b.trim();for(var d=b,e={},i=!0,j=void 0,k=void 0,l=void 0;b.length>0;)if(k=l,l=h(b),b=b.slice(l.length,b.length).trimLeft(),":"===l&&(!i||!k||","===k)||","===l&&i||":"!==l&&","!==l&&k&&","!==k&&":"!==k)f(l,b,d);else if(":"===l&&i&&k){if(!c(k))throw new Error("Invalid key token '"+k+"' at position 0 in string: '"+d+"'");j=k,i=!1}else","===l&&!i&&k&&(e[j]=g(k,b,d),i=!0);return l&&(e[j]=g(l,b,d)),e},j=function(b){b=b.trim();for(var c=b,d=[],e=void 0,i=void 0;b.length>0;)e=i,i=h(b),b=b.slice(i.length,b.length).trimLeft(),","!==i||e&&","!==e?","===i&&d.push(g(e,b,c)):f(i,b,c);return i&&(","!==i?d.push(g(i,b,c)):f(i,b,c)),d},k=function(e){if(e=e.trim(),c(e))return i(b(e));if(d(e))return j(b(e));throw new Error("Provided string must be object or array like: "+e)},l={};l.prepareQuery=function(a){return a instanceof Function?a:function(b){return l.match(b,a)}},l.match=function(a,b){return"."===b[0]?a.classList.contains(b.slice(1)):a.nodeName.toLowerCase()===b},l.findChild=function(a,b){for(var c=l.prepareQuery(b),d=0;d<a.children.length;d++){var e=a.children[d];if(c(e))return e}return null},l.findParent=function(a,b){for(var c=l.prepareQuery(b),d=a.parentNode;;){if(!d||d===document)return null;if(c(d))return d;d=d.parentNode}},l.isAttached=function(a){for(;document.documentElement!==a;){if(!a)return!1;a=a.parentNode}return!0},l.hasAnyComponentAsParent=function(a){for(;a&&document.documentElement!==a;)if(a=a.parentNode,a&&a.nodeName.toLowerCase().match(/(ons-navigator|ons-tabbar|ons-sliding-menu|ons-split-view)/))return!0;return!1},l.propagateAction=function(a,b){for(var c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];d[b]instanceof Function?d[b]():l.propagateAction(d,b)}},l.create=function(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0],b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=a.split("."),d=document.createElement(c.shift()||"div");return c.length&&(d.className=c.join(" ")),l.extend(d.style,b),d},l.createElement=function(a){var b=document.createElement("div");if(b.innerHTML=a,b.children.length>1)throw new Error('"html" must be one wrapper element.');return b.children[0]},l.createFragment=function(a){var b=document.createElement("div");b.innerHTML=a;for(var c=document.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);return c},l.extend=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];for(var e=0;e<c.length;e++)if(c[e])for(var f=Object.keys(c[e]),g=0;g<f.length;g++){var h=f[g];a[h]=c[e][h]}return a},l.arrayFrom=function(a){return Array.prototype.slice.apply(a)},l.parseJSONObjectSafely=function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];try{var d=JSON.parse(""+b);if("object"===("undefined"==typeof d?"undefined":a.typeof(d))&&null!==d)return d}catch(a){return c}return c},l.findFromPath=function(a){a=a.split(".");for(var c,b=window;c=a.shift();)b=b[c];return b},l.triggerElementEvent=function(a,b){var c=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],d=new CustomEvent(b,{bubbles:!0,cancelable:!0,detail:c});return Object.keys(c).forEach(function(a){d[a]=c[a]}),a.dispatchEvent(d),d},l.hasModifier=function(a,b){return!!a.hasAttribute("modifier")&&a.getAttribute("modifier").split(/\s+/).some(function(a){return a===b})},l.addModifier=function(a,b){if(l.hasModifier(a,b))return!1;b=b.trim();var c=a.getAttribute("modifier")||"";return a.setAttribute("modifier",(c+" "+b).trim()),!0},l.removeModifier=function(a,b){if(!a.getAttribute("modifier"))return!1;var c=a.getAttribute("modifier").split(/\s+/),d=c.filter(function(a){return a&&a!==b});return a.setAttribute("modifier",d.join(" ")),c.length!==d.length},l.updateParentPosition=function(a){!a._parentUpdated&&a.parentElement&&("static"===window.getComputedStyle(a.parentElement).getPropertyValue("position")&&(a.parentElement.style.position="relative"),a._parentUpdated=!0)},l.toggleAttribute=function(a,b,c){c?a.setAttribute(b,""):a.removeAttribute(b)},l.bindListeners=function(a,b){b.forEach(function(b){var c=b.replace(/^_[a-z]/,"_bound"+b[1].toUpperCase());a[c]=a[c]||a[b].bind(a)})},l.each=function(a,b){return Object.keys(a).forEach(function(c){return b(c,a[c])})},l.updateRipple=function(a){var b=l.findChild(a,"ons-ripple");a.hasAttribute("ripple")?b||a.insertBefore(document.createElement("ons-ripple"),a.firstChild):b&&b.remove()},l.animationOptionsParse=k,l.isInteger=function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a};var m,n,o,p,q=function a(b,c){return new a.Instance(b,c||{})};q.defaults={behavior:{touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},q.DOCUMENT=document,q.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,q.HAS_TOUCHEVENTS="ontouchstart"in window,q.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),q.NO_MOUSEEVENTS=q.HAS_TOUCHEVENTS&&q.IS_MOBILE||q.HAS_POINTEREVENTS,q.CALCULATE_INTERVAL=25;var r={},s=q.DIRECTION_DOWN="down",t=q.DIRECTION_LEFT="left",u=q.DIRECTION_UP="up",v=q.DIRECTION_RIGHT="right",w=q.POINTER_MOUSE="mouse",x=q.POINTER_TOUCH="touch",y=q.POINTER_PEN="pen",z=q.EVENT_START="start",A=q.EVENT_MOVE="move",B=q.EVENT_END="end",C=q.EVENT_RELEASE="release",D=q.EVENT_TOUCH="touch";q.READY=!1,q.plugins=q.plugins||{},q.gestures=q.gestures||{},n=q.utils={extend:function(b,c,d){for(var e in c)!c.hasOwnProperty(e)||void 0!==b[e]&&d||(b[e]=c[e]);return b},on:function(b,c,d){b.addEventListener(c,d,!1)},off:function(b,c,d){b.removeEventListener(c,d,!1)},each:function(b,c,d){var e,f;if("forEach"in b)b.forEach(c,d);else if(void 0!==b.length){for(e=0,f=b.length;e<f;e++)if(c.call(d,b[e],e,b)===!1)return}else for(e in b)if(b.hasOwnProperty(e)&&c.call(d,b[e],e,b)===!1)return},inStr:function(b,c){return b.indexOf(c)>-1},inArray:function(b,c){if(b.indexOf){var d=b.indexOf(c);return d!==-1&&d}for(var e=0,f=b.length;e<f;e++)if(b[e]===c)return e;return!1},toArray:function(b){return Array.prototype.slice.call(b,0)},hasParent:function(b,c){for(;b;){if(b==c)return!0;b=b.parentNode}return!1},getCenter:function(b){var c=[],d=[],e=[],f=[],g=Math.min,h=Math.max;return 1===b.length?{pageX:b[0].pageX,pageY:b[0].pageY,clientX:b[0].clientX,clientY:b[0].clientY}:(n.each(b,function(a){c.push(a.pageX),d.push(a.pageY),e.push(a.clientX),f.push(a.clientY)}),{pageX:(g.apply(Math,c)+h.apply(Math,c))/2,pageY:(g.apply(Math,d)+h.apply(Math,d))/2,clientX:(g.apply(Math,e)+h.apply(Math,e))/2,clientY:(g.apply(Math,f)+h.apply(Math,f))/2})},getVelocity:function(b,c,d){return{x:Math.abs(c/b)||0,y:Math.abs(d/b)||0}},getAngle:function(b,c){var d=c.clientX-b.clientX,e=c.clientY-b.clientY;return 180*Math.atan2(e,d)/Math.PI},getDirection:function(b,c){var d=Math.abs(b.clientX-c.clientX),e=Math.abs(b.clientY-c.clientY);return d>=e?b.clientX-c.clientX>0?t:v:b.clientY-c.clientY>0?u:s},getDistance:function(b,c){var d=c.clientX-b.clientX,e=c.clientY-b.clientY;return Math.sqrt(d*d+e*e)},getScale:function(b,c){return b.length>=2&&c.length>=2?this.getDistance(c[0],c[1])/this.getDistance(b[0],b[1]):1},getRotation:function(b,c){return b.length>=2&&c.length>=2?this.getAngle(c[1],c[0])-this.getAngle(b[1],b[0]):0},isVertical:function(b){return b==u||b==s},setPrefixedCss:function(b,c,d,e){var f=["","Webkit","Moz","O","ms"];c=n.toCamelCase(c);for(var g=0;g<f.length;g++){var h=c;if(f[g]&&(h=f[g]+h.slice(0,1).toUpperCase()+h.slice(1)),h in b.style){b.style[h]=(null===e||e)&&d||"";break}}},toggleBehavior:function(b,c,d){if(c&&b&&b.style){n.each(c,function(a,c){n.setPrefixedCss(b,c,a,d)});var e=d&&function(){return!1};"none"==c.userSelect&&(b.onselectstart=e),"none"==c.userDrag&&(b.ondragstart=e)}},toCamelCase:function(b){return b.replace(/[_-]([a-z])/g,function(a){return a[1].toUpperCase()})}},m=q.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(b,c,d,e){var f=c.split(" ");n.each(f,function(a){n.on(b,a,d),e&&e(a)})},off:function(b,c,d,e){var f=c.split(" ");n.each(f,function(a){n.off(b,a,d),e&&e(a)})},onTouch:function(b,c,d){var e=this,f=function(f){var j,g=f.type.toLowerCase(),h=q.HAS_POINTEREVENTS,i=n.inStr(g,"mouse");i&&e.preventMouseEvents||(i&&c==z&&0===f.button?(e.preventMouseEvents=!1,e.shouldDetect=!0):h&&c==z?e.shouldDetect=1===f.buttons||p.matchType(x,f):i||c!=z||(e.preventMouseEvents=!0,e.shouldDetect=!0),h&&c!=B&&p.updatePointer(c,f),e.shouldDetect&&(j=e.doDetect.call(e,f,c,b,d)),j==B&&(e.preventMouseEvents=!1,e.shouldDetect=!1,p.reset()),h&&c==B&&p.updatePointer(c,f))};return this.on(b,r[c],f),f},doDetect:function(b,c,d,e){var f=this.getTouchList(b,c),g=f.length,h=c,i=f.trigger,j=g;c==z?i=D:c==B&&(i=C,j=f.length-(b.changedTouches?b.changedTouches.length:1)),j>0&&this.started&&(h=A),this.started=!0;var k=this.collectEventData(d,h,f,b);return c!=B&&e.call(o,k),i&&(k.changedLength=j,k.eventType=i,e.call(o,k),k.eventType=h,delete k.changedLength),h==B&&(e.call(o,k),this.started=!1),h},determineEventTypes:function(){var b;return b=q.HAS_POINTEREVENTS?window.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:q.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],r[z]=b[0],r[A]=b[1],r[B]=b[2],r},getTouchList:function(b,c){if(q.HAS_POINTEREVENTS)return p.getTouchList();if(b.touches){if(c==A)return b.touches;var d=[],e=[].concat(n.toArray(b.touches),n.toArray(b.changedTouches)),f=[];return n.each(e,function(a){n.inArray(d,a.identifier)===!1&&f.push(a),d.push(a.identifier)}),f}return b.identifier=1,[b]},collectEventData:function(b,c,d,e){var f=x;return n.inStr(e.type,"mouse")||p.matchType(w,e)?f=w:p.matchType(y,e)&&(f=y),{center:n.getCenter(d),timeStamp:Date.now(),target:e.target,touches:d,eventType:c,pointerType:f,srcEvent:e,preventDefault:function(){var b=this.srcEvent;b.preventManipulation&&b.preventManipulation(),b.preventDefault&&b.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return o.stopDetect()}}}},p=q.PointerEvent={pointers:{},getTouchList:function(){var b=[];return n.each(this.pointers,function(a){b.push(a)}),b},updatePointer:function(b,c){b==B||b!=B&&1!==c.buttons?delete this.pointers[c.pointerId]:(c.identifier=c.pointerId,this.pointers[c.pointerId]=c)},matchType:function(b,c){if(!c.pointerType)return!1;var d=c.pointerType,e={};return e[w]=d===(c.MSPOINTER_TYPE_MOUSE||w),e[x]=d===(c.MSPOINTER_TYPE_TOUCH||x),e[y]=d===(c.MSPOINTER_TYPE_PEN||y),e[b]},reset:function(){this.pointers={}}},o=q.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(b,c){this.current||(this.stopped=!1,this.current={inst:b,startEvent:n.extend({},c),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(c))},detect:function(b){if(this.current&&!this.stopped){b=this.extendEventData(b);var c=this.current.inst,d=c.options;return n.each(this.gestures,function(e){!this.stopped&&c.enabled&&d[e.name]&&e.handler.call(e,b,c)},this),this.current&&(this.current.lastEvent=b),b.eventType==B&&this.stopDetect(),b}},stopDetect:function(){this.previous=n.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(b,c,d,e,f){var g=this.current,h=!1,i=g.lastCalcEvent,j=g.lastCalcData;i&&b.timeStamp-i.timeStamp>q.CALCULATE_INTERVAL&&(c=i.center,d=b.timeStamp-i.timeStamp,e=b.center.clientX-i.center.clientX,f=b.center.clientY-i.center.clientY,h=!0),b.eventType!=D&&b.eventType!=C||(g.futureCalcEvent=b),g.lastCalcEvent&&!h||(j.velocity=n.getVelocity(d,e,f),j.angle=n.getAngle(c,b.center),j.direction=n.getDirection(c,b.center),g.lastCalcEvent=g.futureCalcEvent||b,g.futureCalcEvent=b),b.velocityX=j.velocity.x,b.velocityY=j.velocity.y,b.interimAngle=j.angle,b.interimDirection=j.direction},extendEventData:function(b){var c=this.current,d=c.startEvent,e=c.lastEvent||d;b.eventType!=D&&b.eventType!=C||(d.touches=[],n.each(b.touches,function(a){d.touches.push({clientX:a.clientX,clientY:a.clientY})}));var f=b.timeStamp-d.timeStamp,g=b.center.clientX-d.center.clientX,h=b.center.clientY-d.center.clientY;
return this.getCalculatedData(b,e.center,f,g,h),n.extend(b,{startEvent:d,deltaTime:f,deltaX:g,deltaY:h,distance:n.getDistance(d.center,b.center),angle:n.getAngle(d.center,b.center),direction:n.getDirection(d.center,b.center),scale:n.getScale(d.touches,b.touches),rotation:n.getRotation(d.touches,b.touches)}),b},register:function(b){var c=b.defaults||{};return void 0===c[b.name]&&(c[b.name]=!0),n.extend(q.defaults,c,!0),b.index=b.index||1e3,this.gestures.push(b),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}},q.Instance=function(a,b){var c=this;E(),this.element=a,this.enabled=!0,n.each(b,function(a,c){delete b[c],b[n.toCamelCase(c)]=a}),this.options=n.extend(n.extend({},q.defaults),b||{}),this.options.behavior&&n.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=m.onTouch(a,z,function(a){c.enabled&&a.eventType==z?o.startDetect(c,a):a.eventType==D&&o.detect(a)}),this.eventHandlers=[]},q.Instance.prototype={on:function(b,c){var d=this;return m.on(d.element,b,c,function(a){d.eventHandlers.push({gesture:a,handler:c})}),d},off:function(b,c){var d=this;return m.off(d.element,b,c,function(a){var b=n.inArray({gesture:a,handler:c});b!==!1&&d.eventHandlers.splice(b,1)}),d},trigger:function(b,c){c||(c={});var d=q.DOCUMENT.createEvent("Event");d.initEvent(b,!0,!0),d.gesture=c;var e=this.element;return n.hasParent(c.target,e)&&(e=c.target),e.dispatchEvent(d),this},enable:function(b){return this.enabled=b,this},dispose:function(){var b,c;for(n.toggleBehavior(this.element,this.options.behavior,!1),b=-1;c=this.eventHandlers[++b];)n.off(this.element,c.gesture,c.handler);return this.eventHandlers=[],m.off(this.element,r[z],this.eventStartHandler),null}},function(a){function c(c,d){var e=o.current;if(!(d.options.dragMaxTouches>0&&c.touches.length>d.options.dragMaxTouches))switch(c.eventType){case z:b=!1;break;case A:if(c.distance<d.options.dragMinDistance&&e.name!=a)return;var f=e.startEvent.center;if(e.name!=a&&(e.name=a,d.options.dragDistanceCorrection&&c.distance>0)){var g=Math.abs(d.options.dragMinDistance/c.distance);f.pageX+=c.deltaX*g,f.pageY+=c.deltaY*g,f.clientX+=c.deltaX*g,f.clientY+=c.deltaY*g,c=o.extendEventData(c)}(e.lastEvent.dragLockToAxis||d.options.dragLockToAxis&&d.options.dragLockMinDistance<=c.distance)&&(c.dragLockToAxis=!0);var h=e.lastEvent.direction;c.dragLockToAxis&&h!==c.direction&&(n.isVertical(h)?c.direction=c.deltaY<0?u:s:c.direction=c.deltaX<0?t:v),b||(d.trigger(a+"start",c),b=!0),d.trigger(a,c),d.trigger(a+c.direction,c);var i=n.isVertical(c.direction);(d.options.dragBlockVertical&&i||d.options.dragBlockHorizontal&&!i)&&c.preventDefault();break;case C:b&&c.changedLength<=d.options.dragMaxTouches&&(d.trigger(a+"end",c),b=!1);break;case B:b=!1}}var b=!1;q.gestures.Drag={name:a,index:50,handler:c,defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),q.gestures.Gesture={name:"gesture",index:1337,handler:function(b,c){c.trigger(this.name,b)}},function(a){function c(c,d){var e=d.options,f=o.current;switch(c.eventType){case z:clearTimeout(b),f.name=a,b=setTimeout(function(){f&&f.name==a&&d.trigger(a,c)},e.holdTimeout);break;case A:c.distance>e.holdThreshold&&clearTimeout(b);break;case C:clearTimeout(b)}}var b;q.gestures.Hold={name:a,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:c}}("hold"),q.gestures.Release={name:"release",index:1/0,handler:function(b,c){b.eventType==C&&c.trigger(this.name,b)}},q.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(b,c){if(b.eventType==C){var d=b.touches.length,e=c.options;if(d<e.swipeMinTouches||d>e.swipeMaxTouches)return;(b.velocityX>e.swipeVelocityX||b.velocityY>e.swipeVelocityY)&&(c.trigger(this.name,b),c.trigger(this.name+b.direction,b))}}},function(a){function c(c,d){var h,i,e=d.options,f=o.current,g=o.previous;switch(c.eventType){case z:b=!1;break;case A:b=b||c.distance>e.tapMaxDistance;break;case B:!n.inStr(c.srcEvent.type,"cancel")&&c.deltaTime<e.tapMaxTime&&!b&&(h=g&&g.lastEvent&&c.timeStamp-g.lastEvent.timeStamp,i=!1,g&&g.name==a&&h&&h<e.doubleTapInterval&&c.distance<e.doubleTapDistance&&(d.trigger("doubletap",c),i=!0),i&&!e.tapAlways||(f.name=a,d.trigger(f.name,c)))}}var b=!1;q.gestures.Tap={name:a,index:100,handler:c,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),q.gestures.Touch={name:"touch",index:-(1/0),defaults:{preventDefault:!1,preventMouse:!1},handler:function(b,c){return c.options.preventMouse&&b.pointerType==w?void b.stopDetect():(c.options.preventDefault&&b.preventDefault(),void(b.eventType==D&&c.trigger("touch",b)))}},function(a){function c(c,d){switch(c.eventType){case z:b=!1;break;case A:if(c.touches.length<2)return;var e=Math.abs(1-c.scale),f=Math.abs(c.rotation);if(e<d.options.transformMinScale&&f<d.options.transformMinRotation)return;o.current.name=a,b||(d.trigger(a+"start",c),b=!0),d.trigger(a,c),f>d.options.transformMinRotation&&d.trigger("rotate",c),e>d.options.transformMinScale&&(d.trigger("pinch",c),d.trigger("pinch"+(c.scale<1?"in":"out"),c));break;case C:b&&c.changedLength<2&&(d.trigger(a+"end",c),b=!1)}}var b=!1;q.gestures.Transform={name:a,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:c}}("transform");var F=function(){function b(){a.classCallCheck(this,b),this._renderPlatform=null}return a.createClass(b,[{key:"select",value:function(b){"string"==typeof b&&(this._renderPlatform=b.trim().toLowerCase())}},{key:"isWebView",value:function(){if("loading"===document.readyState||"uninitialized"==document.readyState)throw new Error("isWebView() method is available after dom contents loaded.");return!!(window.cordova||window.phonegap||window.PhoneGap)}},{key:"isIOS",value:function(){return this._renderPlatform?"ios"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":a.typeof(device))||/browser/i.test(device.platform)?/iPhone|iPad|iPod/i.test(navigator.userAgent):/iOS/i.test(device.platform)}},{key:"isAndroid",value:function(){return this._renderPlatform?"android"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":a.typeof(device))||/browser/i.test(device.platform)?/Android/i.test(navigator.userAgent):/Android/i.test(device.platform)}},{key:"isAndroidPhone",value:function(){return/Android/i.test(navigator.userAgent)&&/Mobile/i.test(navigator.userAgent)}},{key:"isAndroidTablet",value:function(){return/Android/i.test(navigator.userAgent)&&!/Mobile/i.test(navigator.userAgent)}},{key:"isWP",value:function(){return this._renderPlatform?"wp"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":a.typeof(device))||/browser/i.test(device.platform)?/Windows Phone|IEMobile|WPDesktop/i.test(navigator.userAgent):/Win32NT|WinCE/i.test(device.platform)}},{key:"isIPhone",value:function(){return/iPhone/i.test(navigator.userAgent)}},{key:"isIPad",value:function(){return/iPad/i.test(navigator.userAgent)}},{key:"isIPod",value:function(){return/iPod/i.test(navigator.userAgent)}},{key:"isBlackBerry",value:function(){return this._renderPlatform?"blackberry"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":a.typeof(device))||/browser/i.test(device.platform)?/BlackBerry|RIM Tablet OS|BB10/i.test(navigator.userAgent):/BlackBerry/i.test(device.platform)}},{key:"isOpera",value:function(){return this._renderPlatform?"opera"===this._renderPlatform:!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0}},{key:"isFirefox",value:function(){return this._renderPlatform?"firefox"===this._renderPlatform:"undefined"!=typeof InstallTrigger}},{key:"isSafari",value:function(){return this._renderPlatform?"safari"===this._renderPlatform:Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0}},{key:"isChrome",value:function(){return this._renderPlatform?"chrome"===this._renderPlatform:!(!window.chrome||window.opera||navigator.userAgent.indexOf(" OPR/")>=0||navigator.userAgent.indexOf(" Edge/")>=0)}},{key:"isIE",value:function(){return this._renderPlatform?"ie"===this._renderPlatform:!!document.documentMode}},{key:"isEdge",value:function(){return this._renderPlatform?"edge"===this._renderPlatform:navigator.userAgent.indexOf(" Edge/")>=0}},{key:"isIOS7above",value:function(){if("object"===("undefined"==typeof device?"undefined":a.typeof(device))&&!/browser/i.test(device.platform))return/iOS/i.test(device.platform)&&parseInt(device.version.split(".")[0])>=7;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){var c=(navigator.userAgent.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,".");return parseInt(c.split(".")[0])>=7}return!1}},{key:"getMobileOS",value:function(){return this.isAndroid()?"android":this.isIOS()?"ios":this.isWP()?"wp":"other"}},{key:"getIOSDevice",value:function(){return this.isIPhone()?"iphone":this.isIPad()?"ipad":this.isIPod()?"ipod":"na"}}]),b}(),G=new F,H={};H._createAlertDialog=function(a,b,c,d,e,f,g,h,i,j,k,m,n,o,p,q){q=q||function(a){return a};var r="string"==typeof a?'<div class="alert-dialog-title"></div>':"",s=l.createElement("\n  <ons-alert-dialog>\n    "+r+'\n    <div class="alert-dialog-content"></div>\n    <div class="alert-dialog-footer"></div>\n  </ons-alert-dialog>');CustomElements.upgrade(s),g&&s.setAttribute("id",g);var t=s.querySelector(".alert-dialog-title"),u=s.querySelector(".alert-dialog-content"),v=s.querySelector(".alert-dialog-footer"),w=void 0,x={};x.promise=new Promise(function(a,b){x.resolve=a,x.reject=b}),e=e||s.getAttribute("modifier"),"string"==typeof a&&(t.textContent=a),t=null,s.setAttribute("animation",f),i?u.innerHTML=b:u.textContent=b,k&&(w=l.createElement('<input class="text-input text-input--underbar" type="text"></input>'),e&&w.classList.add("text-input--"+e),w.setAttribute("placeholder",n),w.value=o,w.style.width="100%",w.style.marginTop="10px",u.appendChild(w),p&&w.addEventListener("keypress",function(a){13===a.keyCode&&s.hide({callback:function(){h(w.value),x.resolve(w.value),s.remove(),s=null}})},!1)),document.body.appendChild(s),q(s),c.length<=2&&v.classList.add("alert-dialog-footer--one");for(var y=function(b){var e=l.createElement('<button class="alert-dialog-button"></button>');e.appendChild(document.createTextNode(c[b])),b==d&&e.classList.add("alert-dialog-button--primal"),c.length<=2&&e.classList.add("alert-dialog-button--one");var f=function a(){e.removeEventListener("click",a,!1),s.hide({callback:function(){k?(h(w.value),x.resolve(w.value)):(h(b),x.resolve(b)),s.remove(),s=w=e=null}})};e.addEventListener("click",f,!1),v.appendChild(e)},z=0;z<c.length;z++)y(z);return j&&(s.cancelable=!0,s.addEventListener("cancel",function(){k?(h(null),x.reject(null)):(h(-1),x.reject(-1)),setTimeout(function(){s.remove(),s=null,w=null})},!1)),s.show({callback:function(){w&&k&&m&&w.focus()}}),u=v=null,e&&(s.setAttribute("modifier",""),s.setAttribute("modifier",e)),x.promise},H._alertOriginal=function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];"string"==typeof a?b.message=a:b=a;var c={buttonLabel:"",animation:"default",title:"Alert",callback:function(){}};if(b=l.extend({},c,b),!b.message&&!b.messageHTML)throw new Error("Alert dialog must contain a message.");return H._createAlertDialog(b.title,b.message||b.messageHTML,[b.buttonLabel],0,b.modifier,b.animation,b.id,b.callback,!b.message,!1,!1,!1,"","",!1,b.compile)},H.alert=H._alertOriginal,H._confirmOriginal=function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];"string"==typeof a?b.message=a:b=a;var c={buttonLabels:["",""],primaryButtonIndex:1,animation:"default",title:"",callback:function(){},cancelable:!1};if(b=l.extend({},c,b),!b.message&&!b.messageHTML)throw new Error("Confirm dialog must contain a message.");return H._createAlertDialog(b.title,b.message||b.messageHTML,b.buttonLabels,b.primaryButtonIndex,b.modifier,b.animation,b.id,b.callback,!b.message,b.cancelable,!1,!1,"","",!1,b.compile)},H.confirm=H._confirmOriginal,H._promptOriginal=function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];"string"==typeof a?b.message=a:b=a;var c={buttonLabel:"OK",animation:"default",title:"Alert",defaultValue:"",placeholder:"",callback:function(){},cancelable:!1,autofocus:!0,submitOnEnter:!0};if(b=l.extend({},c,b),!b.message&&!b.messageHTML)throw new Error("Prompt dialog must contain a message.");return H._createAlertDialog(b.title,b.message||b.messageHTML,[b.buttonLabel],0,b.modifier,b.animation,b.id,b.callback,!b.message,b.cancelable,!0,b.autofocus,b.placeholder,b.defaultValue,b.submitOnEnter,b.compile)},H.prompt=H._promptOriginal;var I={_variables:{},defineVariable:function(b,c){var d=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if("string"!=typeof b)throw new Error("Variable name must be a string.");if("string"!=typeof c&&"function"!=typeof c)throw new Error("Variable value must be a string or a function.");if(this._variables.hasOwnProperty(b)&&!d)throw new Error('"'+b+'" is already defined.');this._variables[b]=c},getVariable:function(b){return this._variables.hasOwnProperty(b)?this._variables[b]:null},removeVariable:function(b){delete this._variables[b]},getAllVariables:function(){return this._variables},_parsePart:function(b){var c=void 0,d=!1,e=0,f=[];if(0===b.length)throw new Error("Unable to parse empty string.");for(var g=0;g<b.length;g++)if(c=b.charAt(g),"$"===c&&"{"===b.charAt(g+1)){if(d)throw new Error("Nested interpolation not supported.");var h=b.substring(e,g);h.length>0&&f.push(b.substring(e,g)),e=g,d=!0}else if("}"===c){if(!d)throw new Error("} must be preceeded by ${");var i=b.substring(e,g+1);i.length>0&&f.push(b.substring(e,g+1)),e=g+1,d=!1}if(d)throw new Error("Unterminated interpolation.");return f.push(b.substring(e,b.length)),f},_replaceToken:function(b){var c=/^\${(.*?)}$/,d=b.match(c);if(d){var e=d[1].trim(),f=this.getVariable(e);if(null===f)throw new Error('Variable "'+e+'" does not exist.');if("string"==typeof f)return f;var g=f();if("string"!=typeof g)throw new Error("Must return a string.");return g}return b},_replaceTokens:function(b){return b.map(this._replaceToken.bind(this))},_parseExpression:function(b){return b.split(",").map(function(a){return a.trim()}).map(this._parsePart.bind(this)).map(this._replaceTokens.bind(this)).map(function(a){return a.join("")})},evaluate:function(b){return b?this._parseExpression(b):[]}};I.defineVariable("mobileOS",G.getMobileOS()),I.defineVariable("iOSDevice",G.getIOSDevice()),I.defineVariable("runtime",function(){return G.isWebView()?"cordova":"browser"});var J={};J.config={autoStatusBarFill:!0,animationsDisabled:!1},J.nullElement=window.document.createElement("div"),J.isEnabledAutoStatusBarFill=function(){return!!J.config.autoStatusBarFill},J.normalizePageHTML=function(a){return a=(""+a).trim(),a.match(/^<ons-page/)||(a="<ons-page _muted>"+a+"</ons-page>"),a},J.waitDOMContentLoaded=function(a){"loading"===window.document.readyState||"uninitialized"==window.document.readyState?window.document.addEventListener("DOMContentLoaded",a):setImmediate(a)},J.autoStatusBarFill=function(b){var c=function a(){J.shouldFillStatusBar()&&b(),document.removeEventListener("deviceready",a),document.removeEventListener("DOMContentLoaded",a)};"object"===("undefined"==typeof device?"undefined":a.typeof(device))?document.addEventListener("deviceready",c):["complete","interactive"].indexOf(document.readyState)===-1?document.addEventListener("DOMContentLoaded",function(){c()}):c()},J.shouldFillStatusBar=function(){return J.isEnabledAutoStatusBarFill()&&G.isWebView()&&G.isIOS7above()},J.templateStore={_storage:{},get:function(b){return J.templateStore._storage[b]||null},set:function(b,c){J.templateStore._storage[b]=c}},window.document.addEventListener("_templateloaded",function(a){"ons-template"===a.target.nodeName.toLowerCase()&&J.templateStore.set(a.templateId,a.template)},!1),window.document.addEventListener("DOMContentLoaded",function(){function a(a){for(var b=window.document.querySelectorAll(a),c=0;c<b.length;c++)J.templateStore.set(b[c].getAttribute("id"),b[c].textContent)}a('script[type="text/ons-template"]'),a('script[type="text/template"]'),a('script[type="text/ng-template"]')},!1),J.getTemplateHTMLAsync=function(a){return new Promise(function(b,c){setImmediate(function(){var d=J.templateStore.get(a);if(d){var e="string"==typeof d?d:d[1];b(e)}else!function(){var d=new XMLHttpRequest;d.open("GET",a,!0),d.onload=function(a){var e=d.responseText;d.status>=400&&d.status<600?c(e):b(e)},d.onerror=function(){throw new Error("The page is not found: "+a)},d.send(null)}()})})},J.getPageHTMLAsync=function(a){var b=I.evaluate(a),c=function a(c){return"string"!=typeof c?Promise.reject("Must specify a page."):J.getTemplateHTMLAsync(c).then(function(a){return J.normalizePageHTML(a)},function(c){return 0===b.length?Promise.reject(c):a(b.shift())}).then(function(a){return J.normalizePageHTML(a)})};return c(b.shift())};var K=function(){function b(c){if(a.classCallCheck(this,b),this._animators=c.animators,this._baseClass=c.baseClass,this._baseClassName=c.baseClassName||c.baseClass.name,this._animation=c.defaultAnimation||"default",this._animationOptions=c.defaultAnimationOptions||{},!this._animators[this._animation])throw new Error("No such animation: "+this._animation)}return a.createClass(b,[{key:"setAnimationOptions",value:function(b){this._animationOptions=b}},{key:"newAnimator",value:function(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],c=arguments[1],d=null;if(b.animation instanceof this._baseClass)return b.animation;var e=null;if("string"==typeof b.animation&&(e=this._animators[b.animation]),!e&&c)d=c;else{e=e||this._animators[this._animation];var f=l.extend({},this._animationOptions,b.animationOptions||{},J.config.animationsDisabled?{duration:0,delay:0}:{});d=new e(f),"function"==typeof d&&(d=new d(f))}if(!(d instanceof this._baseClass))throw new Error('"animator" is not an instance of '+this._baseClassName+".");return d}}],[{key:"parseAnimationOptionsString",value:function(c){try{if("string"==typeof c){var d=l.animationOptionsParse(c);if("object"===("undefined"==typeof d?"undefined":a.typeof(d))&&null!==d)return d;console.error('"animation-options" attribute must be a JSON object string: '+c)}return{}}catch(a){return console.error('"animation-options" attribute must be a JSON object string: '+c),{}}}}]),b}(),L=function(){function b(){a.classCallCheck(this,b)}return a.createClass(b,null,[{key:"diff",value:function(c,d){function g(a){var c={};return b.split(a).forEach(function(a){return c[a]=a}),c}c=g((""+c).trim()),d=g((""+d).trim());var e=Object.keys(c).reduce(function(a,b){return d[b]||a.push(b),a},[]),f=Object.keys(d).reduce(function(a,b){return c[b]||a.push(b),a},[]);return{added:f,removed:e}}},{key:"applyDiffToClassList",value:function(b,c,d){b.added.map(function(a){return d.replace(/\*/g,a)}).forEach(function(a){return c.add(a)}),b.removed.map(function(a){return d.replace(/\*/g,a)}).forEach(function(a){return c.remove(a)})}},{key:"applyDiffToElement",value:function(c,d,e){var f=function(b,c){return(b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector).call(b,c)};for(var g in e)if(e.hasOwnProperty(g))for(var h=!g||f(d,g)?[d]:d.querySelectorAll(g),i=0;i<h.length;i++)b.applyDiffToClassList(c,h[i].classList,e[g])}},{key:"onModifierChanged",value:function(c,d,e,f){return b.applyDiffToElement(b.diff(c,d),e,f)}},{key:"initModifier",value:function(c,d){var e=c.getAttribute("modifier");"string"==typeof e&&b.applyDiffToElement({removed:[],added:b.split(e)},c,d)}},{key:"split",value:function(b){return"string"!=typeof b?[]:b.trim().split(/ +/).filter(function(a){return""!==a})}}]),b}(),M=function(){function b(c){var d=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(a.classCallCheck(this,b),"object"!==("undefined"==typeof c?"undefined":a.typeof(c))||null===c)throw Error('"delegate" parameter must be an object.');if(this._userDelegate=c,!(d instanceof Element)&&null!==d)throw Error('"templateElement" parameter must be an instance of Element or null.');this._templateElement=d}return a.createClass(b,[{key:"hasRenderFunction",value:function(){return this._userDelegate._render instanceof Function}},{key:"_render",value:function(b,c){this._userDelegate._render(b,c)}},{key:"loadItemElement",value:function(b,c,d){if(this._userDelegate.loadItemElement instanceof Function)this._userDelegate.loadItemElement(b,c,function(a){return d({element:a})});else{var e=this._userDelegate.createItemContent(b,this._templateElement);if(!(e instanceof Element))throw Error("createItemContent() must return an instance of Element.");c.appendChild(e),d({element:e})}}},{key:"countItems",value:function(){var b=this._userDelegate.countItems();if("number"!=typeof b)throw Error("countItems() must return a number.");return b}},{key:"updateItem",value:function(b,c){this._userDelegate.updateItemContent instanceof Function&&this._userDelegate.updateItemContent(b,c)}},{key:"calculateItemHeight",value:function(b){if(this._userDelegate.calculateItemHeight instanceof Function){var c=this._userDelegate.calculateItemHeight(b);if("number"!=typeof c)throw Error("calculateItemHeight() must return a number.");return c}return 0}},{key:"destroyItem",value:function(b,c){this._userDelegate.destroyItem instanceof Function&&this._userDelegate.destroyItem(b,c)}},{key:"destroy",value:function(){this._userDelegate.destroy instanceof Function&&this._userDelegate.destroy(),this._userDelegate=this._templateElement=null}},{key:"itemHeight",get:function(){return this._userDelegate.itemHeight}}]),b}(),N=function(){function b(c,d){if(a.classCallCheck(this,b),!(d instanceof M))throw Error('"delegate" parameter must be an instance of LazyRepeatDelegate.');if(this._wrapperElement=c,this._delegate=d,"ons-list"===c.tagName.toLowerCase()&&c.classList.add("lazy-list"),this._pageContent=l.findParent(c,".page__content"),!this._pageContent)throw new Error("ons-lazy-repeat must be a descendant of an <ons-page> or an element.");this._topPositions=[],this._renderedItems={},this._delegate.itemHeight||this._delegate.calculateItemHeight(0)||(this._unknownItemHeight=!0),this._addEventListeners(),this._onChange()}return a.createClass(b,[{key:"_checkItemHeight",value:function(b){var c=this;this._delegate.loadItemElement(0,this._wrapperElement,function(a){if(!c._unknownItemHeight)throw Error("Invalid state");var d=function(){c._wrapperElement.removeChild(a.element),delete c._unknownItemHeight,b()};if(c._itemHeight=a.element.offsetHeight,c._itemHeight>0)return void d();var e=c._wrapperElement.style.visibility;c._wrapperElement.style.visibility="hidden",a.element.style.visibility="hidden",setImmediate(function(){if(c._itemHeight=a.element.offsetHeight,0==c._itemHeight)throw Error("Invalid state: this._itemHeight must be greater than zero.");c._wrapperElement.style.visibility=e,d()})})}},{key:"_countItems",value:function(){return this._delegate.countItems()}},{key:"_getItemHeight",value:function(b){return this.staticItemHeight||this._delegate.calculateItemHeight(b)}},{key:"_onChange",value:function(){this._render()}},{key:"refresh",value:function(){this._removeAllElements(),this._onChange()}},{key:"_render",value:function(){var b=this;if(this._unknownItemHeight)return this._checkItemHeight(this._render.bind(this));var c=this._getItemsInView();if(this._delegate.hasRenderFunction&&this._delegate.hasRenderFunction())return this._delegate._render(c,this._listHeight),null;var d={};c.forEach(function(a){b._renderElement(a),d[a.index]=!0}),Object.keys(this._renderedItems).forEach(function(a){return d[a]||b._removeElement(a)}),this._wrapperElement.style.height=this._listHeight+"px"}},{key:"_renderElement",value:function(b){var c=this,d=b.index,e=b.top,f=this._renderedItems[d];return f?(this._delegate.updateItem(d,f),void(f.element.style.top=e+"px")):void this._delegate.loadItemElement(d,this._wrapperElement,function(a){l.extend(a.element.style,{position:"absolute",top:e+"px",left:0,right:0}),c._renderedItems[d]=a})}},{key:"_removeElement",value:function(b){var c=this._renderedItems[b];this._delegate.destroyItem(b,c),c.element.parentElement&&c.element.parentElement.removeChild(c.element),delete this._renderedItems[b]}},{key:"_removeAllElements",value:function(){var b=this;Object.keys(this._renderedItems).forEach(function(a){return b._removeElement(a)})}},{key:"_calculateStartIndex",value:function(b){var c=0,d=this._itemCount-1;if(this.staticItemHeight)return parseInt(-b/this.staticItemHeight);for(;;){var e=Math.floor((c+d)/2),f=b+this._topPositions[e];if(d<c)return 0;if(f<=0&&f+this._getItemHeight(e)>0)return e;isNaN(f)||f>=0?d=e-1:c=e+1}}},{key:"_recalculateTopPositions",value:function(){Math.min(this._topPositions.length,this._itemCount);this._topPositions[0]=0;for(var d,c=1;c<d;c++)this._topPositions[c]=this._topPositions[c-1]+this._getItemHeight(c)}},{key:"_getItemsInView",value:function(){var b=this._wrapperElement.getBoundingClientRect().top,c=4*window.innerHeight-b,d=this._countItems();d!==this._itemCount&&(this._itemCount=d,this._recalculateTopPositions());for(var e=Math.max(0,this._calculateStartIndex(b)-30),f=[],g=this._topPositions[e];e<d&&g<c;e++)e>=this._topPositions.length&&(this._topPositions.length+=100),this._topPositions[e]=g,f.push({top:g,index:e}),g+=this._getItemHeight(e);return this._listHeight=g,f}},{key:"_debounce",value:function(b,c,d){var e=void 0;return function(){var a=this,f=arguments,g=d&&!e;clearTimeout(e),g?b.apply(this,arguments):e=setTimeout(function(){e=null,b.apply(a,f)},c)}}},{key:"_doubleFireOnTouchend",value:function(){this._render(),this._debounce(this._render.bind(this),100)}},{key:"_addEventListeners",value:function(){l.bindListeners(this,["_onChange","_doubleFireOnTouchend"]),G.isIOS()&&(this._boundOnChange=this._debounce(this._boundOnChange,30)),this._pageContent.addEventListener("scroll",this._boundOnChange,!0),G.isIOS()&&(this._pageContent.addEventListener("touchmove",this._boundOnChange,!0),this._pageContent.addEventListener("touchend",this._boundDoubleFireOnTouchend,!0)),window.document.addEventListener("resize",this._boundOnChange,!0)}},{key:"_removeEventListeners",value:function(){this._pageContent.removeEventListener("scroll",this._boundOnChange,!0),G.isIOS()&&(this._pageContent.removeEventListener("touchmove",this._boundOnChange,!0),this._pageContent.removeEventListener("touchend",this._boundDoubleFireOnTouchend,!0)),window.document.removeEventListener("resize",this._boundOnChange,!0)}},{key:"destroy",value:function(){this._removeAllElements(),this._delegate.destroy(),this._parentElement=this._delegate=this._renderedItems=null,this._removeEventListeners()}},{key:"staticItemHeight",get:function(){return this._delegate.itemHeight||this._itemHeight}}]),b}();J.AnimatorFactory=K,J.ModifierUtil=L,J.LazyRepeatProvider=N,J.LazyRepeatDelegate=M;var O=function(){var b={_isPortrait:!1,isPortrait:function(){return this._isPortrait()},isLandscape:function(){return!this.isPortrait()},_init:function(){return document.addEventListener("DOMContentLoaded",this._onDOMContentLoaded.bind(this),!1),"orientation"in window?window.addEventListener("orientationchange",this._onOrientationChange.bind(this),!1):window.addEventListener("resize",this._onResize.bind(this),!1),this._isPortrait=function(){return window.innerHeight>window.innerWidth},this},_onDOMContentLoaded:function(){this._installIsPortraitImplementation(),this.emit("change",{isPortrait:this.isPortrait()})},_installIsPortraitImplementation:function(){var b=window.innerWidth<window.innerHeight;"orientation"in window?window.orientation%180===0?this._isPortrait=function(){return 0===Math.abs(window.orientation%180)?b:!b}:this._isPortrait=function(){return 90===Math.abs(window.orientation%180)?b:!b}:this._isPortrait=function(){return window.innerHeight>window.innerWidth}},_onOrientationChange:function(){var b=this,c=this._isPortrait(),d=0,e=setInterval(function(){d++;var a=window.innerWidth,f=window.innerHeight;c&&a<=f||!c&&a>=f?(b.emit("change",{isPortrait:c}),clearInterval(e)):50===d&&(b.emit("change",{isPortrait:c}),clearInterval(e))},20)},_onResize:function(){this.emit("change",{isPortrait:this.isPortrait()})}};return MicroEvent.mixin(b),b},P=O()._init(),Q=new MicroEvent;Q._visible=!1;var R=function(){Q._visible=!0,Q.emit("show")},S=function(){Q._visible=!1,Q.emit("hide")},T=function(){return"undefined"!=typeof Keyboard?(Keyboard.onshow=R,Keyboard.onhide=S,Q.emit("init",{visible:Keyboard.isVisible}),!0):"undefined"!=typeof cordova.plugins&&"undefined"!=typeof cordova.plugins.Keyboard&&(window.addEventListener("native.keyboardshow",R),window.addEventListener("native.keyboardhide",S),Q.emit("init",{visible:cordova.plugins.Keyboard.isVisible}),!0)},U=function(){console.warn("ons-keyboard: Cordova Keyboard plugin is not present.")};document.addEventListener("deviceready",function(){T()||((document.querySelector("[ons-keyboard-active]")||document.querySelector("[ons-keyboard-inactive]"))&&U(),Q.on=U)});var V={_ready:!1,_domContentLoaded:!1,_onDOMContentLoaded:function(){V._domContentLoaded=!0,G.isWebView()?window.document.addEventListener("deviceready",function(){V._ready=!0},!1):V._ready=!0},addBackButtonListener:function(b){if(!this._domContentLoaded)throw new Error("This method is available after DOMContentLoaded");this._ready?window.document.addEventListener("backbutton",b,!1):window.document.addEventListener("deviceready",function(){window.document.addEventListener("backbutton",b,!1)})},removeBackButtonListener:function(b){if(!this._domContentLoaded)throw new Error("This method is available after DOMContentLoaded");this._ready?window.document.removeEventListener("backbutton",b,!1):window.document.addEventListener("deviceready",function(){window.document.removeEventListener("backbutton",b,!1)})}};window.addEventListener("DOMContentLoaded",function(){return V._onDOMContentLoaded()},!1);var W={_store:{},_genId:function(){var a=0;return function(){return a++}}(),set:function(b,c){b.dataset.deviceBackButtonHandlerId&&this.remove(b);var d=b.dataset.deviceBackButtonHandlerId=W._genId();this._store[d]=c},remove:function(b){b.dataset.deviceBackButtonHandlerId&&(delete this._store[b.dataset.deviceBackButtonHandlerId],delete b.dataset.deviceBackButtonHandlerId)},get:function(b){if(b.dataset.deviceBackButtonHandlerId){var c=b.dataset.deviceBackButtonHandlerId;if(!this._store[c])throw new Error;return this._store[c]}},has:function(b){if(!b.dataset)return!1;var c=b.dataset.deviceBackButtonHandlerId;return!!this._store[c]}},X=function(){function b(){a.classCallCheck(this,b),this._isEnabled=!1,this._boundCallback=this._callback.bind(this)}return a.createClass(b,[{key:"enable",value:function(){this._isEnabled||(V.addBackButtonListener(this._boundCallback),this._isEnabled=!0)}},{key:"disable",value:function(){this._isEnabled&&(V.removeBackButtonListener(this._boundCallback),this._isEnabled=!1)}},{key:"fireDeviceBackButtonEvent",value:function(){var b=document.createEvent("Event");b.initEvent("backbutton",!0,!0),document.dispatchEvent(b)}},{key:"_callback",value:function(){this._dispatchDeviceBackButtonEvent()}},{key:"createHandler",value:function(b,c){if(!(b instanceof HTMLElement))throw new Error("element must be an instance of HTMLElement");if(!(c instanceof Function))throw new Error("callback must be an instance of Function");var d={_callback:c,_element:b,disable:function(){W.remove(b)},setListener:function(b){this._callback=b},enable:function(){W.set(b,this)},isEnabled:function(){return W.get(b)===this},destroy:function(){W.remove(b),this._callback=this._element=null}};return d.enable(),d}},{key:"_dispatchDeviceBackButtonEvent",value:function(){function e(a){return{_element:a,callParentHandler:function(){for(var b=this._element.parentNode;b;){if(d=W.get(b))return d._callback(e(b));b=b.parentNode;
}}}}var b=this._captureTree(),c=this._findHandlerLeafElement(b),d=W.get(c);d._callback(e(c))}},{key:"_captureTree",value:function(){function b(a){return{element:a,children:Array.prototype.concat.apply([],c(a.children).map(function(a){if("none"===a.style.display)return[];if(0===a.children.length&&!W.has(a))return[];var c=b(a);return 0!==c.children.length||W.has(c.element)?[c]:[]}))}}function c(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}return b(document.body)}},{key:"_findHandlerLeafElement",value:function(b){function c(a){return 0===a.children.length?a.element:1===a.children.length?c(a.children[0]):a.children.map(function(a){return a.element}).reduce(function(a,b){if(!a)return b;var c=parseInt(window.getComputedStyle(a,"").zIndex,10),d=parseInt(window.getComputedStyle(b,"").zIndex,10);if(!isNaN(c)&&!isNaN(d))return c>d?a:b;throw new Error("Capturing backbutton-handler is failure.")},null)}return c(b)}}]),b}(),Y=new X,Z=!0,$={quiet:"material--flat",light:"material--flat",outline:"material--flat",cta:"","large--quiet":"material--flat large","large--cta":"large",noborder:"",chevron:"",tappable:""},_={};_.android=function(a){if(!/ons-fab|ons-speed-dial|ons-progress/.test(a.tagName.toLowerCase())&&!/material/.test(a.getAttribute("modifier"))){var b=a.getAttribute("modifier")||"",c=b.trim().split(/\s+/).map(function(a){return $.hasOwnProperty(a)?$[a]:a});c.unshift("material"),a.setAttribute("modifier",c.join(" ").trim())}!/ons-button|ons-list-item|ons-fab|ons-speed-dial|ons-tab$/.test(a.tagName.toLowerCase())||a.hasAttribute("ripple")||l.findChild(a,"ons-ripple")||("ons-list-item"===a.tagName.toLowerCase()?a.hasAttribute("tappable")&&(a.setAttribute("ripple",""),a.removeAttribute("tappable")):a.setAttribute("ripple",""))},_.ios=function(a){/material/.test(a.getAttribute("modifier"))&&(l.removeModifier(a,"material"),l.removeModifier(a,"material--flat")&&l.addModifier(a,l.removeModifier(a,"large")?"large--quiet":"quiet"),a.getAttribute("modifier")||a.removeAttribute("modifier")),a.hasAttribute("ripple")&&("ons-list-item"===a.tagName.toLowerCase()&&a.setAttribute("tappable",""),a.removeAttribute("ripple"))};var aa={android:!0},ba=function(b,c){if(Z&&!b.hasAttribute("disable-auto-styling")){var d=G.getMobileOS();_.hasOwnProperty(d)&&(aa.hasOwnProperty(d)||c)&&_[d](b)}},ca={isEnabled:function(){return Z},enable:function(){return Z=!0},disable:function(){return Z=!1},prepare:ba},da=function(){var a=0;return function(){return a++}}(),ea=function(){function b(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];a.classCallCheck(this,b),this._lockList=[],this._waitList=[],this._log=c.log||function(){}}return a.createClass(b,[{key:"lock",value:function(){var b=this,c=function a(){b._unlock(a)};return c.id=da(),this._lockList.push(c),this._log("lock: "+c.id),c}},{key:"_unlock",value:function(b){var c=this._lockList.indexOf(b);if(c===-1)throw new Error("This function is not registered in the lock list.");this._lockList.splice(c,1),this._log("unlock: "+b.id),this._tryToFreeWaitList()}},{key:"_tryToFreeWaitList",value:function(){for(;!this.isLocked()&&this._waitList.length>0;)this._waitList.shift()()}},{key:"waitUnlock",value:function(b){if(!(b instanceof Function))throw new Error("The callback param must be a function.");this.isLocked()?this._waitList.push(b):b()}},{key:"isLocked",value:function(){return this._lockList.length>0}}]),b}(),fa=new WeakMap,ga=new WeakMap,na=function(){function b(c){a.classCallCheck(this,b),this._loader=c instanceof Function?c:ma}return a.createClass(b,[{key:"load",value:function(b,c){var d=b.page,e=b.parent,f=b.params,g=void 0===f?{}:f;this._loader({page:d,parent:e,params:g},function(a){if(!(a.element instanceof Element))throw Error("target.element must be an instance of Element.");if(!(a.unload instanceof Function))throw Error("target.unload must be an instance of Function.");c(a)},g)}},{key:"internalLoader",set:function(b){if(!(b instanceof Function))throw Error("First parameter must be an instance of Function");this._loader=b},get:function(){return this._loader}}]),b}(),oa=new na,pa=new na(function(a,b){var c=a.page,d=a.parent,g=(a.params,l.createElement(c.trim()));d.appendChild(g),b({element:g,unload:function(){return g.remove()}})}),qa={};qa._util=l,qa._deviceBackButtonDispatcher=Y,qa._internal=J,qa.GestureDetector=q,qa.platform=G,qa.softwareKeyboard=Q,qa.pageAttributeExpression=I,qa.orientation=P,qa.notification=H,qa._animationOptionsParser=k,qa._autoStyle=ca,qa._DoorLock=ea,qa._contentReady=la,qa.defaultPageLoader=oa,qa.PageLoader=na,qa._readyLock=new ea,qa.platform.select((window.location.search.match(/platform=([\w-]+)/)||[])[1]),ra(),qa.isReady=function(){return!qa._readyLock.isLocked()},qa.isWebView=qa.platform.isWebView,qa.ready=function(a){qa.isReady()?a():qa._readyLock.waitUnlock(a)},qa.setDefaultDeviceBackButtonListener=function(a){qa._defaultDeviceBackButtonHandler.setListener(a)},qa.disableDeviceBackButtonHandler=function(){qa._deviceBackButtonDispatcher.disable()},qa.enableDeviceBackButtonHandler=function(){qa._deviceBackButtonDispatcher.enable()},qa.enableAutoStatusBarFill=function(){if(qa.isReady())throw new Error("This method must be called before ons.isReady() is true.");qa._internal.config.autoStatusBarFill=!0},qa.disableAutoStatusBarFill=function(){if(qa.isReady())throw new Error("This method must be called before ons.isReady() is true.");qa._internal.config.autoStatusBarFill=!1},qa.disableAnimations=function(){qa._internal.config.animationsDisabled=!0},qa.enableAnimations=function(){qa._internal.config.animationsDisabled=!1},qa.disableAutoStyling=qa._autoStyle.disable,qa.enableAutoStyling=qa._autoStyle.enable,qa.forcePlatformStyling=function(a){qa.enableAutoStyling(),qa.platform.select(a||"ios"),qa._util.arrayFrom(document.querySelectorAll("*")).forEach(function(a){"ons-if"===a.tagName.toLowerCase()?a._platformUpdate():a.tagName.match(/^ons-/i)&&(qa._autoStyle.prepare(a,!0),"ons-tabbar"===a.tagName.toLowerCase()&&a._updatePosition())})},qa._createPopoverOriginal=function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!a)throw new Error("Page url must be defined.");return qa._internal.getPageHTMLAsync(a).then(function(a){a=a.match(/<ons-popover/gi)?"<div>"+a+"</div>":"<ons-popover>"+a+"</ons-popover>";var c=qa._util.createElement("<div>"+a+"</div>"),d=c.querySelector("ons-popover");return CustomElements.upgrade(d),document.body.appendChild(d),b.link instanceof Function&&b.link(d),d})},qa.createPopover=qa._createPopoverOriginal,qa._createDialogOriginal=function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!a)throw new Error("Page url must be defined.");return qa._internal.getPageHTMLAsync(a).then(function(a){a=a.match(/<ons-dialog/gi)?"<div>"+a+"</div>":"<ons-dialog>"+a+"</ons-dialog>";var c=qa._util.createElement("<div>"+a+"</div>"),d=c.querySelector("ons-dialog");return CustomElements.upgrade(d),document.body.appendChild(d),b.link instanceof Function&&b.link(d),d})},qa.createDialog=qa._createDialogOriginal,qa._createAlertDialogOriginal=function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!a)throw new Error("Page url must be defined.");return qa._internal.getPageHTMLAsync(a).then(function(a){a=a.match(/<ons-alert-dialog/gi)?"<div>"+a+"</div>":"<ons-alert-dialog>"+a+"</ons-alert-dialog>";var c=qa._util.createElement("<div>"+a+"</div>"),d=c.querySelector("ons-alert-dialog");return CustomElements.upgrade(d),document.body.appendChild(d),b.link instanceof Function&&b.link(d),d})},qa.createAlertDialog=qa._createAlertDialogOriginal,qa._resolveLoadingPlaceholderOriginal=function(a,b){var c=qa._util.arrayFrom(window.document.querySelectorAll("[ons-loading-placeholder]"));if(!(c.length>0))throw new Error("No ons-loading-placeholder exists.");c.filter(function(a){return!a.getAttribute("page")}).forEach(function(c){c.setAttribute("ons-loading-placeholder",a),qa._resolveLoadingPlaceholder(c,a,b)})},qa.resolveLoadingPlaceholder=qa._resolveLoadingPlaceholderOriginal,qa._setupLoadingPlaceHolders=function(){qa.ready(function(){var a=qa._util.arrayFrom(window.document.querySelectorAll("[ons-loading-placeholder]"));a.forEach(function(a){var b=a.getAttribute("ons-loading-placeholder");"string"==typeof b&&qa._resolveLoadingPlaceholder(a,b)})})},qa._resolveLoadingPlaceholder=function(a,b,c){c=c||function(a,b){b()},qa._internal.getPageHTMLAsync(b).then(function(b){for(;a.firstChild;)a.removeChild(a.firstChild);var d=qa._util.createElement("<div>"+b+"</div>");d.style.display="none",a.appendChild(d),c(d,function(){d.style.display=""})}).catch(function(a){throw new Error("Unabled to resolve placeholder: "+a)})},window._superSecretOns=qa;var ta=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),c}(sa()),ua=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){for(this.template=this.innerHTML;this.firstChild;)this.removeChild(this.firstChild)}},{key:"attachedCallback",value:function(){var b=new CustomEvent("_templateloaded",{bubbles:!0,cancelable:!0});b.template=this.template,b.templateId=this.getAttribute("id"),this.dispatchEvent(b)}}]),c}(ta);window.OnsTemplateElement=document.registerElement("ons-template",{prototype:ua.prototype});var va=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;la(this,function(){if(null!==G._renderPlatform)b._platformUpdate();else if(!b._isAllowedPlatform()){for(;b.childNodes[0];)b.childNodes[0].remove();b._platformUpdate()}}),this._onOrientationChange()}},{key:"attachedCallback",value:function(){P.on("change",this._onOrientationChange.bind(this))}},{key:"attributeChangedCallback",value:function(b){"orientation"===b&&this._onOrientationChange()}},{key:"detachedCallback",value:function(){P.off("change",this._onOrientationChange)}},{key:"_platformUpdate",value:function(){this.style.display=this._isAllowedPlatform()?"":"none"}},{key:"_isAllowedPlatform",value:function(){return!this.getAttribute("platform")||this.getAttribute("platform").split(/\s+/).indexOf(G.getMobileOS())>=0}},{key:"_onOrientationChange",value:function(){if(this.hasAttribute("orientation")&&this._isAllowedPlatform()){var b=this.getAttribute("orientation").toLowerCase(),c=P.isPortrait()?"portrait":"landscape";this.style.display=b===c?"":"none"}}}]),c}(ta);window.OnsConditionalElement=document.registerElement("ons-if",{prototype:va.prototype});var wa=function(){function b(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],d=c.timing,e=void 0===d?"linear":d,f=c.delay,g=void 0===f?0:f,h=c.duration,i=void 0===h?.2:h;a.classCallCheck(this,b),this.timing=e,this.delay=g,this.duration=i}return a.createClass(b,[{key:"show",value:function(b,c){c()}},{key:"hide",value:function(b,c){c()}}]),b}(),xa=function(b){function c(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],d=b.timing,e=void 0===d?"cubic-bezier(.1, .7, .4, 1)":d,f=b.duration,g=void 0===f?.2:f,h=b.delay,i=void 0===h?0:h;return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).call(this,{duration:g,timing:e,delay:i}))}return a.inherits(c,b),a.createClass(c,[{key:"show",value:function(b,c){c=c?c:function(){},animit.runAll(animit(b._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),animit(b._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(0.9, 0.9, 1.0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}},{key:"hide",value:function(b,c){c=c?c:function(){},animit.runAll(animit(b._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),animit(b._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(0.9, 0.9, 1.0)",opacity:0},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}}]),c}(wa),ya=function(b){function c(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],d=b.timing,e=void 0===d?"cubic-bezier(.1, .7, .4, 1)":d,f=b.duration,g=void 0===f?.2:f,h=b.delay,i=void 0===h?0:h;return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).call(this,{duration:g,timing:e,delay:i}))}return a.inherits(c,b),a.createClass(c,[{key:"show",value:function(b,c){c=c?c:function(){},animit.runAll(animit(b._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),animit(b._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.3, 1.3, 1.0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}},{key:"hide",value:function(b,c){c=c?c:function(){},animit.runAll(animit(b._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),animit(b._dialog).saveStyle().queue({css:{opacity:1},duration:0}).wait(this.delay).queue({css:{opacity:0},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}}]),c}(wa),za={".alert-dialog":"alert-dialog--*",".alert-dialog-container":"alert-dialog-container--*",".alert-dialog-title":"alert-dialog-title--*",".alert-dialog-content":"alert-dialog-content--*",".alert-dialog-footer":"alert-dialog-footer--*",".alert-dialog-button":"alert-dialog-button--*",".alert-dialog-footer--one":"alert-dialog-footer--one--*",".alert-dialog-button--one":"alert-dialog-button--one--*",".alert-dialog-button--primal":"alert-dialog-button--primal--*",".alert-dialog-mask":"alert-dialog-mask--*"},Aa={none:wa,default:function(){return G.isAndroid()?xa:ya},fade:function(){return G.isAndroid()?xa:ya}},Ba=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;la(this,function(){return b._compile()}),this._visible=!1,this._doorLock=new ea,this._boundCancel=this._cancel.bind(this),this._updateAnimatorFactory()}},{key:"_updateAnimatorFactory",value:function(){this._animatorFactory=new K({animators:Aa,baseClass:wa,baseClassName:"AlertDialogAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){ca.prepare(this),this.style.display="none";var b=document.createDocumentFragment();if(!this._mask&&!this._dialog)for(;this.firstChild;)b.appendChild(this.firstChild);if(!this._mask){var c=document.createElement("div");c.classList.add("alert-dialog-mask"),this.insertBefore(c,this.children[0])}if(!this._dialog){var d=document.createElement("div");d.classList.add("alert-dialog"),this.insertBefore(d,null)}if(!l.findChild(this._dialog,".alert-dialog-container")){var e=document.createElement("div");e.classList.add("alert-dialog-container"),this._dialog.appendChild(e)}this._dialog.children[0].appendChild(b),this._dialog.style.zIndex=20001,this._mask.style.zIndex=2e4,this.getAttribute("mask-color")&&(this._mask.style.backgroundColor=this.getAttribute("mask-color")),L.initModifier(this,za)}},{key:"show",value:function(){var c=this,d=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=!1,f=d.callback||function(){};if(d.animationOptions=l.extend(d.animationOptions||{},K.parseAnimationOptionsString(this.getAttribute("animation-options"))),l.triggerElementEvent(this,"preshow",{alertDialog:this,cancel:function(){e=!0}}),e)return Promise.reject("Canceled in preshow event.");var g=function(){var a=function(){var b=c._doorLock.lock(),e=c._animatorFactory.newAnimator(d);return c.style.display="block",c._mask.style.opacity="1",new Promise(function(a){la(c,function(){e.show(c,function(){c._visible=!0,b(),l.triggerElementEvent(c,"postshow",{alertDialog:c}),f(),a(c)})})})};return{v:new Promise(function(b){c._doorLock.waitUnlock(function(){return b(a())})})}}();return"object"===("undefined"==typeof g?"undefined":a.typeof(g))?g.v:void 0}},{key:"hide",value:function(){var c=this,d=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=!1,f=d.callback||function(){};if(d.animationOptions=l.extend(d.animationOptions||{},K.parseAnimationOptionsString(this.getAttribute("animation-options"))),l.triggerElementEvent(this,"prehide",{alertDialog:this,cancel:function(){e=!0}}),e)return Promise.reject("Canceled in prehide event.");var g=function(){var a=function(){var b=c._doorLock.lock(),e=c._animatorFactory.newAnimator(d);return new Promise(function(a){la(c,function(){e.hide(c,function(){c.style.display="none",c._visible=!1,b(),l.triggerElementEvent(c,"posthide",{alertDialog:c}),f(),a(c)})})})};return{v:new Promise(function(b){c._doorLock.waitUnlock(function(){return b(a())})})}}();return"object"===("undefined"==typeof g?"undefined":a.typeof(g))?g.v:void 0}},{key:"_cancel",value:function(){var b=this;this.cancelable&&!this._running&&(this._running=!0,this.hide({callback:function(){b._running=!1,l.triggerElementEvent(b,"dialog-cancel")}}))}},{key:"attachedCallback",value:function(){var b=this;this.onDeviceBackButton=function(a){return b.cancelable?b._cancel():a.callParentHandler()},la(this,function(){b._mask.addEventListener("click",b._boundCancel,!1)})}},{key:"detachedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this._mask.removeEventListener("click",this._boundCancel.bind(this),!1)}},{key:"attributeChangedCallback",value:function(b,c,d){return"modifier"===b?L.onModifierChanged(c,d,this,za):void("animation"===b&&this._updateAnimatorFactory())}},{key:"_mask",get:function(){return l.findChild(this,".alert-dialog-mask")}},{key:"_dialog",get:function(){return l.findChild(this,".alert-dialog")}},{key:"_titleElement",get:function(){return l.findChild(this._dialog.children[0],".alert-dialog-title")}},{key:"_contentElement",get:function(){return l.findChild(this._dialog.children[0],".alert-dialog-content")}},{key:"disabled",set:function(b){return l.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}},{key:"cancelable",set:function(b){return l.toggleAttribute(this,"cancelable",b)},get:function(){return this.hasAttribute("cancelable")}},{key:"visible",get:function(){return this._visible}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(b){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=Y.createHandler(this,b)}}]),c}(ta),Ca=window.OnsAlertDialogElement=document.registerElement("ons-alert-dialog",{prototype:Ba.prototype});Ca.registerAnimator=function(a,b){if(!(b.prototype instanceof wa))throw new Error('"Animator" param must inherit OnsAlertDialogElement.AlertDialogAnimator');Aa[a]=b},Ca.AlertDialogAnimator=wa;var Da={"":"back-button--*",".back-button__icon":"back-button--*__icon",".back-button__label":"back-button--*__label"},Ea=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;la(this,function(){b.hasAttribute("_compiled")||b._compile()}),this._options={},this._boundOnClick=this._onClick.bind(this)}},{key:"_compile",value:function(){if(ca.prepare(this),this.classList.add("back-button"),!l.findChild(this,".back-button__label")){for(var b=l.create("span.back-button__label");this.childNodes[0];)b.appendChild(this.childNodes[0]);this.appendChild(b)}if(!l.findChild(this,".back-button__icon")){var c=l.create("span.back-button__icon");this.insertBefore(c,this.children[0])}L.initModifier(this,Da),this.setAttribute("_compiled","")}},{key:"_onClick",value:function(){if(this.onClick)this.onClick.apply(this);else{var b=l.findParent(this,"ons-navigator");b&&b.popPage(this.options)}}},{key:"attachedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return L.onModifierChanged(c,d,this,Da)}},{key:"detachedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"show",value:function(){this.style.display="inline-block"}},{key:"hide",value:function(){this.style.display="none"}},{key:"options",get:function(){return this._options},set:function(b){this._options=b}}]),c}(ta);window.OnsBackButtonElement=document.registerElement("ons-back-button",{prototype:Ea.prototype});var Fa={"":"bottom-bar--*"},Ga=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){this.classList.add("bottom-bar"),L.initModifier(this,Fa)}},{key:"attachedCallback",value:function(){l.match(this.parentNode,"ons-page")&&this.parentNode.classList.add("page-with-bottom-toolbar")}},{key:"attributeChangedCallback",value:function(b,c,d){"modifier"===b&&L.onModifierChanged(c,d,this,Fa)}}]),c}(ta);window.OnsBottomToolbarElement=document.registerElement("ons-bottom-toolbar",{prototype:Ga.prototype});var Ha={"":"button--*"},Ia=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){this.hasAttribute("_compiled")||this._compile()}},{key:"attributeChangedCallback",value:function(b,c,d){switch(b){case"modifier":L.onModifierChanged(c,d,this,Ha);break;case"ripple":this._updateRipple()}}},{key:"_compile",value:function(){ca.prepare(this),this.classList.add("button"),this._updateRipple(),L.initModifier(this,Ha),this.setAttribute("_compiled","")}},{key:"_updateRipple",value:function(){l.updateRipple(this)}},{key:"disabled",set:function(b){return l.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}}]),c}(ta);window.OnsButtonElement=document.registerElement("ons-button",{prototype:Ia.prototype});var Ja={"":"carousel-item--*"},Ka=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){this.style.width="100%",L.initModifier(this,Ja)}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return L.onModifierChanged(c,d,this,Ja)}}]),c}(ta);window.OnsCarouselItemElement=document.registerElement("ons-carousel-item",{prototype:Ka.prototype});var La={_getScrollDelta:function(b){return b.gesture.deltaY},_getScrollVelocity:function(b){return b.gesture.velocityY},_getElementSize:function(){return this._currentElementSize||(this._currentElementSize=this.getBoundingClientRect().height),this._currentElementSize},_generateScrollTransform:function(b){return"translate3d(0px, "+-b+"px, 0px)"},_updateDimensionData:function(){this._style=window.getComputedStyle(this),this._dimensions=this.getBoundingClientRect()},_updateOffset:function(){if(this.centered){var b=(this._dimensions.height||0)-parseInt(this._style.paddingTop,10)-parseInt(this._style.paddingBottom,10);this._offset=-(b-this._getCarouselItemSize())/2}},_layoutCarouselItems:function(){for(var b=this._getCarouselItemElements(),c=this._getCarouselItemSizeAttr(),d=this._decomposeSizeString(c),e=0;e<b.length;e++)b[e].style.position="absolute",b[e].style.height=c,b[e].style.visibility="visible",b[e].style.top=e*d.number+d.unit},_setup:function(){this._updateDimensionData(),this._updateOffset(),this._layoutCarouselItems()}},Ma={_getScrollDelta:function(b){return b.gesture.deltaX},_getScrollVelocity:function(b){return b.gesture.velocityX},_getElementSize:function(){return this._currentElementSize||(this._currentElementSize=this.getBoundingClientRect().width),this._currentElementSize},_generateScrollTransform:function(b){return"translate3d("+-b+"px, 0px, 0px)"},_updateDimensionData:function(){this._style=window.getComputedStyle(this),this._dimensions=this.getBoundingClientRect()},_updateOffset:function(){if(this.centered){var b=(this._dimensions.width||0)-parseInt(this._style.paddingLeft,10)-parseInt(this._style.paddingRight,10);this._offset=-(b-this._getCarouselItemSize())/2}},_layoutCarouselItems:function(){for(var b=this._getCarouselItemElements(),c=this._getCarouselItemSizeAttr(),d=this._decomposeSizeString(c),e=0;e<b.length;e++)b[e].style.position="absolute",b[e].style.width=c,b[e].style.visibility="visible",b[e].style.left=e*d.number+d.unit},_setup:function(){this._updateDimensionData(),this._updateOffset(),this._layoutCarouselItems()}},Na=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){this._doorLock=new ea,this._scroll=0,this._offset=0,this._lastActiveIndex=0,this._boundOnDrag=this._onDrag.bind(this),this._boundOnDragEnd=this._onDragEnd.bind(this),this._boundOnResize=this._onResize.bind(this),this._mixin(this._isVertical()?La:Ma)}},{key:"_onResize",value:function(){var b=this._scroll/this._currentElementSize;delete this._currentElementSize,this.setActiveIndex(b)}},{key:"_onDirectionChange",value:function(){this._isVertical()?(this.style.overflowX="auto",this.style.overflowY=""):(this.style.overflowX="",this.style.overflowY="auto"),this.refresh()}},{key:"_saveLastState",value:function(){this._lastState={elementSize:this._getCarouselItemSize(),carouselElementCount:this.itemCount,width:this._getCarouselItemSize()*this.itemCount}}},{key:"_getCarouselItemSize",value:function(){var b=this._getCarouselItemSizeAttr(),c=this._decomposeSizeString(b),d=this._getElementSize();if("%"===c.unit)return Math.round(c.number/100*d);if("px"===c.unit)return c.number;throw new Error("Invalid state")}},{key:"_getInitialIndex",value:function(){var b=parseInt(this.getAttribute("initial-index"),10);return"number"!=typeof b||isNaN(b)?0:Math.max(Math.min(b,this.itemCount-1),0)}},{key:"_getCarouselItemSizeAttr",value:function(){var b="item-"+(this._isVertical()?"height":"width"),c=(""+this.getAttribute(b)).trim();return c.match(/^\d+(px|%)$/)?c:"100%"}},{key:"_decomposeSizeString",value:function(b){var c=b.match(/^(\d+)(px|%)/);return{number:parseInt(c[1],10),unit:c[2]}}},{key:"_setupInitialIndex",value:function(){this._scroll=(this._offset||0)+this._getCarouselItemSize()*this._getInitialIndex(),this._lastActiveIndex=this._getInitialIndex(),this._scrollTo(this._scroll)}},{key:"setActiveIndex",value:function(c){var d=this,e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(e&&"object"!=("undefined"==typeof e?"undefined":a.typeof(e)))throw new Error("options must be an object. You supplied "+e);e.animationOptions=l.extend({duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"},e.animationOptions||{},this.hasAttribute("animation-options")?l.animationOptionsParse(this.getAttribute("animation-options")):{}),c=Math.max(0,Math.min(c,this.itemCount-1));var f=(this._offset||0)+this._getCarouselItemSize()*c,g=this._calculateMaxScroll();return this._scroll=Math.max(0,Math.min(g,f)),this._scrollTo(this._scroll,e).then(function(){return d._tryFirePostChangeEvent(),d})}},{key:"getActiveIndex",value:function(){var b=this._scroll-(this._offset||0),c=this.itemCount,d=this._getCarouselItemSize();if(b<0)return 0;var e=void 0;for(e=0;e<c;e++)if(d*e<=b&&d*(e+1)>b)return e;return e}},{key:"next",value:function(b){return this.setActiveIndex(this.getActiveIndex()+1,b)}},{key:"prev",value:function(b){return this.setActiveIndex(this.getActiveIndex()-1,b)}},{key:"_isEnabledChangeEvent",value:function(){var b=this._getElementSize(),c=this._getCarouselItemSize();return this.autoScroll&&b===c}},{key:"_isVertical",value:function(){return"vertical"===this.getAttribute("direction")}},{key:"_prepareEventListeners",value:function(){var b=this;this._gestureDetector=new q(this,{dragMinDistance:1,dragLockToAxis:!0}),this._mutationObserver=new MutationObserver(function(){return b.refresh()}),this._updateSwipeable(),this._updateAutoRefresh(),window.addEventListener("resize",this._boundOnResize,!0)}},{key:"_removeEventListeners",value:function(){this._gestureDetector.dispose(),this._gestureDetector=null,this._mutationObserver.disconnect(),this._mutationObserver=null,window.removeEventListener("resize",this._boundOnResize,!0)}},{key:"_updateSwipeable",value:function(){this._gestureDetector&&(this.swipeable?(this._gestureDetector.on("drag dragleft dragright dragup dragdown swipe swipeleft swiperight swipeup swipedown",this._boundOnDrag),this._gestureDetector.on("dragend",this._boundOnDragEnd)):(this._gestureDetector.off("drag dragleft dragright dragup dragdown swipe swipeleft swiperight swipeup swipedown",this._boundOnDrag),this._gestureDetector.off("dragend",this._boundOnDragEnd)))}},{key:"_updateAutoRefresh",value:function(){this._mutationObserver&&(this.hasAttribute("auto-refresh")?this._mutationObserver.observe(this,{childList:!0}):this._mutationObserver.disconnect())}},{key:"_tryFirePostChangeEvent",value:function(){var b=this.getActiveIndex();if(this._lastActiveIndex!==b){var c=this._lastActiveIndex;this._lastActiveIndex=b,l.triggerElementEvent(this,"postchange",{carousel:this,activeIndex:b,lastActiveIndex:c})}}},{key:"_isWrongDirection",value:function(b){return this._isVertical()?"left"===b||"right"===b:"up"===b||"down"===b}},{key:"_onDrag",value:function(b){if(!this._isWrongDirection(b.gesture.direction)){b.stopPropagation(),this._lastDragEvent=b;var c=this._scroll-this._getScrollDelta(b);this._scrollTo(c),b.gesture.preventDefault(),this._tryFirePostChangeEvent()}}},{key:"_onDragEnd",value:function(b){var c=this;if(this._lastDragEvent){if(this._currentElementSize=void 0,this._scroll=this._scroll-this._getScrollDelta(b),this._isOverScroll(this._scroll)){var d=!1;l.triggerElementEvent(this,"overscroll",{carousel:this,activeIndex:this.getActiveIndex(),direction:this._getOverScrollDirection(),waitToReturn:function(b){d=!0,b.then(function(){return c._scrollToKillOverScroll()})}}),d||this._scrollToKillOverScroll()}else this._startMomentumScroll();this._lastDragEvent=null,b.gesture.preventDefault()}}},{key:"_mixin",value:function(b){Object.keys(b).forEach(function(a){this[a]=b[a]}.bind(this))}},{key:"_startMomentumScroll",value:function(){if(this._lastDragEvent){var b=this._getScrollVelocity(this._lastDragEvent),c=.3,d=100*c*b,e=this._normalizeScrollPosition(this._scroll+(this._getScrollDelta(this._lastDragEvent)>0?-d:d));this._scroll=e,animit(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(this._scroll)},{duration:c,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(a){a(),this._tryFirePostChangeEvent()}.bind(this)).play()}}},{key:"_normalizeScrollPosition",value:function(b){var c=this._calculateMaxScroll();if(!this.autoScroll)return Math.max(0,Math.min(c,b));for(var d=[],e=this._getCarouselItemSize(),f=this.itemCount,g=0;g<f;g++)g*e+this._offset<c&&d.push(g*e+this._offset);d.push(c),d.sort(function(a,c){return a=Math.abs(a-b),c=Math.abs(c-b),a-c}),d=d.filter(function(a,b){return!b||a!=d[b-1]});var h=this._lastActiveIndex*e+this._offset,i=Math.abs(b-h)/e,j=d[0];return i<=this.autoScrollRatio?j=h:i<1&&d[0]===h&&d.length>1&&(j=d[1]),Math.max(0,Math.min(c,j))}},{key:"_getCarouselItemElements",
value:function(){return l.arrayFrom(this.children).filter(function(a){return"ons-carousel-item"===a.nodeName.toLowerCase()})}},{key:"_scrollTo",value:function(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],e=this.overscrollable,f=function(b){var d=.35;if(b<0)return e?Math.round(b*d):0;var f=c._calculateMaxScroll();return f<b?e?f+Math.round((b-f)*d):f:b};return new Promise(function(a){animit(c._getCarouselItemElements()).queue({transform:c._generateScrollTransform(f(b))},"none"!==d.animation?d.animationOptions:{}).play(function(){d.callback instanceof Function&&d.callback(),a()})})}},{key:"_calculateMaxScroll",value:function(){var b=this.itemCount*this._getCarouselItemSize()-this._getElementSize();return Math.ceil(b<0?0:b)}},{key:"_isOverScroll",value:function(b){return b<0||b>this._calculateMaxScroll()}},{key:"_getOverScrollDirection",value:function(){return this._isVertical()?this._scroll<=0?"up":"down":this._scroll<=0?"left":"right"}},{key:"_scrollToKillOverScroll",value:function(){var b=.4;if(this._scroll<0)return animit(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(0)},{duration:b,timing:"cubic-bezier(.1, .4, .1, 1)"}).queue(function(a){a(),this._tryFirePostChangeEvent()}.bind(this)).play(),void(this._scroll=0);var c=this._calculateMaxScroll();return c<this._scroll?(animit(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(c)},{duration:b,timing:"cubic-bezier(.1, .4, .1, 1)"}).queue(function(a){a(),this._tryFirePostChangeEvent()}.bind(this)).play(),void(this._scroll=c)):void 0}},{key:"refresh",value:function(){if(0!==this._getCarouselItemSize()){if(this._mixin(this._isVertical()?La:Ma),this._setup(),this._lastState&&this._lastState.width>0){var b=this._scroll;this._isOverScroll(b)?this._scrollToKillOverScroll():(this.autoScroll&&(b=this._normalizeScrollPosition(b)),this._scrollTo(b))}this._saveLastState(),l.triggerElementEvent(this,"refresh",{carousel:this})}}},{key:"first",value:function(b){return this.setActiveIndex(0,b)}},{key:"last",value:function(b){this.setActiveIndex(Math.max(this.itemCount-1,0),b)}},{key:"attachedCallback",value:function(){var b=this;this._prepareEventListeners(),this._setup(),this._setupInitialIndex(),this._saveLastState(),0===this.offsetHeight&&setImmediate(function(){return b.refresh()})}},{key:"attributeChangedCallback",value:function(b,c,d){switch(b){case"swipeable":this._updateSwipeable();break;case"auto-refresh":this._updateAutoRefresh();break;case"direction":this._onDirectionChange()}}},{key:"detachedCallback",value:function(){this._removeEventListeners()}},{key:"itemCount",get:function(){return this._getCarouselItemElements().length}},{key:"autoScrollRatio",get:function(){var b=this.getAttribute("auto-scroll-ratio");if(!b)return.5;var c=parseFloat(b);if(c<0||c>1)throw new Error("Invalid ratio.");return isNaN(c)?.5:c},set:function(b){if(b<0||b>1)throw new Error("Invalid ratio.");this.setAttribute("auto-scroll-ratio",b)}},{key:"swipeable",get:function(){return this.hasAttribute("swipeable")},set:function(b){return l.toggleAttribute(this,"swipeable",b)}},{key:"autoScroll",get:function(){return this.hasAttribute("auto-scroll")},set:function(b){return l.toggleAttribute(this,"auto-scroll",b)}},{key:"disabled",get:function(){return this.hasAttribute("disabled")},set:function(b){return l.toggleAttribute(this,"disabled",b)}},{key:"overscrollable",get:function(){return this.hasAttribute("overscrollable")},set:function(b){return l.toggleAttribute(this,"overscrollable",b)}},{key:"centered",get:function(){return this.hasAttribute("centered")},set:function(b){return l.toggleAttribute(this,"centered",b)}}]),c}(ta);window.OnsCarouselElement=document.registerElement("ons-carousel",{prototype:Na.prototype});var Oa=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){this.getAttribute("width")&&this._updateWidth()}},{key:"attributeChangedCallback",value:function(b,c,d){"width"===b&&this._updateWidth()}},{key:"_updateWidth",value:function(){var b=this.getAttribute("width");"string"==typeof b&&(b=(""+b).trim(),b=b.match(/^\d+$/)?b+"%":b,this.style.webkitBoxFlex="0",this.style.webkitFlex="0 0 "+b,this.style.mozBoxFlex="0",this.style.mozFlex="0 0 "+b,this.style.msFlex="0 0 "+b,this.style.flex="0 0 "+b,this.style.maxWidth=b)}}]),c}(ta);window.OnsColElement=document.registerElement("ons-col",{prototype:Oa.prototype});var Pa=function(){function b(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],d=c.timing,e=void 0===d?"linear":d,f=c.delay,g=void 0===f?0:f,h=c.duration,i=void 0===h?.2:h;a.classCallCheck(this,b),this.timing=e,this.delay=g,this.duration=i}return a.createClass(b,[{key:"show",value:function(b,c){c()}},{key:"hide",value:function(b,c){c()}}]),b}(),Qa=function(b){function c(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],d=b.timing,e=void 0===d?"ease-in-out":d,f=b.delay,g=void 0===f?0:f,h=b.duration,i=void 0===h?.3:h;return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).call(this,{timing:e,delay:g,duration:i}))}return a.inherits(c,b),a.createClass(c,[{key:"show",value:function(b,c){c=c?c:function(){},animit.runAll(animit(b._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),animit(b._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -60%, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}},{key:"hide",value:function(b,c){c=c?c:function(){},animit.runAll(animit(b._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),animit(b._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -60%, 0)",opacity:0},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}}]),c}(Pa),Ra=function(b){function c(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],d=b.timing,e=void 0===d?"ease-in-out":d,f=b.delay,g=void 0===f?0:f,h=b.duration,i=void 0===h?.3:h;return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).call(this,{timing:e,delay:g,duration:i}))}return a.inherits(c,b),a.createClass(c,[{key:"show",value:function(b,c){c=c?c:function(){},animit.runAll(animit(b._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),animit(b._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, 300%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}},{key:"hide",value:function(b,c){c=c?c:function(){},animit.runAll(animit(b._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),animit(b._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, 300%, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}}]),c}(Pa),Sa=function(b){function c(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],d=b.timing,e=void 0===d?"cubic-bezier(.1, .7, .4, 1)":d,f=b.delay,g=void 0===f?0:f,h=b.duration,i=void 0===h?.2:h;return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).call(this,{timing:e,delay:g,duration:i}))}return a.inherits(c,b),a.createClass(c,[{key:"show",value:function(b,c){c=c?c:function(){},animit.runAll(animit(b._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),animit(b._dialog).saveStyle().queue({css:{transform:"translate3D(-50%, -350%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(-50%, -50%, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}},{key:"hide",value:function(b,c){c=c?c:function(){},animit.runAll(animit(b._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),animit(b._dialog).saveStyle().queue({css:{transform:"translate3D(-50%, -50%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(-50%, -350%, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}}]),c}(Pa),Ta={".dialog":"dialog--*",".dialog-container":"dialog-container--*",".dialog-mask":"dialog-mask--*"},Ua={default:function(){return G.isAndroid()?Qa:Ra},fade:function(){return G.isAndroid()?Qa:Ra},slide:Sa,none:Pa},Va=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;la(this,function(){return b._compile()}),this._visible=!1,this._doorLock=new ea,this._boundCancel=this._cancel.bind(this),this._updateAnimatorFactory()}},{key:"_updateAnimatorFactory",value:function(){this._animatorFactory=new K({animators:Ua,baseClass:Pa,baseClassName:"DialogAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(ca.prepare(this),this.style.display="none",!this._dialog){var b=document.createElement("div");b.classList.add("dialog");var c=document.createElement("div");for(b.classList.add("dialog-container"),b.appendChild(c);this.firstChild;)c.appendChild(this.firstChild);this.appendChild(b)}if(!this._mask){var d=document.createElement("div");d.classList.add("dialog-mask"),this.insertBefore(d,this.firstChild)}this._dialog.style.zIndex=20001,this._mask.style.zIndex=2e4,this.setAttribute("status-bar-fill",""),L.initModifier(this,Ta)}},{key:"_cancel",value:function(){var b=this;this.cancelable&&!this._running&&(this._running=!0,this.hide({callback:function(){b._running=!1,l.triggerElementEvent(b,"dialog-cancel")}}))}},{key:"show",value:function(){var c=this,d=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=!1,f=d.callback||function(){};if(d.animationOptions=l.extend(d.animationOptions||{},K.parseAnimationOptionsString(this.getAttribute("animation-options"))),l.triggerElementEvent(this,"preshow",{dialog:this,cancel:function(){e=!0}}),e)return Promise.reject("Canceled in preshow event.");var g=function(){var a=function(){var b=c._doorLock.lock(),e=c._animatorFactory.newAnimator(d);return c.style.display="block",c._mask.style.opacity="1",new Promise(function(a){la(c,function(){e.show(c,function(){c._visible=!0,b(),l.triggerElementEvent(c,"postshow",{dialog:c}),f(),a(c)})})})};return{v:new Promise(function(b){c._doorLock.waitUnlock(function(){return b(a())})})}}();return"object"===("undefined"==typeof g?"undefined":a.typeof(g))?g.v:void 0}},{key:"hide",value:function(){var c=this,d=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=!1,f=d.callback||function(){};if(d.animationOptions=l.extend(d.animationOptions||{},K.parseAnimationOptionsString(this.getAttribute("animation-options"))),l.triggerElementEvent(this,"prehide",{dialog:this,cancel:function(){e=!0}}),e)return Promise.reject("Canceled in prehide event.");var g=function(){var a=function(){var b=c._doorLock.lock(),e=c._animatorFactory.newAnimator(d);return new Promise(function(a){la(c,function(){e.hide(c,function(){c.style.display="none",c._visible=!1,b(),l.triggerElementEvent(c,"posthide",{dialog:c}),f(),a(c)})})})};return{v:new Promise(function(b){c._doorLock.waitUnlock(function(){return b(a())})})}}();return"object"===("undefined"==typeof g?"undefined":a.typeof(g))?g.v:void 0}},{key:"attachedCallback",value:function(){var b=this;this.onDeviceBackButton=function(a){return b.cancelable?b._cancel():a.callParentHandler()},la(this,function(){b._mask.addEventListener("click",b._boundCancel,!1)})}},{key:"detachedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this._mask.removeEventListener("click",this._boundCancel.bind(this),!1)}},{key:"attributeChangedCallback",value:function(b,c,d){return"modifier"===b?L.onModifierChanged(c,d,this,Ta):void("animation"===b&&this._updateAnimatorFactory())}},{key:"_mask",get:function(){return l.findChild(this,".dialog-mask")}},{key:"_dialog",get:function(){return l.findChild(this,".dialog")}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(b){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=Y.createHandler(this,b)}},{key:"visible",get:function(){return this._visible}},{key:"disabled",set:function(b){return l.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}},{key:"cancelable",set:function(b){return l.toggleAttribute(this,"cancelable",b)},get:function(){return this.hasAttribute("cancelable")}}]),c}(ta),Wa=window.OnsDialogElement=document.registerElement("ons-dialog",{prototype:Va.prototype});Wa.registerAnimator=function(a,b){if(!(b.prototype instanceof Pa))throw new Error('"Animator" param must inherit OnsDialogElement.DialogAnimator');Ua[a]=b},Wa.DialogAnimator=Pa;var Xa={"":"fab--*"},Ya=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;la(this,function(){b._compile()})}},{key:"_compile",value:function(){var b=this;ca.prepare(this),this.classList.add("fab"),l.findChild(this,".fab__icon")||!function(){var a=document.createElement("span");a.classList.add("fab__icon"),l.arrayFrom(b.childNodes).forEach(function(b){b.tagName&&"ons-ripple"===b.tagName.toLowerCase()||a.appendChild(b)}),b.appendChild(a)}(),this._updateRipple(),L.initModifier(this,Xa),this._updatePosition(),this.show()}},{key:"attributeChangedCallback",value:function(b,c,d){switch(b){case"modifier":L.onModifierChanged(c,d,this,Xa);break;case"ripple":this._updateRipple();break;case"position":this._updatePosition()}}},{key:"_show",value:function(){this.show()}},{key:"_hide",value:function(){this.hide()}},{key:"_updateRipple",value:function(){l.updateRipple(this)}},{key:"_updatePosition",value:function(){var b=this.getAttribute("position");switch(this.classList.remove("fab--top__left","fab--bottom__right","fab--bottom__left","fab--top__right","fab--top__center","fab--bottom__center"),b){case"top right":case"right top":this.classList.add("fab--top__right");break;case"top left":case"left top":this.classList.add("fab--top__left");break;case"bottom right":case"right bottom":this.classList.add("fab--bottom__right");break;case"bottom left":case"left bottom":this.classList.add("fab--bottom__left");break;case"center top":case"top center":this.classList.add("fab--top__center");break;case"center bottom":case"bottom center":this.classList.add("fab--bottom__center")}}},{key:"show",value:function(){arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.style.transform="scale(1)",this.style.webkitTransform="scale(1)"}},{key:"hide",value:function(){arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.style.transform="scale(0)",this.style.webkitTransform="scale(0)"}},{key:"toggle",value:function(){this.visible?this.hide():this.show()}},{key:"disabled",set:function(b){return l.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}},{key:"visible",get:function(){return"scale(1)"===this.style.transform&&"none"!==this.style.display}}]),c}(ta);window.OnsFabElement=document.registerElement("ons-fab",{prototype:Ya.prototype});var Za=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){this._gestureDetector=new q(this)}}]),c}(ta);window.OnsGestureDetectorElement=document.registerElement("ons-gesture-detector",{prototype:Za.prototype});var $a=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){this.hasAttribute("_compiled")||this._compile()}},{key:"attributeChangedCallback",value:function(b,c,d){["icon","size","modifier"].indexOf(b)!==-1&&this._update()}},{key:"_compile",value:function(){ca.prepare(this),this._update(),this.setAttribute("_compiled","")}},{key:"_update",value:function(){var b=this;this._cleanClassAttribute();var c=this._buildClassAndStyle(this._getAttribute("icon"),this._getAttribute("size")),d=c.classList,e=c.style;l.extend(this.style,e),d.forEach(function(a){return b.classList.add(a)})}},{key:"_getAttribute",value:function(b){var c=(this.getAttribute(b)||"").split(/\s*,\s*/),d=c[0],e=c[1];return e=(e||"").split(/\s*:\s*/),(l.hasModifier(this,e[0])?e[1]:d)||""}},{key:"_cleanClassAttribute",value:function(){var b=this;l.arrayFrom(this.classList).filter(function(a){return/^(fa$|fa-|ion-|zmdi-)/.test(a)}).forEach(function(a){return b.classList.remove(a)}),this.classList.remove("zmdi"),this.classList.remove("ons-icon--ion")}},{key:"_buildClassAndStyle",value:function(b,c){var d=["ons-icon"],e={};return 0===b.indexOf("ion-")?(d.push(b),d.push("ons-icon--ion")):0===b.indexOf("fa-")?(d.push(b),d.push("fa")):0===b.indexOf("md-")?(d.push("zmdi"),d.push("zmdi-"+b.split(/\-(.+)?/)[1])):(d.push("fa"),d.push("fa-"+b)),c.match(/^[1-5]x|lg$/)?(d.push("fa-"+c),this.style.removeProperty("font-size")):e.fontSize=c,{classList:d,style:e}}}]),c}(ta);window.OnsIconElement=document.registerElement("ons-icon",{prototype:$a.prototype});var _a=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"attachedCallback",value:function(){l.updateParentPosition(this),this.hasAttribute("delegate")&&(this.delegate=window[this.getAttribute("delegate")])}},{key:"refresh",value:function(){this._lazyRepeatProvider&&this._lazyRepeatProvider.refresh()}},{key:"attributeChangedCallback",value:function(b,c,d){}},{key:"detachedCallback",value:function(){this._lazyRepeatProvider&&(this._lazyRepeatProvider.destroy(),this._lazyRepeatProvider=null)}},{key:"delegate",set:function(b){this._lazyRepeatProvider&&this._lazyRepeatProvider.destroy(),!this._templateElement&&this.children[0]&&(this._templateElement=this.removeChild(this.children[0]));var c=new M(b,this._templateElement||null);this._lazyRepeatProvider=new N(this.parentElement,c)},get:function(){throw new Error("This property can only be used to set the delegate object.")}}]),c}(ta);window.OnsLazyRepeatElement=document.registerElement("ons-lazy-repeat",{prototype:_a.prototype});var ab={"":"list__header--*"},bb=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){this.hasAttribute("_compiled")||this._compile()}},{key:"_compile",value:function(){ca.prepare(this),this.classList.add("list__header"),L.initModifier(this,ab),this.setAttribute("_compiled","")}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return L.onModifierChanged(c,d,this,ab)}}]),c}(ta);window.OnsListHeaderElement=document.registerElement("ons-list-header",{prototype:bb.prototype});var cb={".list__item":"list__item--*",".list__item__left":"list__item--*__left",".list__item__center":"list__item--*__center",".list__item__right":"list__item--*__right",".list__item__label":"list__item--*__label",".list__item__title":"list__item--*__title",".list__item__subtitle":"list__item--*__subtitle",".list__item__thumbnail":"list__item--*__thumbnail",".list__item__icon":"list__item--*__icon"},db=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;la(this,function(){b._compile()})}},{key:"_compile",value:function(){this.classList.add("list__item");for(var b=void 0,c=void 0,d=void 0,e=0;e<this.children.length;e++){var f=this.children[e];f.classList.contains("left")?(f.classList.add("list__item__left"),b=f):f.classList.contains("center")?c=f:f.classList.contains("right")&&(f.classList.add("list__item__right"),d=f)}if(!c){if(c=document.createElement("div"),b||d)for(var g=this.childNodes.length-1;g>=0;g--){var h=this.childNodes[g];h!==b&&h!==d&&c.insertBefore(h,c.firstChild)}else for(;this.childNodes[0];)c.appendChild(this.childNodes[0]);this.insertBefore(c,d||null)}c.classList.add("center"),c.classList.add("list__item__center"),this._updateRipple(),L.initModifier(this,cb),ca.prepare(this)}},{key:"attributeChangedCallback",value:function(b,c,d){switch(b){case"modifier":L.onModifierChanged(c,d,this,cb);break;case"ripple":this._updateRipple()}}},{key:"attachedCallback",value:function(){this.addEventListener("drag",this._onDrag),this.addEventListener("touchstart",this._onTouch),this.addEventListener("mousedown",this._onTouch),this.addEventListener("touchend",this._onRelease),this.addEventListener("touchmove",this._onRelease),this.addEventListener("touchcancel",this._onRelease),this.addEventListener("mouseup",this._onRelease),this.addEventListener("mouseout",this._onRelease),this.addEventListener("touchleave",this._onRelease),this._originalBackgroundColor=this.style.backgroundColor,this.tapped=!1}},{key:"detachedCallback",value:function(){this.removeEventListener("drag",this._onDrag),this.removeEventListener("touchstart",this._onTouch),this.removeEventListener("mousedown",this._onTouch),this.removeEventListener("touchend",this._onRelease),this.removeEventListener("touchmove",this._onRelease),this.removeEventListener("touchcancel",this._onRelease),this.removeEventListener("mouseup",this._onRelease),this.removeEventListener("mouseout",this._onRelease),this.removeEventListener("touchleave",this._onRelease)}},{key:"_updateRipple",value:function(){l.updateRipple(this)}},{key:"_onDrag",value:function(b){var c=b.gesture;this._shouldLockOnDrag()&&["left","right"].indexOf(c.direction)>-1&&c.preventDefault()}},{key:"_onTouch",value:function(){this.tapped||(this.tapped=!0,this.style.transition=this._transition,this.style.webkitTransition=this._transition,this.style.MozTransition=this._transition,this._tappable&&(this.style.backgroundColor&&(this._originalBackgroundColor=this.style.backgroundColor),this.style.backgroundColor=this._tapBackgroundColor,this.style.boxShadow="0px -1px 0px 0px "+this._tapBackgroundColor))}},{key:"_onRelease",value:function(){this.tapped=!1,this.style.transition="",this.style.webkitTransition="",this.style.MozTransition="",this.style.backgroundColor=this._originalBackgroundColor||"",this.style.boxShadow=""}},{key:"_shouldLockOnDrag",value:function(){return this.hasAttribute("lock-on-drag")}},{key:"_transition",get:function(){return"background-color 0.0s linear 0.02s, box-shadow 0.0s linear 0.02s"}},{key:"_tappable",get:function(){return this.hasAttribute("tappable")}},{key:"_tapBackgroundColor",get:function(){return this.getAttribute("tap-background-color")||"#d9d9d9"}}]),c}(ta);window.OnsListItemElement=document.registerElement("ons-list-item",{prototype:db.prototype});var eb={"":"list--*"},fb=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){this.hasAttribute("_compiled")||this._compile()}},{key:"_compile",value:function(){ca.prepare(this),this.classList.add("list"),L.initModifier(this,eb),this.setAttribute("_compiled","")}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return L.onModifierChanged(c,d,this,eb)}}]),c}(ta);window.OnsListElement=document.registerElement("ons-list",{prototype:fb.prototype});var gb={".text-input":"text-input--*",".text-input__label":"text-input--*__label",".radio-button":"radio-button--*",".radio-button__input":"radio-button--*__input",".radio-button__checkmark":"radio-button--*__checkmark",".checkbox":"checkbox--*",".checkbox__input":"checkbox--*__input",".checkbox__checkmark":"checkbox--*__checkmark"},hb=["autocapitalize","autocomplete","autocorrect","autofocus","disabled","inputmode","max","maxlength","min","minlength","name","pattern","placeholder","readonly","size","step","type","validator","value"],ib=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;la(this,function(){b._compile(),b.attributeChangedCallback("checked",null,b.getAttribute("checked"))}),this._boundOnInput=this._onInput.bind(this),this._boundOnFocusin=this._onFocusin.bind(this),this._boundDelegateEvent=this._delegateEvent.bind(this)}},{key:"_compile",value:function(){if(ca.prepare(this),0===this.children.length){var b=document.createElement("span");b.classList.add("_helper");var c=document.createElement("label");c.appendChild(document.createElement("input")),c.appendChild(b);var d=document.createElement("span");switch(d.classList.add("input-label"),l.arrayFrom(this.childNodes).forEach(function(a){return d.appendChild(a)}),this.hasAttribute("content-left")?c.insertBefore(d,c.firstChild):c.appendChild(d),this.appendChild(c),this.getAttribute("type")){case"checkbox":this.classList.add("checkbox"),this._input.classList.add("checkbox__input"),this._helper.classList.add("checkbox__checkmark"),this._updateBoundAttributes();break;case"radio":this.classList.add("radio-button"),this._input.classList.add("radio-button__input"),this._helper.classList.add("radio-button__checkmark"),this._updateBoundAttributes();break;default:this._input.classList.add("text-input"),this._helper.classList.add("text-input__label"),this._input.parentElement.classList.add("text-input__container"),this._updateLabel(),this._updateBoundAttributes(),this._updateLabelClass()}this.hasAttribute("input-id")&&(this._input.id=this.getAttribute("input-id")),L.initModifier(this,gb)}}},{key:"attributeChangedCallback",value:function(b,c,d){var e=this;if("modifier"===b)return la(this,function(){return L.onModifierChanged(c,d,e,gb)});if("placeholder"===b)return la(this,function(){return e._updateLabel()});if("input-id"===b&&la(this,function(){return e._input.id=d}),"checked"===b)this.checked=null!==d;else if(hb.indexOf(b)>=0)return la(this,function(){return e._updateBoundAttributes()})}},{key:"attachedCallback",value:function(){var b=this;la(this,function(){"checkbox"!==b._input.type&&"radio"!==b._input.type&&(b._input.addEventListener("input",b._boundOnInput),b._input.addEventListener("focusin",b._boundOnFocusin),b._input.addEventListener("focusout",b._boundOnFocusout)),b._input.addEventListener("focus",b._boundDelegateEvent),b._input.addEventListener("blur",b._boundDelegateEvent)})}},{key:"detachedCallback",value:function(){var b=this;la(this,function(){b._input.removeEventListener("input",b._boundOnInput),b._input.removeEventListener("focusin",b._boundOnFocusin),b._input.removeEventListener("focus",b._boundDelegateEvent),b._input.removeEventListener("blur",b._boundDelegateEvent)})}},{key:"_setLabel",value:function(b){"undefined"!=typeof this._helper.textContent?this._helper.textContent=b:this._helper.innerText=b}},{key:"_updateLabel",value:function(){this._setLabel(this.hasAttribute("placeholder")?this.getAttribute("placeholder"):"")}},{key:"_updateBoundAttributes",value:function(){var b=this;hb.forEach(function(a){b.hasAttribute(a)?b._input.setAttribute(a,b.getAttribute(a)):b._input.removeAttribute(a)})}},{key:"_updateLabelClass",value:function(){""===this.value?this._helper.classList.remove("text-input--material__label--active"):["checkbox","radio"].indexOf(this.getAttribute("type"))===-1&&this._helper.classList.add("text-input--material__label--active")}},{key:"_delegateEvent",value:function(b){var c=new CustomEvent(b.type,{bubbles:!1,cancelable:!0});return this.dispatchEvent(c)}},{key:"_onInput",value:function(b){this._updateLabelClass()}},{key:"_onFocusin",value:function(b){this._updateLabelClass()}},{key:"_input",get:function(){return this.querySelector("input")}},{key:"_helper",get:function(){return this.querySelector("._helper")}},{key:"value",get:function(){return null===this._input?this.getAttribute("value"):this._input.value},set:function(b){var c=this;return this.setAttribute("value",b),la(this,function(){c._input.value=b,c._onInput()}),b}},{key:"checked",get:function(){return this._input.checked},set:function(b){var c=this;la(this,function(){c._input.checked=b})}},{key:"disabled",set:function(b){return l.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}},{key:"_isTextInput",get:function(){return"radio"!==this.type&&"checkbox"!==this.type}},{key:"type",get:function(){return this.getAttribute("type")}}]),c}(ta);window.OnsInputElement=document.registerElement("ons-input",{prototype:ib.prototype});var jb=function(){function b(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];a.classCallCheck(this,b),this.delay=0,this.duration=.2,this.timing=c.timing||this.timing,this.duration=void 0!==c.duration?c.duration:this.duration,this.delay=void 0!==c.delay?c.delay:this.delay}return a.createClass(b,[{key:"show",value:function(b,c){c()}},{key:"hide",value:function(b,c){c()}}]),b}(),kb=function(b){function c(b){return a.classCallCheck(this,c),b.timing=b.timing||"linear",b.duration=b.duration||"0.3",b.delay=b.delay||0,a.possibleConstructorReturn(this,Object.getPrototypeOf(c).call(this,b))}return a.inherits(c,b),a.createClass(c,[{key:"show",value:function(b,c){c=c?c:function(){},animit(b).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}).queue(function(a){c(),a()}).play()}},{key:"hide",value:function(b,c){c=c?c:function(){},animit(b).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}).queue(function(a){c(),a()}).play()}}]),c}(jb),lb={"":"modal--*",modal__content:"modal--*__content"},mb={default:jb,fade:kb,none:jb},nb=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;la(this,function(){b._compile()}),this._doorLock=new ea,this._animatorFactory=new K({animators:mb,baseClass:jb,baseClassName:"ModalAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(this.style.display="none",this.style.zIndex=10001,this.classList.add("modal"),!l.findChild(this,".modal__content")){var b=document.createElement("div");for(b.classList.add("modal__content");this.childNodes[0];){var c=this.childNodes[0];this.removeChild(c),b.insertBefore(c,null)}this.appendChild(b)}L.initModifier(this,lb)}},{key:"detachedCallback",value:function(){this._backButtonHandler&&this._backButtonHandler.destroy()}},{key:"attachedCallback",value:function(){this.onDeviceBackButton=function(){}}},{key:"show",value:function(){var b=this,c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];c.animationOptions=l.extend(c.animationOptions||{},K.parseAnimationOptionsString(this.getAttribute("animation-options")));var d=c.callback||function(){},e=function(){var e=b._doorLock.lock(),f=b._animatorFactory.newAnimator(c);return new Promise(function(a){la(b,function(){b.style.display="table",f.show(b,function(){e(),d(),a(b)})});
})};return new Promise(function(a){b._doorLock.waitUnlock(function(){return a(e())})})}},{key:"toggle",value:function(){return this.visible?this.hide.apply(this,arguments):this.show.apply(this,arguments)}},{key:"hide",value:function(){var b=this,c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];c.animationOptions=l.extend(c.animationOptions||{},K.parseAnimationOptionsString(this.getAttribute("animation-options")));var d=c.callback||function(){},e=function(){var e=b._doorLock.lock(),f=b._animatorFactory.newAnimator(c);return new Promise(function(a){la(b,function(){f.hide(b,function(){b.style.display="none",e(),d(),a(b)})})})};return new Promise(function(a){b._doorLock.waitUnlock(function(){return a(e())})})}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return L.onModifierChanged(c,d,this,lb)}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(b){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=Y.createHandler(this,b)}},{key:"visible",get:function(){return"none"!==this.style.display}}]),c}(ta);window.OnsModalElement=document.registerElement("ons-modal",{prototype:nb.prototype}),window.OnsModalElement.registerAnimator=function(a,b){if(!(b.prototype instanceof jb))throw new Error('"Animator" param must inherit OnsModalElement.ModalAnimator');mb[a]=b},window.OnsModalElement.ModalAnimator=jb;var ob=function(){function b(c){a.classCallCheck(this,b),c=l.extend({timing:"linear",duration:"0.4",delay:"0"},c||{}),this.timing=c.timing,this.duration=c.duration,this.delay=c.delay}return a.createClass(b,[{key:"push",value:function(b,c,d){d()}},{key:"pop",value:function(b,c,d){d()}}]),b}(),pb=function(b){function c(b){a.classCallCheck(this,c),b=l.extend({duration:.4,timing:"ease",delay:0},b||{});var d=a.possibleConstructorReturn(this,Object.getPrototypeOf(c).call(this,b));return d.backgroundMask=l.createElement('\n      <div style="position: absolute; width: 100%; height: 100%;\n        background-color: black; opacity: 0; z-index: 2"></div>\n    '),d}return a.inherits(c,b),a.createClass(c,[{key:"_decompose",value:function(b){CustomElements.upgrade(b);var c=b._getToolbarElement();CustomElements.upgrade(c);var d=c._getToolbarLeftItemsElement(),e=c._getToolbarRightItemsElement(),f=function(b){for(var c=[],d=0;d<b.length;d++)"ons-back-button"!==b[d].nodeName.toLowerCase()&&c.push(b[d]);return c},g=[].concat(0===d.children.length?d:f(d.children)).concat(0===e.children.length?e:f(e.children));return{toolbarCenter:c._getToolbarCenterItemsElement(),backButtonIcon:c._getToolbarBackButtonIconElement(),backButtonLabel:c._getToolbarBackButtonLabelElement(),other:g,content:b._getContentElement(),background:b._getBackgroundElement(),toolbar:c,bottomToolbar:b._getBottomToolbarElement()}}},{key:"_shouldAnimateToolbar",value:function(b,c){var d=b._canAnimateToolbar()&&c._canAnimateToolbar(),e=!b._getToolbarElement().classList.contains("navigation-bar--material")&&!c._getToolbarElement().classList.contains("navigation-bar--material");return d&&e}},{key:"_calculateDelta",value:function(b,c){var d=void 0,e=void 0,f=b.getBoundingClientRect();if(c.backButtonLabel.classList.contains("back-button__label")){var g=c.backButtonLabel.getBoundingClientRect();d=Math.round(f.width/2-g.width/2-g.left)}else d=Math.round(f.width/2*.6);return c.backButtonIcon.classList.contains("back-button__icon")&&(e=c.backButtonIcon.getBoundingClientRect().right-2),{title:d,label:e}}},{key:"push",value:function(b,c,d){var e=this;this.backgroundMask.remove(),c.parentNode.insertBefore(this.backgroundMask,c.nextSibling);var f=this._decompose(b),g=this._decompose(c),h=this._calculateDelta(c,f),i=animit(this.backgroundMask).saveStyle().queue({opacity:0,transform:"translate3d(0, 0, 0)"}).wait(this.delay).queue({opacity:.05},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){e.backgroundMask.remove(),a()}),j=this._shouldAnimateToolbar(b,c);if(j){var k=f.toolbar.getBoundingClientRect().height+"px";this.backgroundMask.style.top=k,animit.runAll(i,animit([f.content,f.bottomToolbar,f.background]).saveStyle().queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:this.duration,timing:this.timing}).restoreStyle(),animit(f.toolbar).saveStyle().queue({css:{opacity:0},duration:0}).queue({css:{opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),animit(f.background).queue({css:{top:k},duration:0}),animit(f.toolbarCenter).saveStyle().queue({css:{transform:"translate3d(125%, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),animit(f.backButtonLabel).saveStyle().queue({css:{transform:"translate3d("+h.title+"px, 0, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),animit(f.other).saveStyle().queue({css:{opacity:0},duration:0}).wait(this.delay).queue({css:{opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),animit([g.content,g.bottomToolbar,g.background]).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(-25%, 0px, 0px)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){d(),a()}),animit(g.toolbarCenter).saveStyle().queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-"+h.title+"px, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}).restoreStyle(),animit(g.backButtonLabel).saveStyle().queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-"+h.label+"px, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}).restoreStyle(),animit(g.other).saveStyle().queue({css:{opacity:1},duration:0}).wait(this.delay).queue({css:{opacity:0},duration:this.duration,timing:this.timing}).restoreStyle())}else animit.runAll(i,animit(b).saveStyle().queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:this.duration,timing:this.timing}).restoreStyle(),animit(c).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(-25%, 0px, 0px)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){d(),a()}))}},{key:"pop",value:function(b,c,d){this.backgroundMask.remove(),b.parentNode.insertBefore(this.backgroundMask,b.nextSibling);var e=this._decompose(b),f=this._decompose(c),g=this._calculateDelta(c,f),h=animit(this.backgroundMask).saveStyle().queue({opacity:.1,transform:"translate3d(0, 0, 0)"}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){a()}),i=this._shouldAnimateToolbar(b,c);if(i){var j=e.toolbar.getBoundingClientRect().height+"px";this.backgroundMask.style.top=j,animit.runAll(h,animit([e.content,e.bottomToolbar,e.background]).saveStyle().queue({css:{transform:"translate3D(-25%, 0px, 0px)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),animit(e.toolbarCenter).saveStyle().queue({css:{transform:"translate3d(-"+g.title+"px, 0, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),animit(e.backButtonLabel).saveStyle().queue({css:{transform:"translate3d(-"+g.label+"px, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle(),animit(e.other).saveStyle().queue({css:{opacity:0},duration:0}).wait(this.delay).queue({css:{opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),animit(f.background).queue({css:{top:j},duration:0}),animit([f.content,f.bottomToolbar,f.background]).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).wait(0).queue(function(a){this.backgroundMask.remove(),d(),a()}.bind(this)),animit(f.toolbar).queue({css:{opacity:1},duration:0}).queue({css:{opacity:0},duration:this.duration,timing:this.timing}),animit(f.toolbarCenter).queue({css:{transform:"translate3d(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(125%, 0, 0)"},duration:this.duration,timing:this.timing}),animit(f.backButtonLabel).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d("+g.title+"px, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}))}else animit.runAll(h,animit(b).saveStyle().queue({css:{transform:"translate3D(-25%, 0px, 0px)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),animit(c).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).queue(function(a){this.backgroundMask.remove(),d(),a()}.bind(this)))}}]),c}(ob),qb=function(b){function c(b){a.classCallCheck(this,c),b=l.extend({duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)",delay:0},b||{});var d=a.possibleConstructorReturn(this,Object.getPrototypeOf(c).call(this,b));return d.backgroundMask=l.createElement('\n      <div style="position: absolute; width: 100%; height: 100%;\n        background: linear-gradient(black, white);"></div>\n    '),d}return a.inherits(c,b),a.createClass(c,[{key:"push",value:function(b,c,d){var e=this;this.backgroundMask.remove(),c.parentNode.insertBefore(this.backgroundMask,c);var f=animit(this.backgroundMask).wait(this.delay+this.duration).queue(function(a){e.backgroundMask.remove(),a()});animit.runAll(f,animit(b).saveStyle().queue({css:{transform:"translate3D(0, 100%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){d(),a()}),animit(c).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, -10%, 0)",opacity:.9},duration:this.duration,timing:this.timing}))}},{key:"pop",value:function(b,c,d){var e=this;this.backgroundMask.remove(),b.parentNode.insertBefore(this.backgroundMask,b),animit.runAll(animit(this.backgroundMask).wait(this.delay+this.duration).queue(function(a){e.backgroundMask.remove(),a()}),animit(b).queue({css:{transform:"translate3D(0, -10%, 0)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).queue(function(a){d(),a()}),animit(c).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 100%, 0)"},duration:this.duration,timing:this.timing}))}}]),c}(ob),rb=function(b){function c(b){return a.classCallCheck(this,c),b=l.extend({timing:"linear",duration:"0.4",delay:"0"},b||{}),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).call(this,b))}return a.inherits(c,b),a.createClass(c,[{key:"push",value:function(b,c,d){animit.runAll(animit([b._getContentElement(),b._getBackgroundElement()]).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){d(),a()}),animit(b._getToolbarElement()).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle())}},{key:"pop",value:function(b,c,d){animit.runAll(animit([c._getContentElement(),c._getBackgroundElement()]).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}).queue(function(a){d(),a()}),animit(c._getToolbarElement()).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}))}}]),c}(ob),sb=function(b){function c(b){a.classCallCheck(this,c),b=l.extend({duration:.3,timing:"cubic-bezier(.1, .7, .4, 1)",delay:0},b||{});var d=a.possibleConstructorReturn(this,Object.getPrototypeOf(c).call(this,b));return d.backgroundMask=l.createElement('\n      <div style="position: absolute; width: 100%; height: 100%; z-index: 2;\n        background-color: black; opacity: 0;"></div>\n    '),d.blackMaskOpacity=.4,d}return a.inherits(c,b),a.createClass(c,[{key:"push",value:function(b,c,d){var e=this;this.backgroundMask.remove(),c.parentElement.insertBefore(this.backgroundMask,c.nextSibling),animit.runAll(animit(this.backgroundMask).saveStyle().queue({opacity:0,transform:"translate3d(0, 0, 0)"}).wait(this.delay).queue({opacity:this.blackMaskOpacity},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){e.backgroundMask.remove(),a()}),animit(b).saveStyle().queue({css:{transform:"translate3D(100%, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle(),animit(c).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(-45%, 0px, 0px)"},duration:this.duration,timing:this.timing}).restoreStyle().wait(.2).queue(function(a){d(),a()}))}},{key:"pop",value:function(b,c,d){var e=this;this.backgroundMask.remove(),b.parentNode.insertBefore(this.backgroundMask,b.nextSibling),animit.runAll(animit(this.backgroundMask).saveStyle().queue({opacity:this.blackMaskOpacity,transform:"translate3d(0, 0, 0)"}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){e.backgroundMask.remove(),a()}),animit(b).saveStyle().queue({css:{transform:"translate3D(-45%, 0px, 0px)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),animit(c).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).wait(.2).queue(function(a){d(),a()}))}}]),c}(ob),tb=function(b){function c(b){a.classCallCheck(this,c),b=l.extend({duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)",delay:.05},b||{});var d=a.possibleConstructorReturn(this,Object.getPrototypeOf(c).call(this,b));return d.backgroundMask=l.createElement('\n      <div style="position: absolute; width: 100%; height: 100%;\n        background-color: black;"></div>\n    '),d}return a.inherits(c,b),a.createClass(c,[{key:"push",value:function(b,c,d){var e=this;this.backgroundMask.remove(),c.parentNode.insertBefore(this.backgroundMask,c);var f=animit(this.backgroundMask).wait(this.delay+this.duration).queue(function(a){e.backgroundMask.remove(),a()});animit.runAll(f,animit(b).saveStyle().queue({css:{transform:"translate3D(0, 100%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){d(),a()}),animit(c).queue({css:{opacity:1},duration:0}).queue({css:{opacity:.4},duration:this.duration,timing:this.timing}))}},{key:"pop",value:function(b,c,d){var e=this;this.backgroundMask.remove(),b.parentNode.insertBefore(this.backgroundMask,b),animit.runAll(animit(this.backgroundMask).wait(this.delay+this.duration).queue(function(a){e.backgroundMask.remove(),a()}),animit(b).queue({css:{transform:"translate3D(0, 0, 0)",opacity:.4},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).queue(function(a){d(),a()}),animit(c).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 100%, 0)"},duration:this.duration,timing:this.timing}))}}]),c}(ob),ub=function(b){function c(b){return a.classCallCheck(this,c),b=l.extend({timing:"ease-out",duration:"0.25",delay:"0"},b||{}),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).call(this,b))}return a.inherits(c,b),a.createClass(c,[{key:"push",value:function(b,c,d){animit.runAll(animit(b).saveStyle().queue({css:{transform:"translate3D(0, 42px, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){d(),a()}))}},{key:"pop",value:function(b,c,d){animit.runAll(animit(c).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(.15).queue({css:{transform:"translate3D(0, 38px, 0)"},duration:this.duration,timing:this.timing}).queue(function(a){d(),a()}),animit(c).queue({css:{opacity:1},duration:0}).wait(.04).queue({css:{opacity:0},duration:this.duration,timing:this.timing}))}}]),c}(ob),vb=function(b){function c(b){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).call(this,b))}return a.inherits(c,b),a.createClass(c,[{key:"push",value:function(b,c,d){d()}},{key:"pop",value:function(b,c,d){d()}}]),c}(ob),wb={default:function(){return G.isAndroid()?ub:pb},slide:function(){return G.isAndroid()?sb:pb},lift:function(){return G.isAndroid()?tb:qb},fade:function(){return G.isAndroid()?ub:rb},"slide-ios":pb,"slide-md":sb,"lift-ios":qb,"lift-md":tb,"fade-ios":rb,"fade-md":ub,none:vb},xb={ready:function(b,c){c()},link:function(b,c,d,e){e(c)}},yb=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){this._isRunning=!1,this._pageLoader=oa,this._updateAnimatorFactory()}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"attachedCallback",value:function(){var b=this;this.onDeviceBackButton=this._onDeviceBackButton.bind(this),xb.ready(this,function(){if(0===b.pages.length&&b._getPageTarget()&&b.pushPage(b._getPageTarget(),{animation:"none"}),b.pages.length>0){for(var a=0;a<b.pages.length;a++)if("ONS-PAGE"!==b.pages[a].nodeName)throw new Error("The children of <ons-navigator> need to be of type <ons-page>");b.topPage&&setImmediate(function(){b.topPage._show(),b._updateLastPageBackButton()})}else la(b,function(){0===b.pages.length&&b._getPageTarget()&&b.pushPage(b._getPageTarget(),{animation:"none"})})})}},{key:"_updateAnimatorFactory",value:function(){this._animatorFactory=new K({animators:wb,baseClass:ob,baseClassName:"NavigatorTransitionAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"detachedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null}},{key:"attributeChangedCallback",value:function(b,c,d){"animation"===b&&this._updateAnimatorFactory()}},{key:"popPage",value:function(){var b=this,c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],d=this._preparePageAndOptions(null,c);c=d.options;var e=function(){return new Promise(function(a){b.pages[b.pages.length-1]._destroy(),a()})};if(!c.refresh)return this._popPage(c,e);var f=this.pages.length-2,g=this.pages[f];if(!g.name)throw new Error("Refresh option cannot be used with pages directly inside the Navigator. Use ons-template instead.");return new Promise(function(a){var c={page:g.name,parent:b,params:g.pushedOptions.data};b._pageLoader.load(c,function(c){var d=c.element,e=c.unload;d=l.extend(d,{name:g.name,data:g.data,pushedOptions:g.pushedOptions,unload:e}),xb.link(b,d,g.options,function(c){b.insertBefore(c,g?g:null),g._destroy(),a()})})}).then(function(){return b._popPage(c,e)})}},{key:"_popPage",value:function(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?function(){return Promise.resolve()}:arguments[1],e=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];if(this._isRunning)return Promise.reject("popPage is already running.");if(this.pages.length<=1)return Promise.reject("ons-navigator's page stack is empty.");if(this._emitPrePopEvent())return Promise.reject("Canceled in prepop event.");var f=this.pages.length;return this._isRunning=!0,this.pages[f-2].updateBackButton(f-2>0),new Promise(function(a){var g=c.pages[f-1],h=c.pages[f-2];h.style.display="block",b.animation=g.pushedOptions.animation||b.animation,b.animationOptions=l.extend({},g.pushedOptions.animationOptions,b.animationOptions||{});var i=function(){e.pop(),d(e,c).then(function(){c._isRunning=!1,h._show(),l.triggerElementEvent(c,"postpop",{leavePage:g,enterPage:h,navigator:c}),"function"==typeof b.callback&&b.callback(),a(h)})};g._hide();var j=c._animatorFactory.newAnimator(b);j.pop(c.pages[f-2],c.pages[f-1],i)}).catch(function(){return c._isRunning=!1})}},{key:"pushPage",value:function(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],e=this._preparePageAndOptions(b,d);b=e.page,d=e.options;var f=function(b,e){c._verifyPageElement(b),b=l.extend(b,{name:d.page,data:d.data,unload:e}),b.style.display="none"};return d.pageHTML?this._pushPage(d,function(){return new Promise(function(a){pa.load({page:d.pageHTML,parent:c,params:d.data},function(b){var c=b.element,d=b.unload;f(c,d),a()})})}):this._pushPage(d,function(){return new Promise(function(a){c._pageLoader.load({page:b,parent:c,params:d.data},function(b){var c=b.element,d=b.unload;f(c,d),a()})})})}},{key:"_pushPage",value:function(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],c=arguments.length<=1||void 0===arguments[1]?function(){return Promise.resolve()}:arguments[1],d=this,e=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],f=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];if(this._isRunning)return Promise.reject("pushPage is already running.");if(this._emitPrePushEvent())return Promise.reject("Canceled in prepush event.");this._isRunning=!0;var g=K.parseAnimationOptionsString(this.getAttribute("animation-options"));b=l.extend({},this.options||{},{animationOptions:g},b);var h=this._animatorFactory.newAnimator(b);return e.push(f),c(e,this).then(function(){var a=d.pages.length,c=d.pages[a-1],e=d.pages[a-2];if("ONS-PAGE"!==c.nodeName)throw new Error("Only elements of type <ons-page> can be pushed to the navigator");return c.updateBackButton(a-1),c.pushedOptions=b,c.data=c.data||b.data,c.name=c.name||b.page,c.unload=c.unload||b.unload,new Promise(function(a){var f=function(){d._isRunning=!1,e&&(e.style.display="none"),setImmediate(function(){return c._show()}),l.triggerElementEvent(d,"postpush",{leavePage:e,enterPage:c,navigator:d}),"function"==typeof b.callback&&b.callback(),a(c)};c.style.display="none";var g=function(){c.style.display="block",e?(e._hide(),h.push(c,e,f)):f()};b._linked?g():xb.link(d,c,b,g)})}).catch(function(a){throw d._isRunning=!1,a})}},{key:"replacePage",value:function(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this.pushPage(b,d).then(function(a){return c.pages.length>1&&c.pages[c.pages.length-2]._destroy(),c._updateLastPageBackButton(),Promise.resolve(a)})}},{key:"insertPage",value:function(b,c){var d=this,e=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],f=this._preparePageAndOptions(c,e);if(c=f.page,e=f.options,b=this._normalizeIndex(b),b>=this.pages.length)return this.pushPage(c,e);c="string"==typeof e.pageHTML?e.pageHTML:c;var g="string"==typeof e.pageHTML?pa:this._pageLoader;return new Promise(function(a){g.load({page:c,parent:d},function(c){var f=c.element,g=c.unload;d._verifyPageElement(f),f=l.extend(f,{name:e.page,data:e.data,pushedOptions:e,unload:g}),e.animationOptions=l.extend({},K.parseAnimationOptionsString(d.getAttribute("animation-options")),e.animationOptions||{}),f.style.display="none",d.insertBefore(f,d.pages[b]),d.topPage.updateBackButton(!0),xb.link(d,f,e,function(c){setTimeout(function(){c=null,a(d.pages[b])},1e3/60)})})})}},{key:"resetToPage",value:function(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],e=this._preparePageAndOptions(b,d);b=e.page,d=e.options,d.animator||d.animation||(d.animation="none");var f=d.callback;return d.callback=function(){for(;c.pages.length>1;)c.pages[0]._destroy();c.pages[0].updateBackButton(!1),f&&f()},d.page||d.pageHTML||!this._getPageTarget()||(b=d.page=this._getPageTarget()),this.pushPage(b,d)}},{key:"bringPageTop",value:function(c){var d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(["number","string"].indexOf("undefined"==typeof c?"undefined":a.typeof(c))===-1)throw new Error("First argument must be a page name or the index of an existing page. You supplied "+c);var e="number"==typeof c?this._normalizeIndex(c):this._lastIndexOfPage(c),f=this.pages[e];if(e<0)return this.pushPage(c,d);var g=this._preparePageAndOptions(f,d);if(d=g.options,e===this.pages.length-1)return Promise.resolve(f);if(!f)throw new Error("Failed to find item "+c);return this._isRunning?Promise.reject("pushPage is already running."):this._emitPrePushEvent()?Promise.reject("Canceled in prepush event."):(l.extend(d,{page:f.name,_linked:!0}),f.style.display="none",f.setAttribute("_skipinit",""),f.parentNode.appendChild(f),this._pushPage(d))}},{key:"_preparePageAndOptions",value:function(c){var d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("object"!=("undefined"==typeof d?"undefined":a.typeof(d)))throw new Error("options must be an object. You supplied "+d);return null!==c&&void 0!==c||!d.page||(c=d.page),d=l.extend({},this.options||{},d,{page:c}),{page:c,options:d}}},{key:"_updateLastPageBackButton",value:function(){var b=this.pages.length-1;b>=0&&this.pages[b].updateBackButton(b>0)}},{key:"_normalizeIndex",value:function(b){return b>=0?b:Math.abs(this.pages.length+b)%this.pages.length}},{key:"_onDeviceBackButton",value:function(b){this.pages.length>1?this.popPage():b.callParentHandler()}},{key:"_lastIndexOfPage",value:function(b){var c=void 0;for(c=this.pages.length-1;c>=0&&this.pages[c].name!==b;c--);return c}},{key:"_emitPreEvent",value:function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=!1;return l.triggerElementEvent(this,"pre"+b,l.extend({navigator:this,currentPage:this.pages[this.pages.length-1],cancel:function(){return d=!0}},c)),d}},{key:"_emitPrePushEvent",value:function(){return this._emitPreEvent("push")}},{key:"_emitPrePopEvent",value:function(){var b=this.pages.length;return this._emitPreEvent("pop",{leavePage:this.pages[b-1],enterPage:this.pages[b-2]})}},{key:"_createPageElement",value:function(b){var c=l.createElement(J.normalizePageHTML(b));return this._verifyPageElement(c),c}},{key:"_verifyPageElement",value:function(b){if("ons-page"!==b.nodeName.toLowerCase())throw new Error('You must supply an "ons-page" element to "ons-navigator".');CustomElements.upgrade(b)}},{key:"_show",value:function(){this.topPage&&this.topPage._show()}},{key:"_hide",value:function(){this.topPage&&this.topPage._hide()}},{key:"_destroy",value:function(){for(var b=this.pages.length-1;b>=0;b--)this.pages[b]._destroy();this.remove()}},{key:"animatorFactory",get:function(){return this._animatorFactory}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(b){if(!(b instanceof na))throw Error("First parameter must be an instance of PageLoader.");this._pageLoader=b}},{key:"page",get:function(){return this._page},set:function(b){this._page=b}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(b){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=Y.createHandler(this,b)}},{key:"topPage",get:function(){return this.pages[this.pages.length-1]||null}},{key:"pages",get:function(){return l.arrayFrom(this.children).filter(function(a){return"ONS-PAGE"===a.tagName})}},{key:"options",get:function(){return this._options},set:function(b){this._options=b}},{key:"_isRunning",set:function(b){this.setAttribute("_is-running",b?"true":"false")},get:function(){return JSON.parse(this.getAttribute("_is-running"))}}]),c}(ta);window.OnsNavigatorElement=document.registerElement("ons-navigator",{prototype:yb.prototype}),window.OnsNavigatorElement.registerAnimator=function(a,b){if(!(b.prototype instanceof ob))throw new Error('"Animator" param must inherit OnsNavigatorElement.NavigatorTransitionAnimator');wb[a]=b},window.OnsNavigatorElement.rewritables=xb,window.OnsNavigatorElement.NavigatorTransitionAnimator=ob;var zb={"":"page--*",".page__content":"page--*__content",".page__background":"page--*__background"},Ab=document.createElement("ons-toolbar"),Bb=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;this.classList.add("page"),la(this,function(){b.hasAttribute("_compiled")||b._compile(),b._isShown=!1,b._contentElement=b._getContentElement(),b._isMuted=b.hasAttribute("_muted"),b._skipInit=b.hasAttribute("_skipinit"),b.pushedOptions={}})}},{key:"attachedCallback",value:function(){var b=this;la(this,function(){b._isMuted||(b._skipInit?b.removeAttribute("_skipinit"):setImmediate(function(){return l.triggerElementEvent(b,"init")})),l.hasAnyComponentAsParent(b)||setImmediate(function(){return b._show()}),b._tryToFillStatusBar(),b.hasAttribute("on-infinite-scroll")&&b.attributeChangedCallback("on-infinite-scroll",null,b.getAttribute("on-infinite-scroll"))})}},{key:"updateBackButton",value:function(b){this.backButton&&(b?this.backButton.show():this.backButton.hide())}},{key:"_tryToFillStatusBar",value:function(){var b=this;J.autoStatusBarFill(function(){var a=l.findParent(b,function(a){return a.hasAttribute("status-bar-fill")});l.toggleAttribute(b,"status-bar-fill",!a&&(b._canAnimateToolbar()||!b._hasAPageControlChild()))})}},{key:"_hasAPageControlChild",value:function(){return l.findChild(this._contentElement,function(a){return a.nodeName.match(/ons-(splitter|sliding-menu|navigator|tabbar)/i)})}},{key:"_onScroll",value:function(){var b=this,c=this._contentElement,d=(c.scrollTop+c.clientHeight)/c.scrollHeight>=this._infiniteScrollLimit;this._onInfiniteScroll&&!this._loadingContent&&d&&(this._loadingContent=!0,this._onInfiniteScroll(function(){return b._loadingContent=!1}))}},{key:"_getContentElement",value:function(){var b=l.findChild(this,".page__content");if(b)return b;throw Error('fail to get ".page__content" element.')}},{key:"_canAnimateToolbar",value:function(){return!!l.findChild(this,"ons-toolbar")||!!l.findChild(this._contentElement,function(a){return l.match(a,"ons-toolbar")&&!a.hasAttribute("inline")})}},{key:"_getBackgroundElement",value:function(){var b=l.findChild(this,".page__background");if(b)return b;throw Error('fail to get ".page__background" element.')}},{key:"_getBottomToolbarElement",value:function(){return l.findChild(this,"ons-bottom-toolbar")||J.nullElement}},{key:"_getToolbarElement",value:function(){return l.findChild(this,"ons-toolbar")||Ab}},{key:"attributeChangedCallback",value:function(b,c,d){var e=this;return"modifier"===b?L.onModifierChanged(c,d,this,zb):void("_muted"===b?this._isMuted=this.hasAttribute("_muted"):"_skipinit"===b?this._skipInit=this.hasAttribute("_skipinit"):"on-infinite-scroll"===b&&(null===d?this.onInfiniteScroll=null:this.onInfiniteScroll=function(a){var b=l.findFromPath(d);e.onInfiniteScroll=b,b(a)}))}},{key:"_compile",value:function(){var b=this;if(ca.prepare(this),
l.findChild(this,".content")&&l.findChild(this,".content").classList.add("page__content"),l.findChild(this,".background")&&l.findChild(this,".background").classList.add("page__background"),l.findChild(this,".page__content")||!function(){var a=l.create(".page__content");l.arrayFrom(b.childNodes).forEach(function(c){(1!==c.nodeType||b._elementShouldBeMoved(c))&&a.appendChild(c)});var c=l.findChild(b,".page__background")||l.findChild(b,"ons-toolbar");b.insertBefore(a,c&&c.nextSibling)}(),!l.findChild(this,".page__background")){var c=l.create(".page__background");this.insertBefore(c,l.findChild(this,".page__content"))}L.initModifier(this,zb),this.setAttribute("_compiled","")}},{key:"_elementShouldBeMoved",value:function(b){if(b.classList.contains("page__background"))return!1;var c=b.tagName.toLowerCase();if("ons-fab"===c)return!b.hasAttribute("position");var d=["ons-toolbar","ons-bottom-toolbar","ons-modal","ons-speed-dial"];return b.hasAttribute("inline")||d.indexOf(c)===-1}},{key:"_show",value:function(){!this._isShown&&l.isAttached(this)&&(this._isShown=!0,this._isMuted||l.triggerElementEvent(this,"show"),l.propagateAction(this._contentElement,"_show"))}},{key:"_hide",value:function(){this._isShown&&(this._isShown=!1,this._isMuted||l.triggerElementEvent(this,"hide"),l.propagateAction(this._contentElement,"_hide"))}},{key:"_destroy",value:function(){this._hide(),this._isMuted||l.triggerElementEvent(this,"destroy"),this.onDeviceBackButton&&this.onDeviceBackButton.destroy(),l.propagateAction(this._contentElement,"_destroy"),this.unload instanceof Function&&this.unload(),this.remove()}},{key:"name",set:function(b){this.setAttribute("name",b)},get:function(){return this.getAttribute("name")}},{key:"backButton",get:function(){return this.querySelector("ons-back-button")}},{key:"onInfiniteScroll",set:function(b){if(null===b)return this._onInfiniteScroll=null,void this._contentElement.removeEventListener("scroll",this._boundOnScroll);if(!(b instanceof Function))throw new Error("onInfiniteScroll must be a function or null");this._onInfiniteScroll||(this._infiniteScrollLimit=.9,this._boundOnScroll=this._onScroll.bind(this),this._contentElement.addEventListener("scroll",this._boundOnScroll)),this._onInfiniteScroll=b},get:function(){return this._onInfiniteScroll}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(b){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=Y.createHandler(this,b)}}]),c}(ta);window.OnsPageElement=document.registerElement("ons-page",{prototype:Bb.prototype});var Cb=function(){function b(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];a.classCallCheck(this,b),this.options=l.extend({timing:"cubic-bezier(.1, .7, .4, 1)",duration:.2,delay:0},c)}return a.createClass(b,[{key:"show",value:function(b,c){c()}},{key:"hide",value:function(b,c){c()}},{key:"_animate",value:function(b,c){var d=c.from,e=c.to,f=c.options,g=c.callback,h=c.restore,i=void 0!==h&&h,j=c.animation;return f=l.extend({},this.options,f),j&&(d=j.from,e=j.to),j=animit(b),i&&(j=j.saveStyle()),j=j.queue(d).wait(f.delay).queue({css:e,duration:f.duration,timing:f.timing}),i&&(j=j.restoreStyle()),g&&(j=j.queue(function(a){g(),a()})),j}},{key:"_animateAll",value:function(b,c){var d=this;Object.keys(c).forEach(function(a){return d._animate(b[a],c[a]).play()})}}]),b}(),Db={out:{from:{opacity:1},to:{opacity:0}},in:{from:{opacity:0},to:{opacity:1}}},Eb=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"show",value:function(b,c){this._animateAll(b,{_mask:Db.in,_popover:{animation:Db.in,restore:!0,callback:c}})}},{key:"hide",value:function(b,c){this._animateAll(b,{_mask:Db.out,_popover:{animation:Db.out,restore:!0,callback:c}})}}]),c}(Cb),Fb=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"show",value:function(b,c){this._animateAll(b,{_mask:Db.in,_popover:{from:{transform:"scale3d(1.3, 1.3, 1.0)",opacity:0},to:{transform:"scale3d(1.0, 1.0,  1.0)",opacity:1},restore:!0,callback:c}})}}]),c}(Eb),Gb={PopoverAnimator:Cb,IOSFadePopoverAnimator:Fb,MDFadePopoverAnimator:Eb},Hb={".popover":"popover--*",".popover-mask":"popover-mask--*",".popover__container":"popover__container--*",".popover__content":"popover__content--*",".popover__arrow":"popover__arrow--*"},Ib={default:function(){return G.isAndroid()?Gb.MDFadePopoverAnimator:Gb.IOSFadePopoverAnimator},none:Gb.PopoverAnimator,"fade-ios":Gb.IOSFadePopoverAnimator,"fade-md":Gb.MDFadePopoverAnimator},Jb=l.createFragment('\n  <div class="popover-mask"></div>\n  <div class="popover__container">\n    <div class="popover__content"></div>\n    <div class="popover__arrow"></div>\n  </div>\n'),Kb={up:"bottom",left:"right",down:"top",right:"left"},Mb=(Object.keys(Kb),function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;la(this,function(){b._compile(),b._initAnimatorFactory()}),this._doorLock=new ea,this._boundOnChange=this._onChange.bind(this),this._boundCancel=this._cancel.bind(this)}},{key:"_initAnimatorFactory",value:function(){var b=new K({animators:Ib,baseClass:Gb.PopoverAnimator,baseClassName:"PopoverAnimator",defaultAnimation:this.getAttribute("animation")||"default"});this._animator=function(a){return b.newAnimator(a)}}},{key:"_positionPopover",value:function(b){var c=this._radius,d=this._content,e=this._margin,f=b.getBoundingClientRect(),g=l.hasModifier(this,"material"),h=g&&this.hasAttribute("cover-target"),i={top:f.top-e,left:f.left-e,right:window.innerWidth-f.right-e,bottom:window.innerHeight-f.bottom-e},j=this._calculateDirections(i),k=j.vertical,m=j.primary,n=j.secondary;this._popover.classList.add("popover--"+m);var o=h?0:(k?f.height:f.width)+(g?0:14);this.style[m]=Math.max(0,i[m]+o)+e+"px",d.style[m]=0;var p=k?"width":"height",q=function(a){return{width:parseInt(a.getPropertyValue("width")),height:parseInt(a.getPropertyValue("height"))}}(window.getComputedStyle(d));d.style[n]=Math.max(0,i[n]-(q[p]-f[p])/2)+"px",this._arrow.style[n]=Math.max(c,i[n]+f[p]/2)+"px",this._setTransformOrigin(i,q,f,m),d.removeAttribute("data-animit-orig-style")}},{key:"_setTransformOrigin",value:function(b,c,d,e){var f=function(f,g,h){return e===f?c[h]/2:b[f]+(e===g?-c[h]:c[h]-d[h])/2},g=f("left","right","width")+"px",h=f("top","bottom","height")+"px";l.extend(this._popover.style,{transformOrigin:g+" "+h,webkitTransformOriginX:g,webkitTransformOriginY:h})}},{key:"_calculateDirections",value:function(b){var c=(this.getAttribute("direction")||"up down left right").split(/\s+/).map(function(a){return Kb[a]}),d=c.sort(function(a,c){return b[a]-b[c]})[0],e=["top","bottom"].indexOf(d)!==-1,f=void 0;return f=e?b.left<b.right?"left":"right":b.top<b.bottom?"top":"bottom",{vertical:e,primary:d,secondary:f}}},{key:"_clearStyles",value:function(){var b=this;["top","bottom","left","right"].forEach(function(a){b._arrow.style[a]=b._content.style[a]=b.style[a]="",b._popover.classList.remove("popover--"+a)})}},{key:"_onChange",value:function(){var b=this;setImmediate(function(){b._currentTarget&&b._positionPopover(b._currentTarget)})}},{key:"_compile",value:function(){if(ca.prepare(this),!this.classList.contains("popover")){this.classList.add("popover");var b=this._popover&&this._content;if(b){if(!this._mask){var c=document.createElement("div");c.classList.add("popover-mask"),this.insertBefore(c,this.firstChild)}if(!this._arrow){var d=document.createElement("div");d.classList.add("popover__arrow"),this._popover.appendChild(d)}}else{for(var e=Jb.cloneNode(!0),f=e.querySelector(".popover__content");this.childNodes[0];)f.appendChild(this.childNodes[0]);this.appendChild(e)}this.hasAttribute("style")&&(this._popover.setAttribute("style",this.getAttribute("style")),this.removeAttribute("style")),this.hasAttribute("mask-color")&&(this._mask.style.backgroundColor=this.getAttribute("mask-color")),L.initModifier(this,Hb)}}},{key:"_prepareAnimationOptions",value:function(b){if(b.animation&&!(b.animation in Ib))throw new Error("Animator "+b.animation+" is not registered.");b.animationOptions=l.extend(K.parseAnimationOptionsString(this.getAttribute("animation-options")),b.animationOptions||{})}},{key:"_executeAction",value:function(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],e=d.callback,f=b.action,g=b.before,h=b.after;this._prepareAnimationOptions(d);var i=!1;return l.triggerElementEvent(this,"pre"+f,{popover:this,cancel:function(){return i=!0}}),i?Promise.reject("Canceled in pre"+f+" event."):new Promise(function(a){c._doorLock.waitUnlock(function(){var b=c._doorLock.lock();g&&g(),la(c,function(){c._animator(d)[f](c,function(){h&&h(),b(),l.triggerElementEvent(c,"post"+f,{popover:c}),e&&e(),a(c)})})})})}},{key:"show",value:function(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("string"==typeof b?b=document.querySelector(b):b instanceof Event&&(b=b.target),!(b instanceof HTMLElement))throw new Error("Invalid target");return this._executeAction({action:"show",before:function(){c.style.display="block",c._currentTarget=b,c._positionPopover(b)}},d)}},{key:"hide",value:function(){var b=this,c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this._executeAction({action:"hide",after:function(){b.style.display="none",b._clearStyles()}},c)}},{key:"_resetBackButtonHandler",value:function(){var b=this;this.onDeviceBackButton=function(a){return b.cancelable?b._cancel():a.callParentHandler()}}},{key:"attachedCallback",value:function(){var b=this;this._resetBackButtonHandler(),la(this,function(){b._margin=b._margin||parseInt(window.getComputedStyle(b).getPropertyValue("top")),b._radius=parseInt(window.getComputedStyle(b._content).getPropertyValue("border-top-left-radius")),b._mask.addEventListener("click",b._boundCancel,!1),b._resetBackButtonHandler(),window.addEventListener("resize",b._boundOnChange,!1)})}},{key:"detachedCallback",value:function(){var b=this;la(this,function(){b._mask.removeEventListener("click",b._boundCancel,!1),b._backButtonHandler.destroy(),b._backButtonHandler=null,window.removeEventListener("resize",b._boundOnChange,!1)})}},{key:"attributeChangedCallback",value:function(b,c,d){return"modifier"===b?L.onModifierChanged(c,d,this,Hb):"direction"===b?this._boundOnChange():void("animation"===b&&this._initAnimatorFactory())}},{key:"_cancel",value:function(){var b=this;this.cancelable&&this.hide({callback:function(){l.triggerElementEvent(b,"dialog-cancel")}})}},{key:"_mask",get:function(){return l.findChild(this,".popover-mask")}},{key:"_popover",get:function(){return l.findChild(this,".popover__container")}},{key:"_content",get:function(){return l.findChild(this._popover,".popover__content")}},{key:"_arrow",get:function(){return l.findChild(this._popover,".popover__arrow")}},{key:"visible",get:function(){return"none"!==window.getComputedStyle(this).getPropertyValue("display")}},{key:"cancelable",set:function(b){return l.toggleAttribute(this,"cancelable",b)},get:function(){return this.hasAttribute("cancelable")}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(b){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=Y.createHandler(this,b)}}]),c}(ta));window.OnsPopoverElement=document.registerElement("ons-popover",{prototype:Mb.prototype}),window.OnsPopoverElement.registerAnimator=function(a,b){if(!(b.prototype instanceof Gb.PopoverAnimator))throw new Error('"Animator" param must inherit PopoverAnimator');Ib[a]=b},window.OnsPopoverElement.PopoverAnimator=Gb.PopoverAnimator;var Nb={".progress-bar":"progress-bar--*",".progress-bar__primary":"progress-bar__primary--*",".progress-bar__secondary":"progress-bar__secondary--*"},Ob=l.createElement('\n  <div class="progress-bar">\n    <div class="progress-bar__secondary"></div>\n    <div class="progress-bar__primary"></div>\n  </div>\n'),Pb=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){this.hasAttribute("_compiled")||this._compile()}},{key:"attributeChangedCallback",value:function(b,c,d){return"modifier"===b?L.onModifierChanged(c,d,this,Nb):void("value"===b||"secondary-value"===b?this._updateValue():"indeterminate"===b&&this._updateDeterminate())}},{key:"_updateDeterminate",value:function(){this.hasAttribute("indeterminate")?(this._template.classList.add("progress-bar--indeterminate"),this._template.classList.remove("progress-bar--determinate")):(this._template.classList.add("progress-bar--determinate"),this._template.classList.remove("progress-bar--indeterminate"))}},{key:"_updateValue",value:function(){this._primary.style.width=this.hasAttribute("value")?this.getAttribute("value")+"%":"0%",this._secondary.style.width=this.hasAttribute("secondary-value")?this.getAttribute("secondary-value")+"%":"0%"}},{key:"_compile",value:function(){this._template=Ob.cloneNode(!0),this._primary=this._template.childNodes[3],this._secondary=this._template.childNodes[1],this._updateDeterminate(),this._updateValue(),this.appendChild(this._template),L.initModifier(this,Nb),this.setAttribute("_compiled","")}},{key:"value",set:function(b){if("number"!=typeof b||b<0||b>100)throw new Error("Invalid value");this.setAttribute("value",Math.floor(b))},get:function(){return parseInt(this.getAttribute("value")||"0")}},{key:"secondaryValue",set:function(b){if("number"!=typeof b||b<0||b>100)throw new Error("Invalid value");this.setAttribute("secondary-value",Math.floor(b))},get:function(){return parseInt(this.getAttribute("secondary-value")||"0")}},{key:"indeterminate",set:function(b){b?this.setAttribute("indeterminate",""):this.removeAttribute("indeterminate")},get:function(){return this.hasAttribute("indeterminate")}}]),c}(ta);window.OnsProgressBarElement=document.registerElement("ons-progress-bar",{prototype:Pb.prototype});var Qb={".progress-circular":"progress-circular--*",".progress-circular__primary":"progress-circular__primary--*",".progress-circular__secondary":"progress-circular__secondary--*"},Rb=l.createElement('\n  <svg class="progress-circular">\n    <circle class="progress-circular__secondary" cx="50%" cy="50%" r="40%" fill="none" stroke-width="10%" stroke-miterlimit="10"/>\n    <circle class="progress-circular__primary" cx="50%" cy="50%" r="40%" fill="none" stroke-width="10%" stroke-miterlimit="10"/>\n  </svg>\n'),Sb=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){this.hasAttribute("_compiled")||this._compile()}},{key:"attributeChangedCallback",value:function(b,c,d){return"modifier"===b?L.onModifierChanged(c,d,this,Qb):void("value"===b||"secondary-value"===b?this._updateValue():"indeterminate"===b&&this._updateDeterminate())}},{key:"_updateDeterminate",value:function(){this.hasAttribute("indeterminate")?(this._template.classList.add("progress-circular--indeterminate"),this._template.classList.remove("progress-circular--determinate")):(this._template.classList.add("progress-circular--determinate"),this._template.classList.remove("progress-circular--indeterminate"))}},{key:"_updateValue",value:function(){if(this.hasAttribute("value")){var b=Math.ceil(251.32*this.getAttribute("value")*.01);this._primary.style["stroke-dasharray"]=b+"%, 251.32%"}if(this.hasAttribute("secondary-value")){var c=Math.ceil(251.32*this.getAttribute("secondary-value")*.01);this._secondary.style["stroke-dasharray"]=c+"%, 251.32%"}}},{key:"_compile",value:function(){this._template=Rb.cloneNode(!0),this._primary=this._template.childNodes[3],this._secondary=this._template.childNodes[1],this._updateDeterminate(),this._updateValue(),this.appendChild(this._template),L.initModifier(this,Qb),this.setAttribute("_compiled","")}},{key:"value",set:function(b){if("number"!=typeof b||b<0||b>100)throw new Error("Invalid value");this.setAttribute("value",Math.floor(b))},get:function(){return parseInt(this.getAttribute("value")||"0")}},{key:"secondaryValue",set:function(b){if("number"!=typeof b||b<0||b>100)throw new Error("Invalid value");this.setAttribute("secondary-value",Math.floor(b))},get:function(){return parseInt(this.getAttribute("secondary-value")||"0")}},{key:"indeterminate",set:function(b){b?this.setAttribute("indeterminate",""):this.removeAttribute("indeterminate")},get:function(){return this.hasAttribute("indeterminate")}}]),c}(ta);window.OnsProgressCircularElement=document.registerElement("ons-progress-circular",{prototype:Sb.prototype});var Tb="initial",Ub="preaction",Vb="action",Wb=function(b){b.style.transform="",b.style.WebkitTransform="",b.style.transition="",b.style.WebkitTransition=""},Xb=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){this._boundOnDrag=this._onDrag.bind(this),this._boundOnDragStart=this._onDragStart.bind(this),this._boundOnDragEnd=this._onDragEnd.bind(this),this._boundOnScroll=this._onScroll.bind(this),this._setState(Tb,!0)}},{key:"_setStyle",value:function(){var b=this.height;this.style.height=b+"px",this.style.lineHeight=b+"px",this.style.marginTop="-1px",this._pageElement.style.marginTop="-"+b+"px"}},{key:"_onScroll",value:function(b){var c=this._pageElement;c.scrollTop<0&&(c.scrollTop=0)}},{key:"_generateTranslationTransform",value:function(b){return"translate3d(0px, "+b+"px, 0px)"}},{key:"_onDrag",value:function(b){var c=this;if(!this.disabled){if(G.isAndroid()){var d=this._pageElement;d.scrollTop=this._startScroll-b.gesture.deltaY,d.scrollTop<window.innerHeight&&"up"!==b.gesture.direction&&b.gesture.preventDefault()}if(0===this._currentTranslation&&0===this._getCurrentScroll()){this._transitionDragLength=b.gesture.deltaY;var e=b.gesture.interimDirection;"down"===e?this._transitionDragLength-=1:this._transitionDragLength+=1}var f=Math.max(b.gesture.deltaY-this._startScroll,0);this._thresholdHeightEnabled()&&f>=this.thresholdHeight?(b.gesture.stopDetect(),setImmediate(function(){return c._finish()})):f>=this.height?this._setState(Ub):this._setState(Tb),b.stopPropagation(),this._translateTo(f)}}},{key:"_onDragStart",value:function(b){this.disabled||(this._startScroll=this._getCurrentScroll())}},{key:"_onDragEnd",value:function(b){if(!this.disabled&&this._currentTranslation>0){var c=this._currentTranslation;c>this.height?this._finish():this._translateTo(0,{animate:!0})}}},{key:"_finish",value:function(){var b=this;this._setState(Vb),this._translateTo(this.height,{animate:!0});var c=this.onAction||function(a){return a()};c(function(){b._translateTo(0,{animate:!0}),b._setState(Tb)})}},{key:"_thresholdHeightEnabled",value:function(){var b=this.thresholdHeight;return b>0&&b>=this.height}},{key:"_setState",value:function(b,c){var d=this._getState();this.setAttribute("state",b),c||d===this._getState()||l.triggerElementEvent(this,"changestate",{pullHook:this,state:b,lastState:d})}},{key:"_getState",value:function(){return this.getAttribute("state")}},{key:"_getCurrentScroll",value:function(){return this._pageElement.scrollTop}},{key:"_isContentFixed",value:function(){return this.hasAttribute("fixed-content")}},{key:"_getScrollableElement",value:function(){return this._isContentFixed()?this:this._pageElement}},{key:"_translateTo",value:function(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(0!=this._currentTranslation||0!=b){var e=function(){if(0===b){var e=c._getScrollableElement();Wb(e)}d.callback&&d.callback()};this._currentTranslation=b,d.animate?animit(this._getScrollableElement()).queue({transform:this._generateTranslationTransform(b)},{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}).play(e):animit(this._getScrollableElement()).queue({transform:this._generateTranslationTransform(b)}).play(e)}}},{key:"_disableDragLock",value:function(){this._dragLockDisabled=!0,this._destroyEventListeners(),this._createEventListeners()}},{key:"_createEventListeners",value:function(){this._gestureDetector=new q(this._pageElement,{dragMinDistance:1,dragDistanceCorrection:!1,dragLockToAxis:!this._dragLockDisabled}),this._gestureDetector.on("dragup dragdown",this._boundOnDrag),this._gestureDetector.on("dragstart",this._boundOnDragStart),this._gestureDetector.on("dragend",this._boundOnDragEnd),this._pageElement.addEventListener("scroll",this._boundOnScroll,!1)}},{key:"_destroyEventListeners",value:function(){this._gestureDetector&&(this._gestureDetector.off("dragup dragdown",this._boundOnDrag),this._gestureDetector.off("dragstart",this._boundOnDragStart),this._gestureDetector.off("dragend",this._boundOnDragEnd),this._gestureDetector.dispose(),this._gestureDetector=null),this._pageElement.removeEventListener("scroll",this._boundOnScroll,!1)}},{key:"attachedCallback",value:function(){this._currentTranslation=0,this._pageElement=this.parentNode,this._createEventListeners(),this._setStyle()}},{key:"detachedCallback",value:function(){this._pageElement.style.marginTop="",this._destroyEventListeners()}},{key:"attributeChangedCallback",value:function(b,c,d){"height"===b&&this._setStyle()}},{key:"height",set:function(b){if(!l.isInteger(b))throw new Error("The height must be an integer");this.setAttribute("height",b+"px")},get:function(){return parseInt(this.getAttribute("height")||"64",10)}},{key:"thresholdHeight",set:function(b){if(!l.isInteger(b))throw new Error("The threshold height must be an integer");this.setAttribute("threshold-height",b+"px")},get:function(){return parseInt(this.getAttribute("threshold-height")||"96",10)}},{key:"state",get:function(){return this._getState()}},{key:"pullDistance",get:function(){return this._currentTranslation}},{key:"disabled",set:function(b){return l.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}}]),c}(ta);window.OnsPullHookElement=document.registerElement("ons-pull-hook",{prototype:Xb.prototype}),window.OnsPullHookElement.STATE_ACTION=Vb,window.OnsPullHookElement.STATE_INITIAL=Tb,window.OnsPullHookElement.STATE_PREACTION=Ub;var Yb=function(){function b(){a.classCallCheck(this,b),this._queue=[],this._index=0}return a.createClass(b,[{key:"animate",value:function(b,c){var d=arguments.length<=2||void 0===arguments[2]?200:arguments[2],e=(new Date).getTime(),f={},g=!1,h=!1,i=!1,j=Object.keys(c),k=function(){var c=window.getComputedStyle(b);j.forEach(c.getPropertyValue.bind(c)),c=b.offsetHeight},l={stop:function(){var k=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i&&clearTimeout(i);var m=Math.min(1,((new Date).getTime()-e)/d);return j.forEach(function(a){b.style[a]=(1-m)*f[a]+m*c[a]+("opacity"==a?"":"px")}),b.style.transitionDuration="0s",k.stopNext?h=!1:g||(g=!0,h&&h()),l},then:function(b){return h=b,g&&h&&h(),l},speed:function(h){return J.config.animationsDisabled&&(h=0),g||!function(){i&&clearTimeout(i);var a=(new Date).getTime()-e,g=a/d,m=h*(1-g);j.forEach(function(a){b.style[a]=(1-g)*f[a]+g*c[a]+("opacity"==a?"":"px")}),k(),e=b.speedUpTime,d=m,b.style.transitionDuration=d/1e3+"s",j.forEach(function(a){b.style[a]=c[a]+("opacity"==a?"":"px")}),i=setTimeout(l.stop,m)}(),l},finish:function(){var b=arguments.length<=0||void 0===arguments[0]?50:arguments[0],c=((new Date).getTime()-e)/d;return l.speed(b/(1-c)),l}};if(b.hasAttribute("disabled")||g||J.config.animationsDisabled)return l;var m=window.getComputedStyle(b);return j.forEach(function(a){var b=parseFloat(m.getPropertyValue(a));f[a]=isNaN(b)?0:b}),g||(b.style.transitionProperty=j.join(","),b.style.transitionDuration=d/1e3+"s",j.forEach(function(a){b.style[a]=c[a]+("opacity"==a?"":"px")})),i=setTimeout(l.stop,d),this._onStopAnimations(b,l.stop),l}}]),a.createClass(b,[{key:"_onStopAnimations",value:function(b,c){var d=this._queue,e=this._index++;d[b]=d[b]||[],d[b][e]=function(a){return delete d[b][e],d[b]&&0==d[b].length&&delete d[b],c(a)}}},{key:"stopAnimations",value:function(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return Array.isArray(b)?b.forEach(function(a){c.stopAnimations(a,d)}):void(this._queue[b]||[]).forEach(function(a){a(d||{})})}},{key:"stopAll",value:function(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.stopAnimations(Object.keys(this._queue),b)}},{key:"fade",value:function(b){var c=arguments.length<=1||void 0===arguments[1]?200:arguments[1];return this.animate(b,{opacity:0},c)}}]),b}(),Zb=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;this.classList.add("ripple"),this.hasAttribute("_compiled")?(this._background=this.getElementsByClassName("ripple__background")[0],this._wave=this.getElementsByClassName("ripple__wave")[0]):this._compile(),this._animator=new Yb,["color","center","start-radius","background"].forEach(function(a){b.attributeChangedCallback(a,null,b.getAttribute(a))})}},{key:"_compile",value:function(){var b=this;["_wave","_background"].forEach(function(a){b[a]=document.createElement("div"),b[a].classList.add("ripple_"+a),b.appendChild(b[a])}),this.setAttribute("_compiled","")}},{key:"_calculateCoords",value:function(b){var c,d,e,f,g,h=this.getBoundingClientRect();return this._center?(c=h.width/2,d=h.height/2,g=Math.sqrt(c*c+d*d)):(c=(b.clientX||b.changedTouches[0].clientX)-h.left,d=(b.clientY||b.changedTouches[0].clientY)-h.top,e=Math.max(d,h.height-d),f=Math.max(c,h.width-c),g=Math.sqrt(e*e+f*f)),{x:c,y:d,r:g}}},{key:"_rippleAnimation",value:function(b){var c=arguments.length<=1||void 0===arguments[1]?300:arguments[1],d=this._animator,e=this._wave,f=this._background,g=this._minR,h=this._calculateCoords(b),i=h.x,j=h.y,k=h.r;return d.stopAll({stopNext:1}),d.animate(f,{opacity:1},c),l.extend(e.style,{opacity:1,top:j-g+"px",left:i-g+"px",width:2*g+"px",height:2*g+"px"}),d.animate(e,{top:j-k,left:i-k,height:2*k,width:2*k},c)}},{key:"_updateParent",value:function(){if(!this._parentUpdated&&this.parentNode){var b=window.getComputedStyle(this.parentNode);"static"===b.getPropertyValue("position")&&(this.parentNode.style.position="relative"),this._parentUpdated=!0}}},{key:"_onTap",value:function(b){var c=this;this.disabled||(this._updateParent(),this._rippleAnimation(b.gesture.srcEvent).then(function(){c._animator.fade(c._wave),c._animator.fade(c._background)}))}},{key:"_onHold",value:function(b){this.disabled||(this._updateParent(),this._holding=this._rippleAnimation(b.gesture.srcEvent,2e3),document.addEventListener("release",this._boundOnRelease))}},{key:"_onRelease",value:function(b){var c=this;this._holding&&(this._holding.speed(300).then(function(){c._animator.stopAll({stopNext:!0}),c._animator.fade(c._wave),c._animator.fade(c._background)}),this._holding=!1),document.removeEventListener("release",this._boundOnRelease)}},{key:"_onDragStart",value:function(b){return this._holding?this._onRelease(b):void(["left","right"].indexOf(b.gesture.direction)!=-1&&this._onTap(b))}},{key:"attachedCallback",value:function(){this._parentNode=this.parentNode,this._boundOnTap=this._onTap.bind(this),this._boundOnHold=this._onHold.bind(this),this._boundOnDragStart=this._onDragStart.bind(this),this._boundOnRelease=this._onRelease.bind(this),J.config.animationsDisabled?this.disabled=!0:(this._parentNode.addEventListener("tap",this._boundOnTap),this._parentNode.addEventListener("hold",this._boundOnHold),this._parentNode.addEventListener("dragstart",this._boundOnDragStart))}},{key:"detachedCallback",value:function(){this._parentNode.removeEventListener("tap",this._boundOnTap),this._parentNode.removeEventListener("hold",this._boundOnHold),this._parentNode.removeEventListener("dragstart",this._boundOnDragStart)}},{key:"attributeChangedCallback",value:function(b,c,d){"start-radius"===b&&(this._minR=Math.max(0,parseFloat(d)||0)),"color"===b&&d&&(this._wave.style.background=d,this.hasAttribute("background")||(this._background.style.background=d)),"background"===b&&(d||c)&&("none"===d?(this._background.setAttribute("disabled","disabled"),this._background.style.background="transparent"):(this._background.hasAttribute("disabled")&&this._background.removeAttribute("disabled"),this._background.style.background=d)),"center"===b&&(this._center=null!=d&&"false"!=d)}},{key:"disabled",set:function(b){return l.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}}]),c}(ta);window.OnsRippleElement=document.registerElement("ons-ripple",{prototype:Zb.prototype}),window.OnsRowElement=window.OnsRowElement?window.OnsRowElement:document.registerElement("ons-row");var $b={"":"speed-dial__item--*"},_b=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){this._compile(),this._boundOnClick=this._onClick.bind(this)}},{key:"attributeChangedCallback",value:function(b,c,d){switch(b){case"modifier":L.onModifierChanged(c,d,this,$b);break;case"ripple":this._updateRipple()}}},{key:"attachedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"detachedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"_updateRipple",value:function(){l.updateRipple(this)}},{key:"_onClick",value:function(b){b.stopPropagation()}},{key:"_compile",value:function(){ca.prepare(this),this.classList.add("fab"),this.classList.add("fab--mini"),this.classList.add("speed-dial__item"),this._updateRipple(),L.initModifier(this,$b)}}]),c}(ta);window.OnsSpeedDialItemElement=document.registerElement("ons-speed-dial-item",{prototype:_b.prototype});var ac=function a(b,c){return a.css.apply(a,arguments)};ac.css=function(a,b){var c=Object.keys(b);return c.forEach(function(c){c in a.style?a.style[c]=b[c]:ac._prefix(c)in a.style?a.style[ac._prefix(c)]=b[c]:console.warn("No such style property: "+c)}),a},ac._prefix=function(){var a=window.getComputedStyle(document.documentElement,""),b=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1];return function(a){return b+a.substr(0,1).toUpperCase()+a.substr(1)}}(),ac.clear=function(a){ac._clear(a)},ac._clear=function(a){for(var b=a.style.length,c=a.style,d=[],e=0;e<b;e++)d.push(c[e]);d.forEach(function(a){c[a]=""})};var bc={"":"speed-dial--*"},cc=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;la(this,function(){b._compile()}),this._shown=!0,this._itemShown=!1,this._boundOnClick=this._onClick.bind(this)}},{key:"_compile",value:function(){this.classList.contains("speed__dial")||(this.classList.add("speed__dial"),ca.prepare(this),this._updateRipple(),L.initModifier(this,bc),this.hasAttribute("direction")?this._updateDirection(this.getAttribute("direction")):this._updateDirection("up")),this._updatePosition()}},{key:"attributeChangedCallback",value:function(b,c,d){var e=this;switch(b){case"modifier":L.onModifierChanged(c,d,this,bc);break;case"ripple":la(this,function(){return e._updateRipple()});break;case"direction":la(this,function(){return e._updateDirection(d)});break;case"position":la(this,function(){return e._updatePosition()})}}},{key:"attachedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1);
}},{key:"detachedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"_onClick",value:function(b){!this.disabled&&this._shown&&this.toggleItems()}},{key:"_show",value:function(){this.inline||this.show()}},{key:"_hide",value:function(){this.inline||this.hide()}},{key:"_updateRipple",value:function(){var b=l.findChild(this,"ons-fab");b&&(this.hasAttribute("ripple")?b.setAttribute("ripple",""):b.removeAttribute("ripple"))}},{key:"_updateDirection",value:function(b){for(var c=this.items,d=0;d<c.length;d++)ac(c[d],{transitionDelay:25*d+"ms",bottom:"auto",right:"auto",top:"auto",left:"auto"});switch(b){case"up":for(var e=0;e<c.length;e++)c[e].style.bottom=72+56*e+"px",c[e].style.right="8px";break;case"down":for(var f=0;f<c.length;f++)c[f].style.top=72+56*f+"px",c[f].style.left="8px";break;case"left":for(var g=0;g<c.length;g++)c[g].style.top="8px",c[g].style.right=72+56*g+"px";break;case"right":for(var h=0;h<c.length;h++)c[h].style.top="8px",c[h].style.left=72+56*h+"px";break;default:throw new Error("Argument must be one of up, down, left or right.")}}},{key:"_updatePosition",value:function(){var b=this.getAttribute("position");switch(this.classList.remove("fab--top__left","fab--bottom__right","fab--bottom__left","fab--top__right","fab--top__center","fab--bottom__center"),b){case"top right":case"right top":this.classList.add("fab--top__right");break;case"top left":case"left top":this.classList.add("fab--top__left");break;case"bottom right":case"right bottom":this.classList.add("fab--bottom__right");break;case"bottom left":case"left bottom":this.classList.add("fab--bottom__left");break;case"center top":case"top center":this.classList.add("fab--top__center");break;case"center bottom":case"bottom center":this.classList.add("fab--bottom__center")}}},{key:"show",value:function(){arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.querySelector("ons-fab").show(),this._shown=!0}},{key:"hide",value:function(){var b=this;arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.hideItems(),setTimeout(function(){b.querySelector("ons-fab").hide()},200),this._shown=!1}},{key:"showItems",value:function(){if(this.hasAttribute("direction")?this._updateDirection(this.getAttribute("direction")):this._updateDirection("up"),!this._itemShown)for(var b=this.items,c=0;c<b.length;c++)ac(b[c],{transform:"scale(1)",transitionDelay:25*c+"ms"});this._itemShown=!0,l.triggerElementEvent(this,"open")}},{key:"hideItems",value:function(){if(this._itemShown)for(var b=this.items,c=0;c<b.length;c++)ac(b[c],{transform:"scale(0)",transitionDelay:25*(b.length-c)+"ms"});this._itemShown=!1,l.triggerElementEvent(this,"close")}},{key:"isOpen",value:function(){return this._itemShown}},{key:"toggle",value:function(){this.visible?this.hide():this.show()}},{key:"toggleItems",value:function(){this.isOpen()?this.hideItems():this.showItems()}},{key:"items",get:function(){return l.arrayFrom(this.querySelectorAll("ons-speed-dial-item"))}},{key:"disabled",set:function(b){return b&&this.hideItems(),l.arrayFrom(this.children).forEach(function(a){l.match(a,".fab")&&l.toggleAttribute(a,"disabled",b)}),l.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}},{key:"inline",get:function(){return this.hasAttribute("inline")}},{key:"visible",get:function(){return this._shown&&"none"!==this.style.display}}]),c}(ta);window.OnsSpeedDialElement=document.registerElement("ons-speed-dial",{prototype:cc.prototype});var dc={ready:function(b,c){setImmediate(c)},link:function(b,c,d,e){e(c)}},ec=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;this._page=null,this._pageLoader=oa,la(this,function(){var a=b._getPageTarget();a&&b.load(a)})}},{key:"attachedCallback",value:function(){if(!l.match(this.parentNode,"ons-splitter"))throw new Error('"ons-splitter-content" must have "ons-splitter" as parentNode.')}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"detachedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(b,c,d){}},{key:"load",value:function(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this._page=b;var e=d.callback||function(){};return new Promise(function(a){c._pageLoader.load({page:b,parent:c},function(b){var f=b.element;b.unload;dc.link(c,f,d,function(b){for(c._hide();c.firstChild;)c.firstChild.remove();c.appendChild(b),c._show(),e(),a(c.firstChild)})})})}},{key:"_show",value:function(){l.propagateAction(this,"_show")}},{key:"_hide",value:function(){l.propagateAction(this,"_hide")}},{key:"_destroy",value:function(){l.propagateAction(this,"_destroy"),this.remove()}},{key:"page",get:function(){return this._page},set:function(b){this._page=b}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(b){if(!(b instanceof na))throw Error("First parameter must be an instance of PageLoader");this._pageLoader=b}}]),c}(ta);window.OnsSplitterContentElement=document.registerElement("ons-splitter-content",{prototype:ec.prototype}),window.OnsSplitterContentElement.rewritables=dc;var fc=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){this._boundOnClick=this._onClick.bind(this)}},{key:"_onClick",value:function(b){l.match(this.parentNode,"ons-splitter")&&this.parentNode._sides.forEach(function(a){return a.close("left").catch(function(){})}),b.stopPropagation()}},{key:"attributeChangedCallback",value:function(b,c,d){}},{key:"attachedCallback",value:function(){this.addEventListener("click",this._boundOnClick)}},{key:"detachedCallback",value:function(){this.removeEventListener("click",this._boundOnClick)}}]),c}(ta);window.OnsSplitterMaskElement=document.registerElement("ons-splitter-mask",{prototype:fc.prototype});var gc=function(){function b(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];a.classCallCheck(this,b),this._options={timing:"cubic-bezier(.1, .7, .1, 1)",duration:"0.3",delay:"0"},this.updateOptions(c)}return a.createClass(b,[{key:"updateOptions",value:function(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];l.extend(this._options,b),this._timing=this._options.timing,this._duration=this._options.duration,this._delay=this._options.delay}},{key:"activate",value:function(b){var c=this,d=b.parentNode;la(d,function(){c._side=b,c._content=d.content,c._mask=d.mask})}},{key:"inactivate",value:function(){this._content=this._side=this._mask=null}},{key:"translate",value:function(b){animit(this._side).queue({transform:"translate3d("+(this.minus+b)+"px, 0px, 0px)"}).play()}},{key:"open",value:function(b){animit.runAll(animit(this._side).wait(this._delay).queue({transform:"translate3d("+this.minus+"100%, 0px, 0px)"},{duration:this._duration,timing:this._timing}).queue(function(a){a(),b&&b()}),animit(this._mask).wait(this._delay).queue({display:"block"}).queue({opacity:"1"},{duration:this._duration,timing:"linear"}))}},{key:"close",value:function(b){var c=this;animit.runAll(animit(this._side).wait(this._delay).queue({transform:"translate3d(0px, 0px, 0px)"},{duration:this._duration,timing:this._timing}).queue(function(a){c._side.style.webkitTransition="",b&&b(),a()}),animit(this._mask).wait(this._delay).queue({opacity:"0"},{duration:this._duration,timing:"linear"}).queue({display:"none"}))}},{key:"minus",get:function(){return"right"===this._side._side?"-":""}}]),b}(),hc=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"_getSide",value:function(b){var c=l.findChild(this,function(a){return l.match(a,"ons-splitter-side")&&a.getAttribute("side")===b});return c&&CustomElements.upgrade(c),c}},{key:"_onDeviceBackButton",value:function(b){this._sides.some(function(a){return!!a.isOpen&&a.close()})||b.callParentHandler()}},{key:"_onModeChange",value:function(b){var c=this;b.target.parentNode&&la(this,function(){c._layout()})}},{key:"_layout",value:function(){var b=this;this._sides.forEach(function(a){b.content.style[a._side]="split"===a.mode?a._width:0})}},{key:"createdCallback",value:function(){var b=this;this._boundOnModeChange=this._onModeChange.bind(this),la(this,function(){b._compile(),b._layout()})}},{key:"_compile",value:function(){this.mask||this.appendChild(document.createElement("ons-splitter-mask"))}},{key:"attachedCallback",value:function(){this.onDeviceBackButton=this._onDeviceBackButton.bind(this),this.addEventListener("modechange",this._boundOnModeChange,!1)}},{key:"detachedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this.removeEventListener("modechange",this._boundOnModeChange,!1)}},{key:"attributeChangedCallback",value:function(b,c,d){}},{key:"_show",value:function(){l.propagateAction(this,"_show")}},{key:"_hide",value:function(){l.propagateAction(this,"_hide")}},{key:"_destroy",value:function(){l.propagateAction(this,"_destroy"),this.remove()}},{key:"left",get:function(){return this._getSide("left")}},{key:"right",get:function(){return this._getSide("right")}},{key:"_sides",get:function(){return[this.left,this.right].filter(function(a){return a})}},{key:"content",get:function(){return l.findChild(this,"ons-splitter-content")}},{key:"mask",get:function(){return l.findChild(this,"ons-splitter-mask")}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(b){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=Y.createHandler(this,b)}}]),c}(ta);window.OnsSplitterElement=document.registerElement("ons-splitter",{prototype:hc.prototype}),window.OnsSplitterElement._animatorDict={default:gc,overlay:gc},window.OnsSplitterElement.registerAnimator=function(a,b){if(!(b instanceof gc))throw new Error("Animator parameter must be an instance of SplitterAnimator.");window.OnsSplitterElement._animatorDict[a]=b},window.OnsSplitterElement.SplitterAnimator=gc;var ic=OnsSplitterElement,jc="split",kc="collapse",lc="closed",mc="open",nc="changing",oc={ready:function(b,c){setImmediate(c)},link:function(b,c,d,e){e(c)}},pc=function(){function b(c,d){a.classCallCheck(this,b),this._element=c,this._boundOnChange=this._onChange.bind(this),d&&this.changeTarget(d)}return a.createClass(b,[{key:"changeTarget",value:function(b){this.disable(),this._target=b,b&&(this._orientation=["portrait","landscape"].indexOf(b)!==-1,this.activate())}},{key:"_match",value:function(b){return this._orientation?this._target===(b.isPortrait?"portrait":"landscape"):b.matches}},{key:"_onChange",value:function(b){this._element._updateMode(this._match(b)?kc:jc)}},{key:"activate",value:function(){this._orientation?(P.on("change",this._boundOnChange),this._onChange({isPortrait:P.isPortrait()})):(this._queryResult=window.matchMedia(this._target),this._queryResult.addListener(this._boundOnChange),this._onChange(this._queryResult))}},{key:"disable",value:function(){this._orientation?P.off("change",this._boundOnChange):this._queryResult&&(this._queryResult.removeListener(this._boundOnChange),this._queryResult=null)}}]),b}(),qc=function(b,c){var d=parseInt(b,10),e=/px/.test(b);return e?d:Math.round(c.offsetWidth*d/100)},rc=function(){function b(c){a.classCallCheck(this,b),this._active=!1,this._state=lc,this._element=c,this._lock=new ea}return a.createClass(b,[{key:"_animator",get:function(){return this._element._animator}}]),a.createClass(b,[{key:"isOpen",value:function(){return this._active&&this._state!==lc}},{key:"handleGesture",value:function(b){!this._active||this._lock.isLocked()||this._isOpenOtherSideMenu()||("dragstart"===b.type?this._onDragStart(b):this._ignoreDrag||("dragend"===b.type?this._onDragEnd(b):this._onDrag(b)))}},{key:"_onDragStart",value:function(b){var c=!/left|right/.test(b.gesture.direction),d="left"===this._element._side?b.gesture.center.clientX:window.innerWidth-b.gesture.center.clientX,e=this._element._swipeTargetWidth,f=this.isOpen();this._ignoreDrag=c||e&&d>e&&!f,this._width=qc(this._element._width,this._element.parentNode),this._startDistance=this._distance=f?this._width:0}},{key:"_onDrag",value:function(b){b.gesture.preventDefault();var c="left"===this._element._side?b.gesture.deltaX:-b.gesture.deltaX,d=Math.max(0,Math.min(this._width,this._startDistance+c));d!==this._distance&&(this._animator.translate(d),this._distance=d,this._state=nc)}},{key:"_onDragEnd",value:function(b){var c=this._distance,d=this._width,e=this._element,f=b.gesture.interimDirection,g=e._side!==f&&c>d*e._threshold;this.executeAction(g?"open":"close"),this._ignoreDrag=!0}},{key:"layout",value:function(){this._active&&this._state===mc&&this._animator.open()}},{key:"enterMode",value:function(){this._active||(this._active=!0,this.layout())}},{key:"exitMode",value:function(){this._active=!1}},{key:"_isOpenOtherSideMenu",value:function(){var b=this;return l.arrayFrom(this._element.parentElement.children).some(function(a){return l.match(a,"ons-splitter-side")&&a!==b._element&&a.isOpen})}},{key:"executeAction",value:function(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],e="open"===b?mc:lc;if(!this._active)return Promise.resolve(!1);if(this._state===e)return Promise.resolve(this._element);if(this._lock.isLocked())return Promise.reject("Splitter side is locked.");if("open"===b&&this._isOpenOtherSideMenu())return Promise.reject("Another menu is already open.");if(this._element._emitEvent("pre"+b))return Promise.reject("Canceled in pre"+b+" event.");var f=d.callback,g=this._lock.lock(),h=function(){c._state=e,c.layout(),g(),c._element._emitEvent("post"+b),f&&f()};return d.withoutAnimation?(h(),Promise.resolve(this._element)):(this._state=nc,new Promise(function(a){c._animator[b](function(){h(),a(c._element)})}))}}]),b}(),sc=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;this._page=null,this._pageLoader=oa,this._collapseMode=new rc(this),this._collapseDetection=new pc(this),this._animatorFactory=new K({animators:ic._animatorDict,baseClass:gc,baseClassName:"SplitterAnimator",defaultAnimation:this.getAttribute("animation")}),this._boundHandleGesture=function(a){return b._collapseMode.handleGesture(a)},this._watchedAttributes=["animation","width","side","collapse","swipeable","swipe-target-width","animation-options","open-threshold"],la(this,function(){oc.ready(b,function(){var a=b._getPageTarget();a&&b.load(a)})})}},{key:"attachedCallback",value:function(){var b=this;if(!l.match(this.parentNode,"ons-splitter"))throw new Error("Parent must be an ons-splitter element.");this._gestureDetector=new q(this.parentElement,{dragMinDistance:1}),la(this,function(){b._watchedAttributes.forEach(function(a){return b._update(a)})}),this.hasAttribute("side")||this.setAttribute("side","left")}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"detachedCallback",value:function(){this._collapseDetection.disable(),this._gestureDetector.dispose(),this._gestureDetector=null}},{key:"attributeChangedCallback",value:function(b,c,d){this._watchedAttributes.indexOf(b)!==-1&&this._update(b,d)}},{key:"_update",value:function(b,c){return b="_update"+b.split("-").map(function(a){return a[0].toUpperCase()+a.slice(1)}).join(""),this[b](c)}},{key:"_emitEvent",value:function(b){if("pre"!==b.slice(0,3))return l.triggerElementEvent(this,b,{side:this});var c=!1;return l.triggerElementEvent(this,b,{side:this,cancel:function(){return c=!0}}),c}},{key:"_updateCollapse",value:function(){var b=arguments.length<=0||void 0===arguments[0]?this.getAttribute("collapse"):arguments[0];return null===b||"split"===b?(this._collapseDetection.disable(),this._updateMode(jc)):""===b||"collapse"===b?(this._collapseDetection.disable(),this._updateMode(kc)):void this._collapseDetection.changeTarget(b)}},{key:"_updateMode",value:function(b){b!==this._mode&&(this._mode=b,this._collapseMode[b===kc?"enterMode":"exitMode"](),this.setAttribute("mode",b),l.triggerElementEvent(this,"modechange",{side:this,mode:b}))}},{key:"_updateOpenThreshold",value:function(){var b=arguments.length<=0||void 0===arguments[0]?this.getAttribute("open-threshold"):arguments[0];this._threshold=Math.max(0,Math.min(1,parseFloat(b)||.3))}},{key:"_updateSwipeable",value:function(){var b=arguments.length<=0||void 0===arguments[0]?this.getAttribute("swipeable"):arguments[0],c=null===b?"off":"on";this._gestureDetector&&this._gestureDetector[c]("dragstart dragleft dragright dragend",this._boundHandleGesture)}},{key:"_updateSwipeTargetWidth",value:function(){var b=arguments.length<=0||void 0===arguments[0]?this.getAttribute("swipe-target-width"):arguments[0];this._swipeTargetWidth=Math.max(0,parseInt(b)||0)}},{key:"_updateWidth",value:function(){this.style.width=this._width}},{key:"_updateSide",value:function(){var b=arguments.length<=0||void 0===arguments[0]?this.getAttribute("side"):arguments[0];this._side="right"===b?b:"left"}},{key:"_updateAnimation",value:function(){var b=arguments.length<=0||void 0===arguments[0]?this.getAttribute("animation"):arguments[0];this._animator=this._animatorFactory.newAnimator({animation:b}),this._animator.activate(this)}},{key:"_updateAnimationOptions",value:function(){var b=arguments.length<=0||void 0===arguments[0]?this.getAttribute("animation-options"):arguments[0];this._animator.updateOptions(K.parseAnimationOptionsString(b))}},{key:"open",value:function(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this._collapseMode.executeAction("open",b)}},{key:"close",value:function(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this._collapseMode.executeAction("close",b)}},{key:"toggle",value:function(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this.isOpen?this.close(b):this.open(b)}},{key:"load",value:function(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this._page=b;var e=d.callback||function(){};return new Promise(function(a){c._pageLoader.load({page:b,parent:c},function(b){var f=b.element;b.unload;oc.link(c,f,d,function(b){for(c._hide();c.firstChild;)c.firstChild.remove();c.appendChild(b),c._show(),e(),a(c.firstChild)})})})}},{key:"_show",value:function(){l.propagateAction(this,"_show")}},{key:"_hide",value:function(){l.propagateAction(this,"_hide")}},{key:"_destroy",value:function(){l.propagateAction(this,"_destroy"),this.remove()}},{key:"_width",get:function(){var b=this.getAttribute("width");return/^\d+(px|%)$/.test(b)?b:"80%"},set:function(b){this.setAttribute("width",b)}},{key:"page",get:function(){return this._page},set:function(b){this._page=b}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(b){if(!(b instanceof na))throw Error("First parameter must be an instance of PageLoader.");this._pageLoader=b}},{key:"mode",get:function(){return this._mode}},{key:"isOpen",get:function(){return this._collapseMode.isOpen()}}]),c}(ta);window.OnsSplitterSideElement=document.registerElement("ons-splitter-side",{prototype:sc.prototype}),window.OnsSplitterSideElement.rewritables=oc;var tc={"":"switch--*",".switch__input":"switch--*__input",".switch__handle":"switch--*__handle",".switch__toggle":"switch--*__toggle"},uc=l.createFragment('\n  <input type="checkbox" class="switch__input">\n  <div class="switch__toggle">\n    <div class="switch__handle">\n      <div class="switch__touch"></div>\n    </div>\n  </div>\n'),vc={ios:[1,21],material:[0,16]},wc=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;this.hasAttribute("_compiled")||this._compile(),this._checkbox=this.querySelector(".switch__input"),this._handle=this.querySelector(".switch__handle"),["checked","disabled","modifier","name","input-id"].forEach(function(a){b.attributeChangedCallback(a,null,b.getAttribute(a))})}},{key:"_compile",value:function(){ca.prepare(this),this.classList.add("switch"),this.appendChild(uc.cloneNode(!0)),this.setAttribute("_compiled","")}},{key:"detachedCallback",value:function(){this._checkbox.removeEventListener("change",this._onChange),this.removeEventListener("dragstart",this._onDragStart),this.removeEventListener("hold",this._onHold),this.removeEventListener("tap",this.click),this.removeEventListener("click",this._onClick),this._gestureDetector.dispose()}},{key:"attachedCallback",value:function(){this._checkbox.addEventListener("change",this._onChange),this._gestureDetector=new q(this,{dragMinDistance:1,holdTimeout:251}),this.addEventListener("dragstart",this._onDragStart),this.addEventListener("hold",this._onHold),this.addEventListener("tap",this.click),this._boundOnRelease=this._onRelease.bind(this),this.addEventListener("click",this._onClick)}},{key:"_onChange",value:function(){this.checked?this.parentNode.setAttribute("checked",""):this.parentNode.removeAttribute("checked")}},{key:"_onClick",value:function(b){b.target.classList.contains("switch__touch")&&b.preventDefault()}},{key:"click",value:function(){this.disabled||(this.checked=!this.checked)}},{key:"_getPosition",value:function(b){var c=this._locations;return Math.min(c[1],Math.max(c[0],this._startX+b.gesture.deltaX))}},{key:"_onHold",value:function(b){this.disabled||(this.classList.add("switch--active"),document.addEventListener("release",this._boundOnRelease))}},{key:"_onDragStart",value:function(b){return this.disabled||["left","right"].indexOf(b.gesture.direction)===-1?void this.classList.remove("switch--active"):(b.stopPropagation(),this.classList.add("switch--active"),this._startX=this._locations[this.checked?1:0],this.addEventListener("drag",this._onDrag),void document.addEventListener("release",this._boundOnRelease))}},{key:"_onDrag",value:function(b){b.gesture.srcEvent.preventDefault(),this._handle.style.left=this._getPosition(b)+"px"}},{key:"_onRelease",value:function(b){var c=this._locations,d=this._getPosition(b);this.checked=d>=(c[0]+c[1])/2,this.removeEventListener("drag",this._onDrag),document.removeEventListener("release",this._boundOnRelease),this._handle.style.left="",this.classList.remove("switch--active")}},{key:"attributeChangedCallback",value:function(b,c,d){switch(b){case"modifier":this._isMaterial=(d||"").indexOf("material")!==-1,this._locations=vc[this._isMaterial?"material":"ios"],L.onModifierChanged(c,d,this,tc);break;case"input-id":this._checkbox.id=d;break;case"checked":this._checkbox.checked=null!==d,l.toggleAttribute(this._checkbox,b,null!==d);break;case"disabled":l.toggleAttribute(this._checkbox,b,null!==d)}}},{key:"checked",get:function(){return this._checkbox.checked},set:function(b){if(!!b!==this._checkbox.checked)return this._checkbox.click(),this._checkbox.checked=!!b,l.toggleAttribute(this,"checked",this.checked)}},{key:"disabled",get:function(){return this._checkbox.disabled},set:function(b){return this._checkbox.disabled=b,l.toggleAttribute(this,"disabled",this.disabled)}},{key:"checkbox",get:function(){return this._checkbox}}]),c}(ta);window.OnsSwitchElement=document.registerElement("ons-switch",{prototype:wc.prototype});var xc=function(){function b(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];a.classCallCheck(this,b),this.timing=c.timing||"linear",this.duration=void 0!==c.duration?c.duration:"0.4",this.delay=void 0!==c.delay?c.delay:"0"}return a.createClass(b,[{key:"apply",value:function(b,c,d,e,f){throw new Error("This method must be implemented.")}}]),b}(),yc=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"apply",value:function(b,c,d,e,f){setTimeout(f,1e3/60)}}]),c}(xc),zc=function(b){function c(b){return a.classCallCheck(this,c),b.timing=void 0!==b.timing?b.timing:"linear",b.duration=void 0!==b.duration?b.duration:"0.4",b.delay=void 0!==b.delay?b.delay:"0",a.possibleConstructorReturn(this,Object.getPrototypeOf(c).call(this,b))}return a.inherits(c,b),a.createClass(c,[{key:"apply",value:function(b,c,d,e,f){animit.runAll(animit(b).saveStyle().queue({transform:"translate3D(0, 0, 0)",opacity:0}).wait(this.delay).queue({transform:"translate3D(0, 0, 0)",opacity:1},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){f(),a()}),animit(c).queue({transform:"translate3D(0, 0, 0)",opacity:1}).wait(this.delay).queue({transform:"translate3D(0, 0, 0)",opacity:0},{duration:this.duration,timing:this.timing}))}}]),c}(xc),Ac=function(b){function c(b){return a.classCallCheck(this,c),b.timing=void 0!==b.timing?b.timing:"ease-in",b.duration=void 0!==b.duration?b.duration:"0.15",b.delay=void 0!==b.delay?b.delay:"0",a.possibleConstructorReturn(this,Object.getPrototypeOf(c).call(this,b))}return a.inherits(c,b),a.createClass(c,[{key:"apply",value:function(b,c,d,e,f){var g=d>e;animit.runAll(animit(b).saveStyle().queue({transform:"translate3D("+(g?"":"-")+"100%, 0, 0)"}).wait(this.delay).queue({transform:"translate3D(0, 0, 0)"},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){f(),a()}),animit(c).queue({transform:"translate3D(0, 0, 0)"}).wait(this.delay).queue({transform:"translate3D("+(g?"-":"")+"100%, 0, 0)"},{duration:this.duration,timing:this.timing}))}}]),c}(xc),Bc={".tab-bar__content":"tab-bar--*__content",".tab-bar":"tab-bar--*"},Cc={default:yc,fade:zc,slide:Ac,none:yc},Dc={ready:function(b,c){c()},link:function(b,c,d,e){e(c)},unlink:function(b,c,d){d(c)}},Ec=function(){var a=0;return function(){return"ons-tabbar-gen-"+a++}}(),Fc=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;this._tabbarId=Ec(),la(this,function(){b._compile();for(var a=b._contentElement,c=0;c<a.children.length;c++)a.children[c].style.display="none";var d=b.getAttribute("activeIndex"),e=b._tabbarElement;d&&e.children.length>d&&e.children[d].setAttribute("active","true"),ca.prepare(b),L.initModifier(b,Bc),b._animatorFactory=new K({animators:Cc,baseClass:xc,baseClassName:"TabbarAnimator",defaultAnimation:b.getAttribute("animation")})})}},{key:"attachedCallback",value:function(){var b=this;la(this,function(){return b._updatePosition()})}},{key:"_compile",value:function(){if(this._contentElement&&this._tabbarElement){var b=l.findChild(this,".tab-bar__content"),c=l.findChild(this,".tab-bar");b.classList.add("ons-tab-bar__content"),c.classList.add("ons-tab-bar__footer"),c.classList.add("ons-tabbar-inner")}else{for(var d=l.create(".ons-tab-bar__content.tab-bar__content"),e=l.create(".tab-bar.ons-tab-bar__footer.ons-tabbar-inner");this.firstChild;)e.appendChild(this.firstChild);this.appendChild(d),this.appendChild(e)}}},{key:"_updatePosition",value:function(){var b=this,c=arguments.length<=0||void 0===arguments[0]?this.getAttribute("position"):arguments[0],d=this._top="top"===c||"auto"===c&&G.isAndroid(),e=d?l.addModifier:l.removeModifier;e(this,"top");var f=l.findParent(this,"ons-page");f&&(this.style.top=d?window.getComputedStyle(f._getContentElement(),null).getPropertyValue("padding-top"):"",l.match(f.firstChild,"ons-toolbar")&&e(f.firstChild,"noshadow")),J.autoStatusBarFill(function(){var a=l.findParent(b,function(a){return a.hasAttribute("status-bar-fill")});l.toggleAttribute(b,"status-bar-fill",d&&!a)})}},{key:"_getTabbarElement",value:function(){return l.findChild(this,".tab-bar")}},{key:"loadPage",value:function(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return new Promise(function(a){var e=c._tabbarElement.children[0]||new OnsTabElement;e._loadPage(b,c._contentElement,function(b){a(c._loadPageDOMAsync(b,d))})})}},{key:"_loadPageDOMAsync",value:function(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return new Promise(function(a){Dc.link(c,b,d,function(b){c._contentElement.appendChild(b),c.getActiveTabIndex()!==-1?a(c._switchPage(b,d)):(d.callback instanceof Function&&d.callback(),c._oldPageElement=b,a(b))})})}},{key:"getTabbarId",value:function(){return this._tabbarId}},{key:"_getCurrentPageElement",value:function(){for(var b=this._contentElement.children,c=null,d=0;d<b.length;d++)if("none"!==b[d].style.display){c=b[d];break}if(c&&"ons-page"!==c.nodeName.toLowerCase())throw new Error('Invalid state: page element must be a "ons-page" element.');return c}},{key:"_switchPage",value:function(b,c){var d=this._oldPageElement||J.nullElement;this._oldPageElement=b;var e=this._animatorFactory.newAnimator(c);return new Promise(function(a){d!==J.nullElement&&d._hide(),e.apply(b,d,c.selectedTabIndex,c.previousTabIndex,function(){d!==J.nullElement&&(d.style.display="none"),b.style.display="block",b._show(),c.callback instanceof Function&&c.callback(),a(b)})})}},{key:"setActiveTab",value:function(c){var d=this,e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(e&&"object"!=("undefined"==typeof e?"undefined":a.typeof(e)))throw new Error("options must be an object. You supplied "+e);e.animationOptions=l.extend(e.animationOptions||{},K.parseAnimationOptionsString(this.getAttribute("animation-options"))),!e.animation&&this.hasAttribute("animation")&&(e.animation=this.getAttribute("animation"));var f=this._getActiveTabElement(),g=this._getTabElement(c),h=this.getActiveTabIndex(),i=c,j=this._getCurrentPageElement();if(!g)return Promise.reject("Specified index does not match any tab.");if(i===h)return l.triggerElementEvent(this,"reactive",{index:i,tabItem:g}),Promise.resolve(j);var k=!1;if(l.triggerElementEvent(this,"prechange",{index:i,tabItem:g,cancel:function(){return k=!0}}),k)return g.setInactive(),f&&f.setActive(),Promise.reject("Canceled in prechange event.");g.setActive();var m=!e.keepPage;if(l.arrayFrom(this._getTabbarElement().children).forEach(function(a){a!=g?a.setInactive():m||l.triggerElementEvent(d,"postchange",{index:i,tabItem:g})}),!m)return new Promise(function(a){d._contentElement.appendChild(g.pageElement),g.pageElement.style.display="block",a(d._loadPersistentPageDOM(g.pageElement,params))});var n=function(){var a=!1;(!f&&j||f&&f._pageElement!==j)&&(a=!0);var b={callback:function(){l.triggerElementEvent(d,"postchange",{index:i,tabItem:g}),e.callback instanceof Function&&e.callback()},previousTabIndex:h,selectedTabIndex:i};e.animation&&(b.animation=e.animation),b.animationOptions=e.animationOptions||{};var c=function(b,c){Dc.link(d,b,e,c)};return{v:new Promise(function(a){g._loadPageElement(d._contentElement,function(c){c.style.display="block",a(d._loadPersistentPageDOM(c,b))},c)})}}();return"object"===("undefined"==typeof n?"undefined":a.typeof(n))?n.v:void 0}},{key:"_loadPersistentPageDOM",value:function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return l.isAttached(b)||this._contentElement.appendChild(b),b.removeAttribute("style"),this._switchPage(b,c)}},{key:"setTabbarVisibility",value:function(b){this._contentElement.style[this._top?"top":"bottom"]=b?"":"0px",this._getTabbarElement().style.display=b?"":"none"}},{key:"getActiveTabIndex",value:function(){for(var b=this._getTabbarElement().children,c=0;c<b.length;c++)if(b[c]instanceof window.OnsTabElement&&b[c].isActive&&b[c].isActive())return c;return-1}},{key:"_getActiveTabElement",value:function(){return this._getTabElement(this.getActiveTabIndex())}},{key:"_getTabElement",value:function(b){return this._getTabbarElement().children[b]}},{key:"detachedCallback",value:function(){}
},{key:"_show",value:function(){var b=this._getCurrentPageElement();b&&b._show()}},{key:"_hide",value:function(){var b=this._getCurrentPageElement();b&&b._hide()}},{key:"_destroy",value:function(){for(var b=this._contentElement.children,c=b.length-1;c>=0;c--)b[c]._destroy();this.remove()}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return L.onModifierChanged(c,d,this,Bc)}},{key:"_contentElement",get:function(){return l.findChild(this,".tab-bar__content")}},{key:"_tabbarElement",get:function(){return l.findChild(this,".tab-bar")}},{key:"pages",get:function(){return l.arrayFrom(this._contentElement.children)}}]),c}(ta);window.OnsTabbarElement=document.registerElement("ons-tabbar",{prototype:Fc.prototype}),window.OnsTabbarElement.registerAnimator=function(a,b){if(!(b.prototype instanceof xc))throw new Error('"Animator" param must inherit OnsTabbarElement.TabbarAnimator');Cc[a]=b},window.OnsTabbarElement.rewritables=Dc,window.OnsTabbarElement.TabbarAnimator=xc;var Gc=OnsTabbarElement,Hc={"":"tab-bar--*__item",".tab-bar__button":"tab-bar--*__button"},Ic=l.createElement('\n  <div>\n    <input type="radio" style="display: none">\n    <button class="tab-bar__button tab-bar-inner"></button>\n  </div>\n'),Jc=l.createElement('\n  <div>\n    <div class="tab-bar__icon">\n      <ons-icon icon="ion-cloud"></ons-icon>\n    </div>\n    <div class="tab-bar__label">label</div>\n  </div>\n'),Kc=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;this._pageLoader=oa,this._page=null,this.hasAttribute("label")||this.hasAttribute("icon")?this.hasAttribute("_compiled")||this._compile():la(this,function(){b.hasAttribute("_compiled")||b._compile()}),this._boundOnClick=this._onClick.bind(this)}},{key:"_getPageTarget",value:function(){return this.page||this.getAttribute("page")}},{key:"_compile",value:function(){ca.prepare(this);for(var b=document.createDocumentFragment(),c=!1;this.childNodes[0];){var d=this.childNodes[0];this.removeChild(d),b.appendChild(d),d.nodeType==Node.ELEMENT_NODE&&(c=!0)}for(var e=Ic.cloneNode(!0);e.children[0];)this.appendChild(e.children[0]);this.classList.add("tab-bar__item");var f=l.findChild(this,".tab-bar__button");c?(f.appendChild(b),this._hasDefaultTemplate=!1):(this._hasDefaultTemplate=!0,this._updateDefaultTemplate()),L.initModifier(this,Hc),this._updateRipple(),this.setAttribute("_compiled","")}},{key:"_updateRipple",value:function(){}},{key:"_updateDefaultTemplate",value:function(){function i(){return d.querySelector(".tab-bar__label")}function j(){return d.querySelector("ons-icon")}if(this._hasDefaultTemplate){var b=l.findChild(this,".tab-bar__button");if(0==b.children.length){for(var c=Jc.cloneNode(!0);c.children[0];)b.appendChild(c.children[0]);b.querySelector(".tab-bar__icon")||b.insertBefore(c.querySelector(".tab-bar__icon"),b.firstChild),b.querySelector(".tab-bar__label")||b.appendChild(c.querySelector(".tab-bar__label"))}var d=this,e=this.getAttribute("icon"),f=this.getAttribute("label");if("string"==typeof e)j().setAttribute("icon",e);else{var g=b.querySelector(".tab-bar__icon");g&&g.remove()}if("string"==typeof f)i().textContent=f;else{var h=i();h&&h.remove()}}}},{key:"_onClick",value:function(){var b=this._findTabbarElement();b&&b.setActiveTab(this._findTabIndex())}},{key:"setActive",value:function(){var b=l.findChild(this,"input");b.checked=!0,this.classList.add("active"),l.arrayFrom(this.querySelectorAll("[ons-tab-inactive], ons-tab-inactive")).forEach(function(a){return a.style.display="none"}),l.arrayFrom(this.querySelectorAll("[ons-tab-active], ons-tab-active")).forEach(function(a){return a.style.display="inherit"})}},{key:"setInactive",value:function(){var b=l.findChild(this,"input");b.checked=!1,this.classList.remove("active"),l.arrayFrom(this.querySelectorAll("[ons-tab-inactive], ons-tab-inactive")).forEach(function(a){return a.style.display="inherit"}),l.arrayFrom(this.querySelectorAll("[ons-tab-active], ons-tab-active")).forEach(function(a){return a.style.display="none"})}},{key:"_loadPageElement",value:function(b,c,d){var e=this;this._loadedPage?c(this._loadedPage.element):this._pageLoader.load({page:this._getPageTarget(),parent:b},function(a){e._loadedPage=a,d(a.element,function(b){a.element=b,c(a.element)})})}},{key:"_loadPage",value:function(b,c,d){this._pageLoader.load({page:b,parent:c},function(a){d(a.element)})}},{key:"isActive",value:function(){return this.classList.contains("active")}},{key:"detachedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1),this._loadedPage&&(this._loadedPage.unload(),this._loadedPage=null)}},{key:"attachedCallback",value:function(){var b=this;la(this,function(){b._ensureElementPosition();var a=b._findTabbarElement();if(a.hasAttribute("modifier")){var c=b.hasAttribute("modifier")?b.getAttribute("modifier")+" ":"";b.setAttribute("modifier",c+a.getAttribute("modifier"))}if(b.hasAttribute("active"))!function(){var c=b._findTabIndex();Gc.rewritables.ready(a,function(){setImmediate(function(){return a.setActiveTab(c,{animation:"none"})})})}();else{var d=function(){b._getPageTarget()&&b._loadPageElement(a._contentElement,function(b){b.style.display="none",a._contentElement.appendChild(b)},function(b,c){Gc.rewritables.link(a,b,{},function(a){return c(a)})})};Gc.rewritables.ready(a,d)}b.addEventListener("click",b._boundOnClick,!1)})}},{key:"_findTabbarElement",value:function(){return this.parentNode&&"ons-tabbar"===this.parentNode.nodeName.toLowerCase()?this.parentNode:this.parentNode.parentNode&&"ons-tabbar"===this.parentNode.parentNode.nodeName.toLowerCase()?this.parentNode.parentNode:null}},{key:"_findTabIndex",value:function(){for(var b=this.parentNode.children,c=0;c<b.length;c++)if(this===b[c])return c}},{key:"_ensureElementPosition",value:function(){if(!this._findTabbarElement())throw new Error("This ons-tab element is must be child of ons-tabbar element.")}},{key:"attributeChangedCallback",value:function(b,c,d){var e=this;switch(b){case"modifier":la(this,function(){return L.onModifierChanged(c,d,e,Hc)});break;case"ripple":la(this,function(){return e._updateRipple()});break;case"icon":case"label":la(this,function(){return e._updateDefaultTemplate()});break;case"page":"string"==typeof d&&(this._page=d)}}},{key:"page",set:function(b){this._page=b},get:function(){return this._page}},{key:"pageLoader",set:function(b){if(!(b instanceof na))throw Error("First parameter must be an instance of PageLoader.");this._pageLoader=b},get:function(){return this._pageLoader}},{key:"pageElement",get:function(){if(this._loadedPage)return this._loadedPage.element;var b=this._findTabbarElement(),c=this._findTabIndex();return b._contentElement.children[c]}}]),c}(ta);window.OnsTabElement=document.registerElement("ons-tab",{prototype:Kc.prototype}),document.registerElement("ons-tabbar-item",{prototype:Object.create(Kc.prototype)});var Lc={"":"toolbar-button--*"},Mc=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){this.hasAttribute("_compiled")||this._compile()}},{key:"_compile",value:function(){ca.prepare(this),this.classList.add("toolbar-button"),L.initModifier(this,Lc),this.setAttribute("_compiled","")}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return L.onModifierChanged(c,d,this,Lc)}},{key:"disabled",set:function(b){return l.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}}]),c}(ta);window.OnsToolbarButton=document.registerElement("ons-toolbar-button",{prototype:Mc.prototype});var Nc={"":"navigation-bar--*",".navigation-bar__left":"navigation-bar--*__left",".navigation-bar__center":"navigation-bar--*__center",".navigation-bar__right":"navigation-bar--*__right"},Oc=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;la(this,function(){b.hasAttribute("_compiled")||b._compile()})}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return L.onModifierChanged(c,d,this,Nc)}},{key:"attachedCallback",value:function(){}},{key:"_getToolbarLeftItemsElement",value:function(){return this.querySelector(".left")||J.nullElement}},{key:"_getToolbarCenterItemsElement",value:function(){return this.querySelector(".center")||J.nullElement}},{key:"_getToolbarRightItemsElement",value:function(){return this.querySelector(".right")||J.nullElement}},{key:"_getToolbarBackButtonLabelElement",value:function(){return this.querySelector("ons-back-button .back-button__label")||J.nullElement}},{key:"_getToolbarBackButtonIconElement",value:function(){return this.querySelector("ons-back-button .back-button__icon")||J.nullElement}},{key:"_compile",value:function(){ca.prepare(this),this.classList.add("navigation-bar"),this._ensureToolbarItemElements(),L.initModifier(this,Nc),this.setAttribute("_compiled","")}},{key:"_ensureToolbarItemElements",value:function(){for(var b=this.childNodes.length-1;b>=0;b--)1!=this.childNodes[b].nodeType&&this.removeChild(this.childNodes[b]);var c=this._ensureToolbarElement("center");if(c.classList.add("navigation-bar__title"),1!==this.children.length||!this.children[0].classList.contains("center")){var d=this._ensureToolbarElement("left"),e=this._ensureToolbarElement("right");this.children[0]===d&&this.children[1]===c&&this.children[2]===e||(this.appendChild(d),this.appendChild(c),this.appendChild(e))}}},{key:"_ensureToolbarElement",value:function(b){var c=l.findChild(this,"."+b)||l.create("."+b);return c.classList.add("navigation-bar__"+b),c}}]),c}(ta);window.OnsToolbarElement=document.registerElement("ons-toolbar",{prototype:Oc.prototype});var Pc={".range":"range--*",".range__left":"range--*__left"},Qc=l.createElement('<div>\n  <div class="range__left"></div>\n  <input type="range" class="range">\n</div>'),Rc=["autofocus","disabled","inputmode","max","min","name","placeholder","readonly","size","step","validator","value"],Sc=function(b){function c(){return a.classCallCheck(this,c),a.possibleConstructorReturn(this,Object.getPrototypeOf(c).apply(this,arguments))}return a.inherits(c,b),a.createClass(c,[{key:"createdCallback",value:function(){var b=this;la(this,function(){b.hasAttribute("_compiled")||b._compile(),b._updateBoundAttributes(),b._onChange()})}},{key:"_compile",value:function(){if(ca.prepare(this),!l.findChild(this,".range__left")||!l.findChild(this,"input"))for(var b=Qc.cloneNode(!0);b.children[0];)this.appendChild(b.children[0]);L.initModifier(this,Pc),this.setAttribute("_compiled","")}},{key:"_onChange",value:function(){this._left.style.width=100*this._ratio+"%"}},{key:"attributeChangedCallback",value:function(b,c,d){var e=this;"modifier"===b?L.onModifierChanged(c,d,this,Pc):Rc.indexOf(b)>=0&&la(this,function(){e._updateBoundAttributes(),"min"!==b&&"max"!==b||e._onChange()})}},{key:"attachedCallback",value:function(){this.addEventListener("input",this._onChange)}},{key:"detachedCallback",value:function(){this.removeEventListener("input",this._onChange)}},{key:"_updateBoundAttributes",value:function(){var b=this;Rc.forEach(function(a){b.hasAttribute(a)?b._input.setAttribute(a,b.getAttribute(a)):b._input.removeAttribute(a)})}},{key:"_ratio",get:function(){var b=""===this._input.min?0:parseInt(this._input.min),c=""===this._input.max?100:parseInt(this._input.max);return(this.value-b)/(c-b)}},{key:"_input",get:function(){return this.querySelector("input")}},{key:"_left",get:function(){return this.querySelector(".range__left")}},{key:"disabled",set:function(b){return l.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}},{key:"value",get:function(){return this._input.value},set:function(b){var c=this;la(this,function(){c._input.value=b,c._onChange()})}}]),c}(ta);return window.OnsRangeElement=document.registerElement("ons-range",{prototype:Sc.prototype}),window.addEventListener("load",function(){qa.fastClick=FastClick.attach(document.body)},!1),window.addEventListener("DOMContentLoaded",function(){qa._deviceBackButtonDispatcher.enable(),qa._defaultDeviceBackButtonHandler=qa._deviceBackButtonDispatcher.createHandler(window.document.body,function(){navigator.app.exitApp()}),document.body._gestureDetector=new qa.GestureDetector(document.body)},!1),qa.ready(function(){qa._setupLoadingPlaceHolders()}),(new Viewport).setup(),qa});